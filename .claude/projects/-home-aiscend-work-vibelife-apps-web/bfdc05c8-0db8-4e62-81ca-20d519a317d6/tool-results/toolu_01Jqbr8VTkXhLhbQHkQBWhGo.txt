The file /home/aiscend/work/vibelife/apps/web/src/app/bazi/layout.tsx has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
     1→"use client";
     2→
     3→/**
     4→ * Bazi Route Layout
     5→ * 八字命理专属布局 - 强制设置 skill="bazi"
     6→ */
     7→
     8→import { ReactNode, useEffect, Suspense } from "react";
     9→import { useSkill } from "@/providers";
    10→import { ErrorBoundary, ErrorFallback } from "@/components/error";
    11→import { VibeGlyph, LuminousPaper } from "@/components/core";
    12→
    13→// Loading fallback for Suspense
    14→function BaziLoading() {
    15→  return (
    16→    <LuminousPaper skill="bazi" variant="default" className="min-h-screen">
    17→      <div className="flex items-center justify-center min-h-screen">
    18→        <VibeGlyph size="md" skill="bazi" showAura={true} animate={true} />
    19→      </div>
    20→    </LuminousPaper>
    21→  );
    22→}
    23→
    24→// Error fallback for ErrorBoundary
    25→function BaziErrorFallback() {
    26→  return (
    27→    <LuminousPaper skill="bazi" variant="default" className="min-h-screen">
    28→      <ErrorFallback
    29→        error={new Error("八字命理功能暂时不可用")}
    30→        resetError={() => window.location.reload()}
    31→      />
    32→    </LuminousPaper>
    33→  );
    34→}
    35→
    36→export default function BaziLayout({ children }: { children: ReactNode }) {
    37→  const { setSkill } = useSkill();
    38→
    39→  // 确保进入 bazi 路由时设置正确的 skill
    40→  useEffect(() => {
    41→    setSkill("bazi");
    42→    document.cookie = `vibelife-skill=bazi; path=/; max-age=${60 * 60 * 24 * 365}`;
    43→  }, [setSkill]);
    44→
    45→  return (
    46→    <ErrorBoundary fallback={<BaziErrorFallback />}>
    47→      <Suspense fallback={<BaziLoading />}>
    48→        {children}
    49→      </Suspense>
    50→    </ErrorBoundary>
    51→  );
    52→}
    53→