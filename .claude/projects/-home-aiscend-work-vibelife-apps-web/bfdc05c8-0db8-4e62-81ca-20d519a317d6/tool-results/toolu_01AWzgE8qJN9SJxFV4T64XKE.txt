     1→import type { Metadata, Viewport } from "next";
     2→import { cookies } from "next/headers";
     3→import { Fraunces, Bricolage_Grotesque } from "next/font/google";
     4→import { Providers } from "@/providers";
     5→import { type SkillType } from "@/components/core";
     6→import "./globals.css";
     7→
     8→// ═══════════════════════════════════════════════════════════════════════════
     9→// LUMINOUS PAPER Typography System
    10→// ═══════════════════════════════════════════════════════════════════════════
    11→
    12→// Display Serif - for emotional headlines, insight titles
    13→const fraunces = Fraunces({
    14→  subsets: ["latin"],
    15→  variable: "--font-fraunces",
    16→  display: "swap",
    17→  weight: ["400", "500", "600", "700"],
    18→  style: ["normal", "italic"],
    19→});
    20→
    21→// UI Sans - for body text, buttons, navigation
    22→const bricolage = Bricolage_Grotesque({
    23→  subsets: ["latin"],
    24→  variable: "--font-bricolage",
    25→  display: "swap",
    26→  weight: ["400", "500", "600", "700"],
    27→});
    28→
    29→// ═══════════════════════════════════════════════════════════════════════════
    30→// Metadata
    31→// ═══════════════════════════════════════════════════════════════════════════
    32→
    33→export const metadata: Metadata = {
    34→  title: {
    35→    default: "VibeLife - The Living Companion",
    36→    template: "%s | VibeLife",
    37→  },
    38→  description: "每个人都值得被深度理解 - AI-powered personal growth platform combining Eastern wisdom and modern psychology",
    39→  keywords: ["AI", "personal growth", "八字", "星座", "MBTI", "VibeLife", "命理", "占星", "人格测试"],
    40→  authors: [{ name: "VibeLife" }],
    41→  creator: "VibeLife",
    42→  openGraph: {
    43→    type: "website",
    44→    locale: "zh_CN",
    45→    url: "https://vibelife.app",
    46→    siteName: "VibeLife",
    47→    title: "VibeLife - The Living Companion",
    48→    description: "每个人都值得被深度理解",
    49→    images: [
    50→      {
    51→        url: "/og-image.png",
    52→        width: 1200,
    53→        height: 630,
    54→        alt: "VibeLife",
    55→      },
    56→    ],
    57→  },
    58→  twitter: {
    59→    card: "summary_large_image",
    60→    title: "VibeLife - The Living Companion",
    61→    description: "每个人都值得被深度理解",
    62→  },
    63→  icons: {
    64→    icon: "/favicon.ico",
    65→    apple: "/apple-touch-icon.png",
    66→  },
    67→};
    68→
    69→export const viewport: Viewport = {
    70→  width: "device-width",
    71→  initialScale: 1,
    72→  maximumScale: 1,
    73→  themeColor: [
    74→    { media: "(prefers-color-scheme: light)", color: "#FBF7F1" },
    75→    { media: "(prefers-color-scheme: dark)", color: "#11110F" },
    76→  ],
    77→};
    78→
    79→// ═══════════════════════════════════════════════════════════════════════════
    80→// Root Layout
    81→// ═══════════════════════════════════════════════════════════════════════════
    82→
    83→export default async function RootLayout({
    84→  children,
    85→}: Readonly<{
    86→  children: React.ReactNode;
    87→}>) {
    88→  // 从 cookie 获取 skill（由 middleware 设置）
    89→  const cookieStore = await cookies();
    90→  const skillCookie = cookieStore.get("vibelife-skill");
    91→  const initialSkill = (skillCookie?.value as SkillType) || "bazi";
    92→
    93→  return (
    94→    <html
    95→      lang="zh-CN"
    96→      className={`${fraunces.variable} ${bricolage.variable}`}
    97→      suppressHydrationWarning
    98→    >
    99→      <body className="font-sans antialiased">
   100→        <Providers initialSkill={initialSkill}>
   101→          {children}
   102→        </Providers>
   103→      </body>
   104→    </html>
   105→  );
   106→}
   107→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
