    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/data/anaconda3/envs/ai/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/data/anaconda3/envs/ai/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/home/aiscend/work/fortune_ai/api/chat_routes.py", line 356, in chat_send
    auth = require_auth(request)
  File "/home/aiscend/work/fortune_ai/api/deps.py", line 28, in require_auth
    auth = get_current_auth(request)
  File "/home/aiscend/work/fortune_ai/api/deps.py", line 24, in get_current_auth
    return auth_service.get_user_by_session_token(session_token)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/home/aiscend/work/fortune_ai/services/auth_service.py", line 222, in get_user_by_session_token
    return fortune_db.fetch_one(
           ~~~~~~~~~~~~~~~~~~~~^
        """
        ^^^
    ...<18 lines>...
        (token_hash,),
        ^^^^^^^^^^^^^^
    )
    ^
  File "/home/aiscend/work/fortune_ai/stores/fortune_db.py", line 121, in fetch_one
    with db_cursor(dict_cursor=True) as cur:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/data/anaconda3/envs/ai/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/home/aiscend/work/fortune_ai/stores/fortune_db.py", line 105, in db_cursor
    with db_conn() as conn:
         ~~~~~~~^^
  File "/data/anaconda3/envs/ai/lib/python3.13/contextlib.py", line 141, in __enter__
    return next(self.gen)
  File "/home/aiscend/work/fortune_ai/stores/fortune_db.py", line 77, in db_conn
    p = get_pool()
  File "/home/aiscend/work/fortune_ai/stores/fortune_db.py", line 60, in get_pool
    init_pool(minconn=minconn, maxconn=maxconn)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/aiscend/work/fortune_ai/stores/fortune_db.py", line 51, in init_pool
    dsn = _get_dsn()
  File "/home/aiscend/work/fortune_ai/stores/fortune_db.py", line 36, in _get_dsn
    host = _require_env("FORTUNE_DB_HOST")
  File "/home/aiscend/work/fortune_ai/stores/fortune_db.py", line 27, in _require_env
    raise FortuneDbConfigError(f"missing_env:{name}")
stores.fortune_db.FortuneDbConfigError: missing_env:FORTUNE_DB_HOST