The file /home/aiscend/work/fortune_ai/web-app/src/components/layout/dual-core-layout.tsx has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
   165→] as const
   166→
   167→type MobileTabId = typeof MOBILE_TABS[number]["id"]
   168→
   169→// 移动端底部 Tab 导航 - 支持横向滚动 + 徽章 + 可访问性
   170→function MobileTabBar() {
   171→  const { isSidebarOpen, setSidebarOpen, activeTab, setActiveTab, pendingTaskCount } = useAppStore()
   172→
   173→  // 计算当前激活的 tab
   174→  const currentTab: MobileTabId = !isSidebarOpen ? "chat" : activeTab as MobileTabId
   175→
   176→  const handleTabClick = (tabId: MobileTabId) => {
   177→    if (tabId === "chat") {
   178→      setSidebarOpen(false)
   179→    } else {
   180→      setSidebarOpen(true)
   181→      setActiveTab(tabId as "overview" | "status" | "trends" | "quests" | "relations" | "explore" | "settings")
   182→    }
   183→  }
   184→
   185→  // 获取各 Tab 的徽章数
   186→  const getBadge = (tabId: MobileTabId): number | null => {
   187→    if (tabId === "quests") {
   188→      return pendingTaskCount > 0 ? pendingTaskCount : null
   189→    }
   190→    return null
   191→  }
   192→
   193→  return (
   194→    <nav
   195→      className={cn(
   196→        "flex items-center",
   197→        "h-16 border-t border-border",
   198→        "bg-background",
   199→        "overflow-x-auto scrollbar-none",
   200→        "safe-area-pb" // iOS safe area
   201→      )}
   202→      role="tablist"
   203→      aria-label="导航菜单"
   204→    >
   205→      {MOBILE_TABS.map((tab) => {
   206→        const isActive = currentTab === tab.id
   207→        const Icon = tab.icon
   208→        const badge = getBadge(tab.id)
   209→
   210→        return (
   211→          <button
   212→            key={tab.id}
   213→            role="tab"
   214→            aria-selected={isActive}
   215→            aria-label={`${tab.label}${badge ? `, ${badge}项待处理` : ''}`}
   216→            onClick={() => handleTabClick(tab.id)}
   217→            className={cn(
   218→              "relative flex flex-col items-center justify-center gap-0.5",
   219→              "min-w-[60px] px-2 h-full flex-shrink-0",
   220→              "text-muted-foreground transition-all duration-200",
   221→              "focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-interactive-focus-ring focus-visible:ring-inset",
   222→              isActive && "text-foreground"
   223→            )}
   224→          >
   225→            {/* 选中指示器 */}
   226→            {isActive && (
   227→              <div
   228→                className="absolute top-1 w-8 h-1 rounded-full bg-foreground"
   229→                aria-hidden="true"
   230→              />
   231→            )}
   232→
   233→            {/* Icon with Badge */}
   234→            <div className="relative">
   235→              <Icon className={cn("w-5 h-5", isActive && "scale-110")} aria-hidden="true" />
   236→              {/* 待办徽章 */}
   237→              {badge !== null && (
   238→                <span
   239→                  className={cn(
   240→                    "absolute -top-1 -right-2 min-w-[16px] h-4 px-1",
   241→                    "flex items-center justify-center",
   242→                    "text-[10px] font-bold text-white",
   243→                    "bg-commitment-active rounded-full",
   244→                    "animate-pulse"
   245→                  )}
   246→                  aria-hidden="true"
   247→                >
   248→                  {badge > 99 ? "99+" : badge}
   249→                </span>
   250→              )}
   251→            </div>
   252→
   253→            <span className="text-[10px] font-medium whitespace-nowrap">{tab.label}</span>
   254→          </button>
   255→        )
   256→      })}
   257→    </nav>
   258→  )
   259→}
   260→
   261→// Icons
   262→function ChatIcon({ className }: { className?: string }) {
   263→  return (