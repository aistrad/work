     1→# Mentis OS v3.0 - 资源配置
     2→
     3→## 1. 数据库
     4→
     5→**PostgreSQL (aiscend 服务器)** ✅ 已配置
     6→- 主机: `106.37.170.238`
     7→- 端口: `8224`
     8→- 用户: `postgres`
     9→- 密码: `Ak4_9lScd-69WX`
    10→- 数据库: `mentis_v3`
    11→- 连接字符串: `postgresql://postgres:Ak4_9lScd-69WX@106.37.170.238:8224/mentis_v3`
    12→
    13→## 2. 智谱 GLM (对话/图片)
    14→
    15→**API 控制台**: https://bigmodel.cn/usercenter/equity-mgmt/user-rights
    16→
    17→**API Key**: `42b82ed9a13e4e8890ef3854bb840ef8.TcWZ4DIq0NF2xElF`
    18→
    19→**使用模型**:
    20→| 模型 | 用途 | 说明 |
    21→|------|------|------|
    22→| `glm-4-flash` | 对话 | 快速响应 |
    23→| `glm-4v-flash` | 图片理解 | Vision 模型 |
    24→
    25→**API 文档**: https://bigmodel.cn/dev/api
    26→
    27→## 3. Google Gemini (Embedding)
    28→
    29→**申请地址**: https://aistudio.google.com/app/apikey
    30→
    31→**使用模型**: `text-embedding-004`
    32→- 维度: 768
    33→- 用途: 向量嵌入/语义搜索
    34→
    35→**设置方式**:
    36→```bash
    37→export GEMINI_API_KEY="AIzaSyCRxKvvtDeb1_-yBUVGafNkTuO2QLME9HE"
    38→```
    39→
    40→**快速验证**:
    41→```python
    42→import os
    43→from google import genai
    44→
    45→api_key = os.environ["GEMINI_API_KEY"]
    46→client = genai.Client(api_key=api_key)
    47→
    48→resp = client.models.embed_content(
    49→    model="text-embedding-004",
    50→    contents="hello, world",
    51→)
    52→print(len(resp.embeddings[0].values))  # 768
    53→```
    54→
    55→## 4. Pinecone
    56→
    57→**控制台**: https://app.pinecone.io/
    58→
    59→**API Key**: `pcsk_tVETE_HsAhSvJG9yN2nSdGfkMz2aTefYa72inmvnp97musqf3twzRgDiLEtHDdYAsBmiQ`
    60→
    61→**索引配置**:
    62→- 名称: `mentis-streams`
    63→- **维度: `768`** (与 Gemini text-embedding-004 匹配)
    64→- Metric: `cosine`
    65→
    66→**获取 AGENTS 文档**:
    67→```bash
    68→curl -o CLAUDE.md https://docs.pinecone.io/AGENTS-PYTHON.md
    69→```
    70→
    71→## 5. 语音识别
    72→
    73→**注意**: GLM 暂不支持语音识别。可选方案:
    74→
    75→1. **OpenAI Whisper** (推荐)
    76→   - 需要 OpenAI API Key
    77→   - 支持中英文
    78→
    79→2. **百度 ASR**
    80→   - 免费额度较多
    81→   - 需要申请
    82→
    83→## 6. 环境变量汇总
    84→
    85→```bash
    86→# 数据库
    87→MENTIS_DB_URL=postgresql://postgres:Ak4_9lScd-69WX@106.37.170.238:8224/mentis_v3
    88→
    89→# JWT
    90→MENTIS_JWT_SECRET=mentis-v3-jwt-secret-key-2026-aiscend
    91→
    92→# 智谱 GLM (对话/图片)
    93→GLM_API_KEY=42b82ed9a13e4e8890ef3854bb840ef8.TcWZ4DIq0NF2xElF
    94→GLM_CHAT_MODEL=glm-4-flash
    95→GLM_VISION_MODEL=glm-4v-flash
    96→
    97→# Google Gemini (Embedding)
    98→GEMINI_API_KEY=AIzaSyCRxKvvtDeb1_-yBUVGafNkTuO2QLME9HE
    99→GEMINI_EMBEDDING_MODEL=text-embedding-004
   100→
   101→# Pinecone
   102→PINECONE_API_KEY=pcsk_tVETE_HsAhSvJG9yN2nSdGfkMz2aTefYa72inmvnp97musqf3twzRgDiLEtHDdYAsBmiQ
   103→# PINECONE_HOST=待创建索引后填写
   104→
   105→# 服务提供商
   106→MENTIS_VISION_PROVIDER=glm
   107→MENTIS_EMBEDDING_PROVIDER=gemini
   108→```
   109→
   110→## 7. 启动命令
   111→
   112→```bash
   113→# 后端
   114→cd /home/aiscend/work/mentis
   115→pip install -r requirements.txt
   116→python -m uvicorn api.main:app --port 8100 --reload
   117→
   118→# 前端
   119→cd /home/aiscend/work/mentis/apps/web
   120→pnpm install
   121→pnpm dev
   122→```
   123→
   124→## 8. 服务分工
   125→
   126→| 服务 | 提供商 | 模型 | 状态 |
   127→|------|--------|------|------|
   128→| 对话生成 | GLM | glm-4-flash | ✅ |
   129→| 图片理解 | GLM | glm-4v-flash | ✅ |
   130→| 向量嵌入 | Gemini | text-embedding-004 | ⚠️ 需 API Key |
   131→| 语义搜索 | Pinecone | - | ⚠️ 需创建索引 |
   132→| 语音识别 | - | - | ❌ 待配置 |
   133→
   134→## 9. 待办事项
   135→
   136→- [ ] 配置 `GEMINI_API_KEY` (https://aistudio.google.com/app/apikey)
   137→- [ ] 在 Pinecone 创建 `mentis-streams` 索引 (维度: 768)
   138→- [ ] 配置语音识别服务 (可选)
   139→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
