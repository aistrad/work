     1→version: "1.0"
     2→skill_id: synastry
     3→
     4→collect:
     5→  - name: collect_synastry_info
     6→    description: |
     7→      收集合盘对象的出生信息。
     8→      当用户想要查看合盘但未指定对方信息时调用此工具。
     9→    card_type: collect_synastry_info
    10→    parameters:
    11→      - name: relationship_type
    12→        type: string
    13→        enum: [romantic, spouse, parent_child, sibling, business, friend]
    14→        required: true
    15→        description: 关系类型
    16→      - name: person_name
    17→        type: string
    18→        required: true
    19→        description: 对方姓名或昵称
    20→      - name: birth_date
    21→        type: string
    22→        format: date
    23→        required: true
    24→        description: 出生日期 (YYYY-MM-DD)
    25→      - name: birth_time
    26→        type: string
    27→        format: time
    28→        required: false
    29→        description: 出生时间 (HH:MM)，不填则默认正午
    30→      - name: birth_place
    31→        type: string
    32→        required: true
    33→        description: 出生地点（城市名）
    34→      - name: notes
    35→        type: string
    36→        required: false
    37→        description: 备注信息
    38→      - name: save_relationship
    39→        type: boolean
    40→        required: false
    41→        default: true
    42→        description: 是否保存关系对象
    43→
    44→  - name: select_relationship
    45→    description: |
    46→      展示已保存的关系对象列表，让用户选择。
    47→      当用户已保存过关系对象时优先调用此工具。
    48→    card_type: select_relationship
    49→    parameters:
    50→      - name: relationships
    51→        type: array
    52→        required: true
    53→        description: 关系对象列表（从 Profile 读取）
    54→
    55→compute:
    56→  - name: calculate_synastry
    57→    description: |
    58→      计算两人的合盘分析。
    59→      会根据用户已订阅的 Skill 自动计算对应维度。
    60→    parameters:
    61→      - name: person2_birth_info
    62→        type: object
    63→        required: true
    64→        description: 对方的出生信息
    65→        properties:
    66→          date:
    67→            type: string
    68→            format: date
    69→          time:
    70→            type: string
    71→            format: time
    72→          place:
    73→            type: string
    74→          timezone:
    75→            type: string
    76→      - name: relationship_type
    77→        type: string
    78→        enum: [romantic, spouse, parent_child, sibling, business, friend]
    79→        required: true
    80→        description: 关系类型
    81→      - name: relationship_id
    82→        type: string
    83→        required: false
    84→        description: 已保存的关系对象 ID（如果是从已保存对象发起）
    85→      - name: person_name
    86→        type: string
    87→        required: false
    88→        description: 对方姓名
    89→
    90→display:
    91→  - name: show_synastry_overview
    92→    description: 展示合盘总览卡片，包含综合评分和各维度摘要
    93→    card_type: synastry_overview
    94→    parameters:
    95→      - name: person1
    96→        type: object
    97→        required: true
    98→        description: 用户信息摘要
    99→      - name: person2
   100→        type: object
   101→        required: true
   102→        description: 对方信息摘要
   103→      - name: relationship_type
   104→        type: string
   105→        required: true
   106→      - name: overall_score
   107→        type: number
   108→        required: true
   109→        description: 综合评分 0-100
   110→      - name: dimensions
   111→        type: array
   112→        required: true
   113→        description: 各维度评分
   114→      - name: strengths
   115→        type: array
   116→        required: false
   117→        description: 关系亮点
   118→      - name: challenges
   119→        type: array
   120→        required: false
   121→        description: 需要注意的地方
   122→      - name: advice
   123→        type: array
   124→        required: false
   125→        description: 相处建议
   126→
   127→  - name: show_zodiac_synastry
   128→    description: 展示星座合盘详情
   129→    card_type: zodiac_synastry
   130→    parameters:
   131→      - name: synastry_data
   132→        type: object
   133→        required: true
   134→
   135→  - name: show_bazi_synastry
   136→    description: 展示八字合婚详情
   137→    card_type: bazi_synastry
   138→    parameters:
   139→      - name: synastry_data
   140→        type: object
   141→        required: true
   142→
   143→  - name: show_jungastro_synastry
   144→    description: 展示荣格关系分析
   145→    card_type: jungastro_synastry
   146→    parameters:
   147→      - name: synastry_data
   148→        type: object
   149→        required: true
   150→
   151→action:
   152→  - name: save_relationship
   153→    description: 保存关系对象到用户档案
   154→    parameters:
   155→      - name: name
   156→        type: string
   157→        required: true
   158→        description: 姓名
   159→      - name: relationship_type
   160→        type: string
   161→        required: true
   162→        description: 关系类型
   163→      - name: birth_info
   164→        type: object
   165→        required: true
   166→        description: 出生信息
   167→      - name: notes
   168→        type: string
   169→        required: false
   170→        description: 备注
   171→
   172→  - name: save_synastry_insight
   173→    description: 保存合盘洞察到 vibeRelationship
   174→    parameters:
   175→      - name: relationship_id
   176→        type: string
   177→        required: true
   178→        description: 关系对象 ID
   179→      - name: insight
   180→        type: object
   181→        required: true
   182→        description: 合盘洞察数据
   183→      - name: is_primary
   184→        type: boolean
   185→        required: false
   186→        default: false
   187→        description: 是否设为主要伴侣
   188→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
