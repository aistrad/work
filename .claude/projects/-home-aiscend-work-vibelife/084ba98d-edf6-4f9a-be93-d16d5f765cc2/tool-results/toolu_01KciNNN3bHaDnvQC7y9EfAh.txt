 .claude/skills/README.md                           |   45 +-
 .claude/skills/vibelife-skill/SKILL.md             | 1082 ++----------
 .env.example                                       |   27 +-
 .env.test                                          |   18 +-
 .gitignore                                         |    3 +
 CLAUDE.md                                          |    7 +-
 CORE.md                                            |   26 +-
 README.md                                          |    5 +-
 apps/api/config/models.yaml                        |  117 +-
 apps/api/main.py                                   |  112 +-
 apps/api/migrations/018_drop_fortune_cache.sql     |   17 +
 apps/api/requirements.txt                          |    8 +-
 apps/api/routes/account.py                         |  294 ++--
 apps/api/routes/bazi.py                            |  137 --
 apps/api/routes/chat.py                            | 1214 -------------
 apps/api/routes/chat_v5.py                         |   46 +-
 apps/api/routes/context.py                         |  265 ---
 apps/api/routes/fortune.py                         |  236 ---
 apps/api/routes/memories.py                        |  107 --
 apps/api/routes/onboarding.py                      |  286 ---
 apps/api/routes/relationship.py                    |  336 ----
 apps/api/routes/report.py                          |  388 -----
 apps/api/routes/skills.py                          |  224 +++
 apps/api/routes/tools.py                           |   89 +
 apps/api/routes/vibe_id.py                         |  320 ++++
 apps/api/routes/zodiac.py                          |  365 ----
 apps/api/scripts/build_knowledge.py                |  324 ++++
 apps/api/scripts/build_term_dictionary.py          |    2 +-
 apps/api/scripts/crontab.example                   |   16 +-
 apps/api/scripts/extract_missing_bazi_cases.py     |  336 ++++
 apps/api/scripts/migrate_profiles.py               |  326 ++++
 apps/api/scripts/run_scheduler.py                  |   75 +-
 apps/api/scripts/test_astrology.py                 |   14 +-
 apps/api/services/agent/__init__.py                |  129 +-
 apps/api/services/agent/base.py                    |  435 -----
 apps/api/services/agent/case_matcher.py            |  275 +++
 apps/api/services/agent/core.py                    |  607 ++++---
 apps/api/services/agent/fusion_agent.py            |  202 ---
 apps/api/services/agent/global_handlers.py         |  246 +++
 apps/api/services/agent/orchestrator.py            |  361 ----
 apps/api/services/agent/quota.py                   |  139 --
 apps/api/services/agent/registry.py                |  107 --
 apps/api/services/agent/skill_loader.py            |  584 +++++--
 apps/api/services/agent/skill_service_registry.py  |  249 +++
 apps/api/services/agent/skill_validator.py         |  248 +++
 apps/api/services/agent/skills/__init__.py         |    5 -
 apps/api/services/agent/skills/bazi_agent.py       |   98 --
 apps/api/services/agent/skills/zodiac_agent.py     |   97 --
 apps/api/services/agent/sop_engine.py              |  206 +++
 apps/api/services/agent/sop_state.py               |  202 +++
 apps/api/services/agent/stream_adapter.py          |   56 +-
 apps/api/services/agent/tool_registry.py           |  310 ++++
 apps/api/services/agent/tool_schema.py             |  180 ++
 apps/api/services/agent/usage_tracker.py           |  137 +-
 apps/api/services/bazi/__init__.py                 |   29 -
 apps/api/services/billing/paywall.py               |    5 +-
 apps/api/services/billing/subscription.py          |    5 +-
 apps/api/services/extraction/__init__.py           |   41 -
 apps/api/services/extraction/extraction_service.py |  571 ------
 apps/api/services/extraction/file_processor.py     |  311 ----
 apps/api/services/fortune/__init__.py              |   54 -
 apps/api/services/fortune/fortune_calculator.py    |  414 -----
 apps/api/services/fortune/kline_service.py         |  495 ------
 apps/api/services/greeting/__init__.py             |   33 -
 apps/api/services/greeting/greeting_service.py     |  358 ----
 apps/api/services/identity/__init__.py             |    6 +-
 apps/api/services/identity/account_deletion.py     |  298 ++++
 apps/api/services/identity/auth.py                 |  121 +-
 apps/api/services/identity/oauth.py                |  208 ++-
 apps/api/services/identity/password_reset.py       |  100 --
 apps/api/services/identity/wechat.py               |  381 ++++
 apps/api/services/interview/__init__.py            |   41 -
 apps/api/services/interview/interview_service.py   |  597 -------
 apps/api/services/interview/question_generator.py  |  201 ---
 apps/api/services/knowledge/__init__.py            |   19 +-
 apps/api/services/knowledge/embedding.py           |    2 +-
 apps/api/services/knowledge/repository.py          |  226 +++
 apps/api/services/llm/__init__.py                  |   79 +-
 apps/api/services/model_router/client.py           |    6 +-
 apps/api/services/model_router/config.py           |   97 +-
 apps/api/services/model_router/router.py           |   10 +-
 apps/api/services/proactive/__init__.py            |   28 +
 apps/api/services/proactive/content_generator.py   |  496 ++++++
 apps/api/services/proactive/engine.py              |  301 ++++
 apps/api/services/proactive/trigger_detector.py    |  402 +++++
 apps/api/services/push/__init__.py                 |   23 -
 apps/api/services/push/push_service.py             |  351 ----
 apps/api/services/relationship/__init__.py         |   62 -
 apps/api/services/relationship/card_generator.py   |  225 ---
 .../services/relationship/relationship_service.py  |  401 -----
 apps/api/services/relationship/vibe_link.py        |  382 ----
 apps/api/services/reminder/content_generator.py    |   92 +-
 apps/api/services/reminder/notification.py         |   29 +-
 apps/api/services/reminder/scheduler.py            |  213 +--
 apps/api/services/report/image_generator.py        |   10 +-
 apps/api/services/report/prologue_generator.py     |    1 -
 apps/api/services/report/report_service.py         |   19 +-
 apps/api/services/tarot/__init__.py                |   25 +
 apps/api/services/tarot/tarot_deck.py              |  498 ++++++
 apps/api/services/usage/service.py                 |  296 +++-
 apps/api/services/vibe_engine/__init__.py          |  109 --
 apps/api/services/vibe_engine/context.py           |  508 ------
 apps/api/services/vibe_engine/emotion_engine.py    |  311 ----
 apps/api/services/vibe_engine/insight_generator.py |  392 -----
 apps/api/services/vibe_engine/llm.py               | 1016 -----------
 apps/api/services/vibe_engine/memory_system.py     |  283 ---
 apps/api/services/vibe_engine/portrait.py          |  574 ------
 apps/api/services/vibe_engine/portrait_service.py  |  356 ----
 apps/api/services/vibe_engine/tool_executor.py     |  463 -----
 apps/api/services/vibe_engine/tools.py             |  399 -----
 apps/api/services/zodiac/__init__.py               |   47 -
 apps/api/skills/README.md                          |    2 +-
 apps/api/skills/bazi/EXTRACTION_PROMPT.md          |   80 -
 apps/api/skills/bazi/GITHUB_RESOURCES.md           |  266 ---
 apps/api/skills/bazi/SKILL.md                      |  202 ++-
 apps/api/skills/bazi/meta.json                     |   10 -
 ...3\244\347\224\250\347\245\236\346\263\225.yaml" |   31 -
 ...1\253\351\200\211\347\224\250\346\263\225.yaml" |    9 -
 ...3\244\347\224\250\347\245\236\346\263\225.yaml" |   30 -
 ...1\253\351\200\211\347\224\250\346\263\225.yaml" |    9 -
 ...3\244\347\224\250\347\245\236\346\263\225.yaml" |   28 -
 ...4\250\351\200\211\347\224\250\346\263\225.yaml" |    9 -
 ...4\237\345\205\213\345\210\206\346\236\220.yaml" |   11 -
 ...5\253\345\255\227\345\221\275\347\233\230.yaml" |   12 -
 ...0\274\345\261\200\351\253\230\344\275\216.yaml" |   11 -
 ...0\206\346\236\220\350\241\214\350\277\220.yaml" |   10 -
 ...2\272\347\224\237\350\265\260\345\220\221.yaml" |   10 -
 ...1\275\344\270\273\346\200\247\346\240\274.yaml" |   10 -
 ...1\275\344\270\273\350\277\220\345\212\277.yaml" |   10 -
 ...5\263\347\263\273\345\210\206\346\236\220.yaml" |   12 -
 ...3\244\347\224\250\347\245\236\346\263\225.yaml" |   31 -
 ...0\264\351\200\211\347\224\250\346\263\225.yaml" |    9 -
 ...3\244\347\224\250\347\245\236\346\263\225.yaml" |   32 -
 ...0\210\345\210\206\346\236\220\346\263\225.yaml" |   48 -
 ...3\244\347\224\250\347\245\236\346\263\225.yaml" |   31 -
 ...7\221\351\200\211\347\224\250\346\263\225.yaml" |    9 -
 ...3\244\347\224\250\347\245\236\346\263\225.yaml" |   31 -
 ...4\237\351\200\211\347\224\250\346\263\225.yaml" |    9 -
 ...1\200\345\210\244\346\226\255\346\263\225.yaml" |   53 -
 ...5\236\345\217\226\347\224\250\346\263\225.yaml" |   49 -
 ...3\244\347\224\250\347\245\236\346\263\225.yaml" |   26 -
 ...4\250\351\200\211\347\224\250\346\263\225.yaml" |    9 -
 ...3\244\347\224\250\347\245\236\346\263\225.yaml" |   31 -
 ...1\256\345\256\232\347\224\250\347\245\236.yaml" |   10 -
 ...7\220\346\216\250\346\226\255\346\263\225.yaml" |   48 -
 ...3\244\347\224\250\347\245\236\346\263\225.yaml" |   32 -
 ...3\205\345\210\206\346\236\220\346\263\225.yaml" |   42 -
 apps/api/skills/bazi/optimized_prompt.json         |   97 --
 apps/api/skills/bazi/reminders.yaml                |  130 ++
 apps/api/skills/bazi/rules/rules.yaml              |  497 ------
 .../bazi/scenarios/bage_chengbai_analysis.md       |   57 +
 apps/api/skills/bazi/scenarios/basic_reading.md    |  165 ++
 apps/api/skills/bazi/scenarios/baxiang_analysis.md |   32 +
 .../bazi-qiongtong-daymaster-monthly-analysis.md   |   62 +
 apps/api/skills/bazi/scenarios/bazi_calculation.md |   50 +
 .../bazi/scenarios/bazi_comprehensive_analysis.md  |   91 +
 .../bazi/scenarios/bazi_female_destiny_analysis.md |   71 +
 .../bazi/scenarios/bazi_fortune_cycle_analysis.md  |   63 +
 .../skills/bazi/scenarios/bazi_health_analysis.md  |   65 +
 .../bazi/scenarios/bazi_six_relations_analysis.md  |   63 +
 .../bazi/scenarios/bazi_wealth_status_analysis.md  |   64 +
 ...224\250\347\245\236\345\217\226\347\224\250.md" |   36 +
 ...241\214\350\277\220\345\210\206\346\236\220.md" |   33 +
 ...241\260\346\227\272\345\210\206\346\236\220.md" |   34 +
 .../bazi/scenarios/bijie_bangshen_analysis.md      |   53 +
 .../bazi/scenarios/bijie_zhengcai_analysis.md      |   53 +
 apps/api/skills/bazi/scenarios/bindao_ten_gods.md  |   38 +
 .../scenarios/branch_stem_interaction_analysis.md  |   43 +
 .../bazi/scenarios/caiduo_shenruo_analysis.md      |   53 +
 .../bazi/scenarios/caiguan_shuangmei_analysis.md   |   53 +
 .../bazi/scenarios/caisheng_shawang_analysis.md    |   53 +
 apps/api/skills/bazi/scenarios/career.md           |  195 +++
 .../bazi/scenarios/children_fortune_analysis.md    |   35 +
 apps/api/skills/bazi/scenarios/chonghe_analysis.md |   47 +
 apps/api/skills/bazi/scenarios/chongji_analysis.md |   40 +
 .../bazi/scenarios/chou_yao_si_lu_analysis.md      |   34 +
 apps/api/skills/bazi/scenarios/compatibility.md    |  168 ++
 .../bazi/scenarios/comprehensive_reading_method.md |   76 +
 .../scenarios/daily_fortune_return_analysis.md     |   36 +
 apps/api/skills/bazi/scenarios/dayun.md            |  190 ++
 apps/api/skills/bazi/scenarios/dayun_analysis.md   |   38 +
 .../bazi/scenarios/destiny_improvement_service.md  |   56 +
 .../bazi/scenarios/dizhi_clash_combine_analysis.md |   53 +
 .../scenarios/fate_improvement_consultation.md     |   42 +
 .../bazi/scenarios/female_marriage_shishen.md      |   53 +
 .../five_elements_regional_seasonal_analysis.md    |   36 +
 .../bazi/scenarios/fugui_pianjian_analysis.md      |   53 +
 .../bazi/scenarios/ganzhi_coordination_analysis.md |   53 +
 .../skills/bazi/scenarios/ganzhi_image_reading.md  |   45 +
 .../skills/bazi/scenarios/geju_chengbai_jiuying.md |   80 +
 .../bazi/scenarios/guan_sha_qu_liu_analysis.md     |   39 +
 .../bazi/scenarios/guansha_hunza_analysis.md       |   53 +
 .../bazi/scenarios/guanyin_xiangsheng_analysis.md  |   53 +
 .../bazi/scenarios/health_longevity_analysis.md    |   53 +
 .../bazi/scenarios/hidden_stem_nayin_analysis.md   |   40 +
 .../bazi/scenarios/hidden_ten_gods_analysis.md     |   83 +
 apps/api/skills/bazi/scenarios/huaqi_analysis.md   |   42 +
 .../bazi/scenarios/hui_he_xing_hai_analysis.md     |   40 +
 apps/api/skills/bazi/scenarios/jinshen_analysis.md |   24 +
 .../skills/bazi/scenarios/kongmu_renlu_analysis.md |   51 +
 .../bazi/scenarios/koujue_applicability_check.md   |   55 +
 apps/api/skills/bazi/scenarios/kuigang_analysis.md |   30 +
 apps/api/skills/bazi/scenarios/life_blueprint.md   |  160 ++
 .../bazi/scenarios/liuchong_effect_analysis.md     |   55 +
 apps/api/skills/bazi/scenarios/liuge_analysis.md   |   33 +
 apps/api/skills/bazi/scenarios/liuqin_analysis.md  |   38 +
 .../skills/bazi/scenarios/longevity_analysis.md    |   37 +
 .../skills/bazi/scenarios/male_marriage_shishen.md |   53 +
 .../bazi/scenarios/marriage_fortune_analysis.md    |   35 +
 .../scenarios/monthly_branch_daymaster_analysis.md |   28 +
 apps/api/skills/bazi/scenarios/nayin_analysis.md   |   30 +
 .../bazi/scenarios/nayin_sixty_jiazi_analysis.md   |   63 +
 .../bazi/scenarios/nianzhu_early_life_analysis.md  |   54 +
 .../bazi/scenarios/pattern_image_analysis.md       |   53 +
 apps/api/skills/bazi/scenarios/personality.md      |  104 ++
 .../scenarios/personality_appearance_analysis.md   |   64 +
 .../bazi/scenarios/pian_guan_qisha_analysis.md     |   40 +
 .../bazi/scenarios/qi_ming_cong_sha_analysis.md    |   25 +
 apps/api/skills/bazi/scenarios/quick_query.md      |   78 +
 apps/api/skills/bazi/scenarios/relationship.md     |  142 ++
 .../bazi/scenarios/ren_qi_long_bei_analysis.md     |   31 +
 .../skills/bazi/scenarios/rigui_ride_analysis.md   |   30 +
 .../skills/bazi/scenarios/rizhi_spouse_analysis.md |   55 +
 .../bazi/scenarios/sanshu_ronghe_analysis.md       |   62 +
 apps/api/skills/bazi/scenarios/sanxing_analysis.md |   38 +
 .../skills/bazi/scenarios/shangguan_analysis.md    |   34 +
 .../bazi/scenarios/shangguan_jianguan_analysis.md  |   53 +
 .../bazi/scenarios/shangguan_peiyin_analysis.md    |   53 +
 .../bazi/scenarios/shangguan_shengcai_analysis.md  |   54 +
 .../bazi/scenarios/shawang_wuzhi_analysis.md       |   53 +
 .../bazi/scenarios/shayin_xiangsheng_analysis.md   |   53 +
 .../api/skills/bazi/scenarios/shiganlu_analysis.md |   36 +
 .../bazi/scenarios/shishen_balance_diagnosis.md    |   54 +
 .../bazi/scenarios/shishen_career_matching.md      |   55 +
 .../bazi/scenarios/shishen_combination_analysis.md |   53 +
 .../bazi/scenarios/shishen_pattern_analysis.md     |   43 +
 .../bazi/scenarios/shishen_personality_analysis.md |   53 +
 .../scenarios/shishen_relationship_analysis.md     |   55 +
 .../bazi/scenarios/shishen_shengcai_analysis.md    |   54 +
 .../bazi/scenarios/shizhu_later_life_analysis.md   |   54 +
 .../bazi/scenarios/six_relatives_analysis.md       |   68 +
 .../bazi/scenarios/special_pattern_analysis.md     |   32 +
 .../special_symbol_combination_analysis.md         |   41 +
 .../skills/bazi/scenarios/star_spirit_analysis.md  |   35 +
 .../bazi/scenarios/stem_branch_depth_analysis.md   |  108 ++
 apps/api/skills/bazi/scenarios/taisui_analysis.md  |   37 +
 .../bazi/scenarios/tancai_huaiyin_analysis.md      |   53 +
 .../bazi/scenarios/ten_gods_pattern_analysis.md    |   87 +
 .../bazi/scenarios/tiangan_character_analysis.md   |   53 +
 .../bazi/scenarios/tiangan_hehua_analysis.md       |   62 +
 .../bazi/scenarios/tiangan_personality_analysis.md |   59 +
 .../bazi/scenarios/tiangan_shengsi_analysis.md     |   30 +
 .../bazi/scenarios/tiaohou_yongshen_analysis.md    |   53 +
 apps/api/skills/bazi/scenarios/timing.md           |  150 ++
 .../bazi/scenarios/twelve_stages_analysis.md       |   48 +
 .../scenarios/unfavorable_luck_period_guidance.md  |   42 +
 apps/api/skills/bazi/scenarios/wealth.md           |  142 ++
 .../bazi/scenarios/wealth_poverty_analysis.md      |   38 +
 apps/api/skills/bazi/scenarios/wuxing_analysis.md  |   33 +
 .../skills/bazi/scenarios/wuxing_ratio_analysis.md |   50 +
 apps/api/skills/bazi/scenarios/xiaoer_analysis.md  |   31 +
 .../bazi/scenarios/xiaoshen_duoshi_analysis.md     |   53 +
 .../skills/bazi/scenarios/xingchong_huihe_jiefa.md |   64 +
 .../skills/bazi/scenarios/yangblade_analysis.md    |   33 +
 apps/api/skills/bazi/scenarios/yangren_analysis.md |   37 +
 apps/api/skills/bazi/scenarios/yearly_fortune.md   |  189 ++
 .../skills/bazi/scenarios/yinyang_flow_analysis.md |   53 +
 .../api/skills/bazi/scenarios/yongshen_analysis.md |   54 +
 .../bazi/scenarios/yongshen_wufa_analysis.md       |   82 +
 .../skills/bazi/scenarios/yuezhu_youth_analysis.md |   54 +
 .../bazi/scenarios/zheng_guan_pattern_analysis.md  |   40 +
 .../skills/bazi/scenarios/zi_yao_si_lu_analysis.md |   32 +
 apps/api/skills/bazi/scenarios_filter_config.yaml  |  127 ++
 apps/api/skills/bazi/services/__init__.py          |   57 +
 apps/api/skills/bazi/services/api.py               |  263 +++
 .../bazi/services/calculator.py}                   |    0
 apps/api/skills/bazi/services/computer.py          |  737 ++++++++
 .../bazi => skills/bazi/services}/interpreter.py   |    0
 apps/api/skills/bazi/tools/handlers.py             |  252 +++
 apps/api/skills/bazi/tools/tools.yaml              |  140 ++
 apps/api/skills/bazi/workflows/main_flow.yaml      |   91 -
 apps/api/skills/career/GITHUB_RESOURCES.md         |  219 ---
 apps/api/skills/career/SKILL.md                    |  174 +-
 apps/api/skills/career/methods/career_anchors.yaml |  123 --
 .../skills/career/methods/career_transition.yaml   |  169 --
 .../skills/career/methods/design_your_life.yaml    |   77 -
 .../skills/career/methods/enneagram_analysis.yaml  |  224 ---
 .../skills/career/methods/holland_assessment.yaml  |   93 -
 .../skills/career/methods/ikigai_framework.yaml    |   76 -
 apps/api/skills/career/methods/mbti_analysis.yaml  |  120 --
 .../api/skills/career/methods/skill_inventory.yaml |   79 -
 .../skills/career/methods/strengths_finder.yaml    |   77 -
 .../career/methods/values_clarification.yaml       |   72 -
 apps/api/skills/career/rules/rules.yaml            |  378 ----
 .../skills/career/scenarios/career_direction.md    |   75 +
 .../skills/career/scenarios/career_transition.md   |   78 +
 apps/api/skills/career/scenarios/industry_match.md |   83 +
 apps/api/skills/career/scenarios/leadership.md     |   85 +
 apps/api/skills/career/scenarios/life_design.md    |   84 +
 .../skills/career/scenarios/personality_brief.md   |   71 +
 apps/api/skills/career/scenarios/strengths.md      |   72 +
 .../api/skills/career/scenarios_filter_config.yaml |   95 +
 apps/api/skills/career/services/__init__.py        |    3 +
 apps/api/skills/career/services/api.py             |  292 ++++
 apps/api/skills/career/tools/handlers.py           |  151 ++
 apps/api/skills/career/tools/tools.yaml            |   42 +
 apps/api/skills/career/workflows/main_flow.yaml    |  113 --
 apps/api/skills/core/SKILL.md                      |   19 +
 apps/api/skills/core/reminders.yaml                |  165 ++
 apps/api/skills/core/tools/handlers.py             |  388 +++++
 apps/api/skills/core/tools/tools.yaml              |  198 +++
 apps/api/skills/tarot/GITHUB_RESOURCES.md          |  161 --
 apps/api/skills/tarot/SKILL.md                     |  235 +--
 apps/api/skills/tarot/case_filter_config.yaml      |  188 ++
 .../skills/tarot/methods/elemental_dignities.yaml  |  129 --
 .../tarot/methods/narrative_integration.yaml       |  114 --
 .../skills/tarot/methods/pattern_recognition.yaml  |  122 --
 .../skills/tarot/methods/position_interaction.yaml |  117 --
 .../tarot/methods/reversal_interpretation.yaml     |   74 -
 apps/api/skills/tarot/rules/rules.yaml             |  530 ------
 apps/api/skills/tarot/scenarios/career_reading.md  |   79 +
 apps/api/skills/tarot/scenarios/celtic_cross.md    |   85 +
 apps/api/skills/tarot/scenarios/decision_spread.md |   79 +
 apps/api/skills/tarot/scenarios/love_reading.md    |   79 +
 apps/api/skills/tarot/scenarios/shadow_work.md     |   81 +
 apps/api/skills/tarot/scenarios/single_card.md     |   76 +
 apps/api/skills/tarot/scenarios/three_card.md      |   67 +
 apps/api/skills/tarot/scenarios/year_ahead.md      |   81 +
 apps/api/skills/tarot/scenarios/yes_no.md          |   70 +
 apps/api/skills/tarot/scenarios_filter_config.yaml |  100 ++
 apps/api/skills/tarot/services/__init__.py         |    3 +
 apps/api/skills/tarot/services/api.py              |  186 ++
 apps/api/skills/tarot/tools/handlers.py            |   90 +
 apps/api/skills/tarot/tools/tools.yaml             |   37 +
 apps/api/skills/tarot/workflows/main_flow.yaml     |  157 --
 apps/api/skills/vibe_id/SKILL.md                   |   72 +
 apps/api/skills/vibe_id/__init__.py                |   45 +
 .../skills/vibe_id/config/archetype_metadata.yaml  |  519 ++++++
 apps/api/skills/vibe_id/config/bazi_mappings.yaml  |  396 +++++
 .../skills/vibe_id/config/combination_rules.yaml   |  264 +++
 apps/api/skills/vibe_id/config/vibe_id_config.yaml |  206 +++
 .../api/skills/vibe_id/config/zodiac_mappings.yaml |  285 +++
 apps/api/skills/vibe_id/models.py                  |  422 +++++
 .../skills/vibe_id/scenarios/calculate_vibe_id.md  |   68 +
 apps/api/skills/vibe_id/services/__init__.py       |   27 +
 .../skills/vibe_id/services/analyzers/__init__.py  |   18 +
 .../vibe_id/services/analyzers/bazi_analyzer.py    |  573 ++++++
 .../vibe_id/services/analyzers/zodiac_analyzer.py  |  383 ++++
 apps/api/skills/vibe_id/services/config_loader.py  |  757 ++++++++
 apps/api/skills/vibe_id/services/explainer.py      |  343 ++++
 apps/api/skills/vibe_id/services/fusion_engine.py  |  458 +++++
 apps/api/skills/vibe_id/services/service.py        |  455 +++++
 apps/api/skills/vibe_id/tools/handlers.py          |  247 +++
 apps/api/skills/vibe_id/tools/tools.yaml           |   67 +
 apps/api/skills/zodiac/EXTRACTION_PROMPT.md        |   89 -
 apps/api/skills/zodiac/GITHUB_RESOURCES.md         |  299 ----
 apps/api/skills/zodiac/SKILL.md                    |  178 +-
 .../decision_trees/aspect_interpretation.yaml      |  231 ---
 .../zodiac/decision_trees/transit_priority.yaml    |  233 ---
 .../zodiac/methods/aspect_pattern_analysis.yaml    |   50 -
 .../methods/difficult_transit_navigation.yaml      |   54 -
 .../skills/zodiac/methods/house_ruler_chain.yaml   |   47 -
 .../methods/karmic_pattern_identification.yaml     |   51 -
 .../zodiac/methods/natal_aspect_synthesis.yaml     |   56 -
 .../zodiac/methods/nodal_axis_interpretation.yaml  |   48 -
 .../zodiac/methods/outer_planet_transit.yaml       |   51 -
 .../skills/zodiac/methods/projection_analysis.yaml |   53 -
 .../zodiac/methods/relationship_synastry.yaml      |   47 -
 .../zodiac/methods/saturn_cycle_analysis.yaml      |   57 -
 .../zodiac/methods/solar_return_analysis.yaml      |   47 -
 .../zodiac/methods/sun_moon_integration.yaml       |   49 -
 .../api/skills/zodiac/methods/timing_analysis.yaml |   50 -
 .../zodiac/methods/transit_aspect_analysis.yaml    |   54 -
 .../zodiac/methods/transit_house_analysis.yaml     |   50 -
 apps/api/skills/zodiac/optimized_prompt.json       |   62 -
 apps/api/skills/zodiac/reminders.yaml              |  122 ++
 apps/api/skills/zodiac/rules/rules.yaml            | 1842 --------------------
 .../skills/zodiac/scenarios/ascendant_analysis.md  |   63 +
 .../zodiac/scenarios/aspect_interpretation.md      |   63 +
 apps/api/skills/zodiac/scenarios/basic_chart.md    |   77 +
 .../zodiac/scenarios/career_zodiac_guidance.md     |   54 +
 .../skills/zodiac/scenarios/element_analysis.md    |   63 +
 apps/api/skills/zodiac/scenarios/house_analysis.md |   54 +
 .../skills/zodiac/scenarios/love_compatibility.md  |   63 +
 .../zodiac/scenarios/lunar_cycle_analysis.md       |   63 +
 apps/api/skills/zodiac/scenarios/natal.md          |  159 ++
 apps/api/skills/zodiac/scenarios/saturn_cycle.md   |  141 ++
 apps/api/skills/zodiac/scenarios/solar_return.md   |  162 ++
 apps/api/skills/zodiac/scenarios/sun_sign.md       |   74 +
 apps/api/skills/zodiac/scenarios/synastry.md       |  164 ++
 apps/api/skills/zodiac/scenarios/transit.md        |  146 ++
 .../api/skills/zodiac/scenarios_filter_config.yaml |  227 +++
 apps/api/skills/zodiac/services/__init__.py        |   61 +
 apps/api/skills/zodiac/services/api.py             |  392 +++++
 .../zodiac/services/calculator.py}                 |  218 +++
 apps/api/skills/zodiac/services/computer.py        |  277 +++
 .../zodiac => skills/zodiac/services}/events.py    |    8 +-
 .../zodiac/templates/comprehensive_reading.yaml    |  264 ---
 apps/api/skills/zodiac/tools/handlers.py           |  224 +++
 apps/api/skills/zodiac/tools/tools.yaml            |   82 +
 apps/api/skills/zodiac/workflows/main_flow.yaml    |  121 --
 apps/api/start_api.sh                              |    6 +-
 apps/api/stores/fortune_repo.py                    |  100 --
 .../api/stores/migrations/001_expert_system_v6.sql |  243 +++
 .../migrations/002_cases_source_tracking.sql       |   74 +
 .../stores/migrations/003_drop_scenario_tables.sql |   36 +
 apps/api/stores/migrations/004_fix_functions.sql   |   77 +
 .../migrations/005_chunk_based_extractor.sql       |   61 +
 .../stores/migrations/006_extracted_scenarios.sql  |   49 +
 .../vibe_engine => stores}/profile_cache.py        |   53 +-
 apps/api/stores/profile_repo.py                    |  354 ----
 apps/api/stores/skill_data_repo.py                 |  145 --
 apps/api/stores/unified_profile_repo.py            |    2 +-
 apps/api/stores/usage_repo.py                      |   93 -
 apps/api/tests/conftest.py                         |  546 +++++-
 apps/api/tests/test_bazi_tools.py                  |  175 --
 apps/api/tests/test_billing_service.py             |   77 +-
 apps/api/tests/test_chat_api.py                    |  556 ------
 apps/api/tests/test_interview.py                   |   12 +-
 apps/api/tests/test_payment.py                     |  323 ----
 apps/api/tests/test_report.py                      |    6 +-
 apps/api/tests/test_tool_calling.py                |   12 +-
 apps/api/tests/test_v3_integration.py              |  352 ----
 apps/api/tests/test_vibe_engine.py                 |  233 ---
 apps/api/tools/__init__.py                         |    2 -
 apps/api/tools/bazi/__init__.py                    |    8 -
 apps/api/tools/bazi/analysis.py                    |  296 ----
 apps/api/tools/bazi/calculator.py                  |  277 ---
 apps/api/tools/bazi/transit.py                     |  259 ---
 apps/api/tools/zodiac/__init__.py                  |    8 -
 apps/api/tools/zodiac/chart.py                     |  293 ----
 apps/api/tools/zodiac/transit.py                   |  140 --
 apps/api/workers/account_deletion_worker.py        |   79 +
 apps/api/workers/case_extractor.py                 |  480 +++++
 apps/api/workers/daily_extraction.py               |   98 --
 apps/api/workers/ingestion.py                      |   14 +-
 apps/api/workers/proactive_worker.py               |  111 ++
 apps/api/workers/profile_extractor.py              |  307 ++++
 apps/api/workers/quality_checker.py                |  541 ++++++
 apps/api/workers/scenario_extractor.py             |  442 +++++
 apps/api/workers/skill_md_syncer.py                |  302 ++++
 apps/web/next.config.js                            |   13 +-
 apps/web/src/app/auth/forgot-password/page.tsx     |   65 +-
 apps/web/src/app/auth/login/page.tsx               |  230 ++-
 apps/web/src/app/auth/register/page.tsx            |  379 ++--
 apps/web/src/app/auth/reset-password/page.tsx      |   45 +-
 apps/web/src/app/auth/sso-callback/page.tsx        |   43 +-
 apps/web/src/app/bazi/chat/page.tsx                |   89 -
 apps/web/src/app/bazi/kline/page.tsx               |   14 -
 apps/web/src/app/bazi/layout.tsx                   |   52 -
 apps/web/src/app/bazi/page.tsx                     |  370 ----
 apps/web/src/app/bazi/relationship/page.tsx        |  157 --
 apps/web/src/app/bazi/report/page.tsx              |  187 --
 apps/web/src/app/chat/loading.tsx                  |   45 +
 apps/web/src/app/chat/page.tsx                     |  253 ++-
 apps/web/src/app/error.tsx                         |   94 +
 apps/web/src/app/globals.css                       | 1330 ++++++++------
 apps/web/src/app/identity/page.tsx                 |  626 ++++---
 apps/web/src/app/loading.tsx                       |   30 +
 apps/web/src/app/membership/page.tsx               |  289 +--
 apps/web/src/app/onboarding/steps/AhaStep.tsx      |   24 +-
 .../src/app/onboarding/steps/ConversionStep.tsx    |   26 +-
 apps/web/src/app/onboarding/steps/LandingStep.tsx  |   22 +-
 apps/web/src/app/onboarding/steps/LoadingStep.tsx  |   34 +-
 apps/web/src/app/page.tsx                          |  461 +++--
 apps/web/src/app/payment/cancel/page.tsx           |    4 +-
 apps/web/src/app/relationship/page.tsx             |   12 +-
 apps/web/src/app/report/page.tsx                   |   17 +-
 apps/web/src/app/settings/page.tsx                 |  175 +-
 apps/web/src/app/test/page.tsx                     |   19 +-
 apps/web/src/app/zodiac/chat/page.tsx              |   57 -
 apps/web/src/app/zodiac/kline/page.tsx             |   14 -
 apps/web/src/app/zodiac/layout.tsx                 |   51 -
 apps/web/src/app/zodiac/page.tsx                   |  351 ----
 apps/web/src/app/zodiac/relationship/page.tsx      |  109 --
 apps/web/src/app/zodiac/report/page.tsx            |  183 --
 apps/web/src/components/auth/AuthLayout.tsx        |  260 +++
 apps/web/src/components/auth/OAuthButtons.tsx      |    4 +-
 apps/web/src/components/chart/BaziChart.tsx        |    2 +-
 apps/web/src/components/chat/ChatContainer.tsx     |   84 +-
 apps/web/src/components/chat/ChatInput.tsx         |    4 +-
 apps/web/src/components/chat/ChatLayout.tsx        |   17 +-
 apps/web/src/components/chat/ChatMessage.tsx       |  367 ++--
 apps/web/src/components/core/LuminousPaper.tsx     |    2 +-
 apps/web/src/components/greeting/DailyGreeting.tsx |   16 +-
 .../web/src/components/home/NotificationCenter.tsx |    8 +-
 apps/web/src/components/identity/IdentityPrism.tsx |    2 +-
 apps/web/src/components/identity/index.tsx         |  383 ++++
 apps/web/src/components/insight/InsightCard.tsx    |   18 +-
 apps/web/src/components/insight/InsightPanel.tsx   |    8 +-
 apps/web/src/components/insight/InsightPanelV2.tsx |    4 +-
 .../src/components/interview/InterviewModal.tsx    |    4 +-
 apps/web/src/components/landing/index.tsx          |  361 ++++
 apps/web/src/components/layout/AppShell.tsx        |   12 +-
 apps/web/src/components/layout/PCLayout.tsx        |  340 ++--
 .../web/src/components/layout/ResponsiveLayout.tsx |  353 ++++
 apps/web/src/components/layout/index.ts            |   10 +
 .../src/components/layout/panels/ChartPanel.tsx    |    8 +-
 .../web/src/components/layout/panels/ChatPanel.tsx |   10 +-
 .../src/components/layout/panels/JourneyPanel.tsx  |    6 +-
 apps/web/src/components/layout/panels/MePanel.tsx  |   10 +-
 apps/web/src/components/paywall/LockedFeature.tsx  |    3 +-
 .../components/relationship/RelationshipCard.tsx   |   14 +-
 .../relationship/RelationshipSimulator.tsx         |    6 +-
 apps/web/src/components/script/ScriptCard.tsx      |   41 +-
 apps/web/src/components/trend/KLineFullView.tsx    |    4 +-
 apps/web/src/components/trend/LifeKLine.tsx        |    2 +-
 apps/web/src/components/trend/NowNextCard.tsx      |    6 +-
 apps/web/src/components/ui/Button.tsx              |  102 +-
 apps/web/src/components/ui/Card.tsx                |  124 +-
 apps/web/src/components/ui/Input.tsx               |  237 ++-
 apps/web/src/components/ui/Skeleton.tsx            |  210 ++-
 apps/web/src/components/ui/VoiceModeToggle.tsx     |    4 +-
 apps/web/src/hooks/useToolSchema.ts                |  137 ++
 apps/web/src/hooks/useVibeChat.ts                  |   37 +-
 apps/web/src/providers/AuthProvider.tsx            |  367 +++-
 apps/web/src/providers/SkillProvider.tsx           |   27 +-
 apps/web/src/skills/CardRegistry.ts                |  142 ++
 apps/web/src/skills/bazi/cards/BaziChartCard.tsx   |  288 +++
 .../src/skills/bazi/cards/BaziDailyFortuneCard.tsx |  163 ++
 apps/web/src/skills/bazi/cards/BaziFortuneCard.tsx |  182 ++
 apps/web/src/skills/bazi/cards/BaziKlineCard.tsx   |  171 ++
 apps/web/src/skills/bazi/cards/index.ts            |   17 +
 apps/web/src/skills/bazi/tools/index.ts            |    3 +
 apps/web/src/skills/bazi/tools/show-bazi-chart.tsx |   10 +-
 .../src/skills/bazi/tools/show-daily-fortune.tsx   |  133 ++
 apps/web/src/skills/bazi/tools/show-fortune.tsx    |    2 +-
 apps/web/src/skills/bazi/tools/show-kline.tsx      |    2 +-
 apps/web/src/skills/career/tools/index.tsx         |  260 +++
 apps/web/src/skills/initCards.ts                   |   65 +
 apps/web/src/skills/shared-tools.tsx               |    4 +-
 apps/web/src/skills/shared/CollectFormCard.tsx     |  152 ++
 apps/web/src/skills/shared/InsightCard.tsx         |   83 +
 .../skills/shared/ServiceRecommendationCard.tsx    |   76 +
 apps/web/src/skills/shared/SkillServicesCard.tsx   |  145 ++
 apps/web/src/skills/tarot/tools/index.tsx          |  203 +++
 .../skills/vibe-id/components/ArchetypeBadge.tsx   |   92 +
 .../skills/vibe-id/components/ArchetypeRadar.tsx   |  478 +++++
 .../src/skills/vibe-id/components/DimensionRow.tsx |  129 ++
 .../src/skills/vibe-id/components/VibeIDCard.tsx   |  422 +++++
 apps/web/src/skills/vibe-id/constants/styles.ts    |  133 ++
 apps/web/src/skills/vibe-id/hooks/useVibeID.ts     |  313 ++++
 apps/web/src/skills/vibe-id/index.ts               |   58 +
 apps/web/src/skills/vibe-id/tools/show-vibe-id.tsx |  146 ++
 .../src/skills/zodiac/cards/ZodiacChartCard.tsx    |  273 +++
 .../skills/zodiac/cards/ZodiacLunarPhaseCard.tsx   |  173 ++
 .../src/skills/zodiac/cards/ZodiacTransitCard.tsx  |  154 ++
 apps/web/src/skills/zodiac/cards/index.ts          |   15 +
 .../web/src/skills/zodiac/panels/SynastryPanel.tsx |    2 +-
 apps/web/src/skills/zodiac/panels/TransitPanel.tsx |    2 +-
 apps/web/src/skills/zodiac/tools/index.ts          |    3 +
 .../src/skills/zodiac/tools/show-lunar-phase.tsx   |  147 ++
 apps/web/src/skills/zodiac/tools/show-synastry.tsx |    2 +-
 apps/web/src/skills/zodiac/tools/show-transit.tsx  |    2 +-
 .../src/skills/zodiac/tools/show-zodiac-chart.tsx  |    2 +-
 apps/web/src/types/vibe-id.ts                      |  685 ++++++++
 apps/web/src/utils/storage.ts                      |  225 +++
 apps/web/tailwind.config.ts                        |  233 ++-
 apps/web/tsconfig.tsbuildinfo                      |    2 +-
 deploy/aiscend/.env.example                        |   15 +-
 docker-compose.yml                                 |    4 +-
 k8s/secrets.yaml.example                           |    5 +-
 migrations/019_auth_refactor.sql                   |  111 ++
 .../07247437609eea9af43a2db7debdc2f03a167331.zip   |  Bin 6926459 -> 0 bytes
 .../9afeb457540dc795a63a34d44f0643a8ad5026a8.webm  |  Bin 2946416 -> 0 bytes
 .../aa8a513d40313815eb17fdbfdcf34bfc02b7de83.png   |  Bin 478093 -> 0 bytes
 .../d948dc1ebb0f179105382d702b78f4755cf95783.md    |   99 --
 playwright-report/index.html                       |    2 +-
 playwright-report/results.json                     |  167 +-
 playwright.config.ts                               |    2 +-
 570 files changed, 44384 insertions(+), 33565 deletions(-)