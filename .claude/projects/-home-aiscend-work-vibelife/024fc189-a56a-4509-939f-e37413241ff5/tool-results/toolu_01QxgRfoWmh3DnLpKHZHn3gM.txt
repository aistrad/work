     1â†’"use client";
     2â†’
     3â†’/**
     4â†’ * ArchetypeCard - è£æ ¼åŸå‹ç”»åƒå¡ç‰‡ï¼ˆæ ¸å¿ƒåˆ›æ–°ç»„ä»¶ï¼‰
     5â†’ *
     6â†’ * æ‰¿è½½ä¸‰ä¸ªä»·å€¼ï¼š
     7â†’ * - è®¤çŸ¥ï¼šæˆ‘æ˜¯ä»€ä¹ˆï¼ˆåŸå‹æ„æˆï¼‰
     8â†’ * - æŒ‡å¯¼ï¼šæˆ‘åº”è¯¥æ€ä¹ˆåšï¼ˆè¡ŒåŠ¨å»ºè®®ï¼‰
     9â†’ * - è§‚å¯Ÿï¼šæˆ‘çš„å˜åŒ–ï¼ˆè¶‹åŠ¿ + é˜´å½±è§‰å¯Ÿï¼‰
    10â†’ *
    11â†’ * è®¾è®¡è¦ç‚¹ï¼š
    12â†’ * - ä¸»åŸå‹ç”¨å¡ç‰‡ä¸­å¡ç‰‡ï¼ˆhero sectionï¼‰å¼ºè°ƒ
    13â†’ * - åŸå‹æƒé‡ç”¨æ¸å˜è‰²æ¡ï¼ˆå“ç‰Œè‰²ç³»ï¼‰
    14â†’ * - è¡ŒåŠ¨å»ºè®®ç”¨ tips åˆ—è¡¨å½¢å¼
    15â†’ * - å˜åŒ–è¶‹åŠ¿ç”¨ä¸Šå‡/ä¸‹é™ç®­å¤´ + è¯æ®
    16â†’ * - é˜´å½±è§‰å¯Ÿç”¨å¾®å¦™çš„è­¦ç¤ºè‰²
    17â†’ */
    18â†’
    19â†’import { cn } from "@/lib/utils";
    20â†’import { ChevronRight, TrendingUp, AlertTriangle, Lightbulb } from "lucide-react";
    21â†’
    22â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    23â†’// Types
    24â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    25â†’
    26â†’export interface ArchetypeData {
    27â†’  primary: {
    28â†’    name: string;
    29â†’    name_cn: string;
    30â†’    tagline: string;
    31â†’    weight: number;
    32â†’  };
    33â†’  weights: Record<string, number>;
    34â†’  guidance: string[];
    35â†’  trend?: {
    36â†’    rising: string;
    37â†’    delta: number;
    38â†’    evidence: string;
    39â†’  };
    40â†’  shadow?: {
    41â†’    name: string;
    42â†’    warning: string;
    43â†’  };
    44â†’}
    45â†’
    46â†’export interface ArchetypeCardProps {
    47â†’  data?: ArchetypeData | null;
    48â†’  onExplore?: () => void;
    49â†’  className?: string;
    50â†’}
    51â†’
    52â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    53â†’// Static Constants - Archetype Colors
    54â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    55â†’
    56â†’const ARCHETYPE_COLORS: Record<string, { gradient: string; text: string; bg: string }> = {
    57â†’  åˆ›é€ è€…: { gradient: "from-amber-400 to-orange-500", text: "text-amber-700", bg: "bg-amber-100" },
    58â†’  æ¢ç´¢è€…: { gradient: "from-teal-400 to-emerald-500", text: "text-teal-700", bg: "bg-teal-100" },
    59â†’  æ™ºè€…: { gradient: "from-indigo-400 to-purple-500", text: "text-indigo-700", bg: "bg-indigo-100" },
    60â†’  è‹±é›„: { gradient: "from-red-400 to-rose-500", text: "text-red-700", bg: "bg-red-100" },
    61â†’  ç…§é¡¾è€…: { gradient: "from-green-400 to-emerald-500", text: "text-green-700", bg: "bg-green-100" },
    62â†’  æ‹äºº: { gradient: "from-pink-400 to-rose-500", text: "text-pink-700", bg: "bg-pink-100" },
    63â†’  é­”æœ¯å¸ˆ: { gradient: "from-purple-400 to-violet-500", text: "text-purple-700", bg: "bg-purple-100" },
    64â†’  ç»Ÿæ²»è€…: { gradient: "from-yellow-400 to-amber-500", text: "text-yellow-700", bg: "bg-yellow-100" },
    65â†’  å¤©çœŸè€…: { gradient: "from-sky-400 to-blue-500", text: "text-sky-700", bg: "bg-sky-100" },
    66â†’  å‡¡äºº: { gradient: "from-slate-400 to-gray-500", text: "text-slate-700", bg: "bg-slate-100" },
    67â†’  å›é€†è€…: { gradient: "from-orange-400 to-red-500", text: "text-orange-700", bg: "bg-orange-100" },
    68â†’  æ„šè€…: { gradient: "from-cyan-400 to-teal-500", text: "text-cyan-700", bg: "bg-cyan-100" },
    69â†’};
    70â†’
    71â†’const ARCHETYPE_ICONS: Record<string, string> = {
    72â†’  åˆ›é€ è€…: "ğŸ¨",
    73â†’  æ¢ç´¢è€…: "ğŸ§­",
    74â†’  æ™ºè€…: "ğŸ“š",
    75â†’  è‹±é›„: "âš”ï¸",
    76â†’  ç…§é¡¾è€…: "ğŸ’",
    77â†’  æ‹äºº: "ğŸ’•",
    78â†’  é­”æœ¯å¸ˆ: "âœ¨",
    79â†’  ç»Ÿæ²»è€…: "ğŸ‘‘",
    80â†’  å¤©çœŸè€…: "ğŸŒˆ",
    81â†’  å‡¡äºº: "ğŸ¤",
    82â†’  å›é€†è€…: "ğŸ”¥",
    83â†’  æ„šè€…: "ğŸƒ",
    84â†’};
    85â†’
    86â†’function getArchetypeStyle(name: string) {
    87â†’  return ARCHETYPE_COLORS[name] || ARCHETYPE_COLORS["åˆ›é€ è€…"];
    88â†’}
    89â†’
    90â†’function getArchetypeIcon(name: string) {
    91â†’  return ARCHETYPE_ICONS[name] || "âœ¦";
    92â†’}
    93â†’
    94â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    95â†’// Sub-components
    96â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    97â†’
    98â†’function PrimaryArchetypeHero({
    99â†’  name,
   100â†’  name_cn,
   101â†’  tagline,
   102â†’}: {
   103â†’  name: string;
   104â†’  name_cn: string;
   105â†’  tagline: string;
   106â†’}) {
   107â†’  const style = getArchetypeStyle(name_cn);
   108â†’  const icon = getArchetypeIcon(name_cn);
   109â†’
   110â†’  return (
   111â†’    <div
   112â†’      className={cn(
   113â†’        "p-6 rounded-xl text-center",
   114â†’        "bg-gradient-to-br from-vellum-50 to-white",
   115â†’        "border-2 border-vellum-200/50",
   116â†’        "shadow-soft"
   117â†’      )}
   118â†’    >
   119â†’      {/* Icon */}
   120â†’      <div className="text-4xl mb-3">{icon}</div>
   121â†’
   122â†’      {/* Name */}
   123â†’      <h3 className="font-serif text-2xl font-bold text-foreground mb-1">
   124â†’        {name_cn}
   125â†’      </h3>
   126â†’      <p className="text-xs text-muted-foreground uppercase tracking-wider mb-4">
   127â†’        {name}
   128â†’      </p>
   129â†’
   130â†’      {/* Divider */}
   131â†’      <div className="w-16 h-px bg-gradient-to-r from-transparent via-vellum-300 to-transparent mx-auto mb-4" />
   132â†’
   133â†’      {/* Tagline */}
   134â†’      <p className="text-sm text-ink-600 italic">
   135â†’        &ldquo;{tagline}&rdquo;
   136â†’      </p>
   137â†’    </div>
   138â†’  );
   139â†’}
   140â†’
   141â†’function ArchetypeWeightsChart({ weights }: { weights: Record<string, number> }) {
   142â†’  const sortedWeights = Object.entries(weights)
   143â†’    .sort(([, a], [, b]) => b - a)
   144â†’    .slice(0, 4); // Show top 4
   145â†’
   146â†’  const maxValue = Math.max(...Object.values(weights), 1);
   147â†’
   148â†’  return (
   149â†’    <div className="space-y-2.5">
   150â†’      {sortedWeights.map(([name, value]) => {
   151â†’        const style = getArchetypeStyle(name);
   152â†’        const percentage = (value / maxValue) * 100;
   153â†’
   154â†’        return (
   155â†’          <div key={name} className="flex items-center gap-3">
   156â†’            <span className="w-16 text-xs text-ink-600 truncate">{name}</span>
   157â†’            <div className="flex-1 h-2 bg-vellum-100 rounded-full overflow-hidden">
   158â†’              <div
   159â†’                className={cn(
   160â†’                  "h-full rounded-full transition-all duration-700 ease-out",
   161â†’                  "bg-gradient-to-r",
   162â†’                  style.gradient
   163â†’                )}
   164â†’                style={{ width: `${percentage}%` }}
   165â†’              />
   166â†’            </div>
   167â†’            <span className="w-10 text-xs text-muted-foreground text-right">
   168â†’              {value}%
   169â†’            </span>
   170â†’          </div>
   171â†’        );
   172â†’      })}
   173â†’    </div>
   174â†’  );
   175â†’}
   176â†’
   177â†’function GuidanceSection({ guidance }: { guidance: string[] }) {
   178â†’  return (
   179â†’    <div className="p-4 rounded-lg bg-gradient-to-br from-amber-50/50 to-yellow-50/50 border border-amber-200/30">
   180â†’      <div className="flex items-center gap-2 mb-3">
   181â†’        <Lightbulb className="w-4 h-4 text-amber-600" />
   182â†’        <span className="text-xs font-medium text-amber-700">è¡ŒåŠ¨å»ºè®®</span>
   183â†’      </div>
   184â†’      <ul className="space-y-2">
   185â†’        {guidance.map((tip, index) => (
   186â†’          <li key={index} className="flex items-start gap-2 text-sm text-ink-700">
   187â†’            <span className="text-amber-500 mt-0.5">â€¢</span>
   188â†’            <span>{tip}</span>
   189â†’          </li>
   190â†’        ))}
   191â†’      </ul>
   192â†’    </div>
   193â†’  );
   194â†’}
   195â†’
   196â†’function TrendSection({
   197â†’  trend,
   198â†’  shadow,
   199â†’}: {
   200â†’  trend?: ArchetypeData["trend"];
   201â†’  shadow?: ArchetypeData["shadow"];
   202â†’}) {
   203â†’  if (!trend && !shadow) return null;
   204â†’
   205â†’  return (
   206â†’    <div className="p-4 rounded-lg bg-gradient-to-br from-slate-50/50 to-gray-50/50 border border-slate-200/30">
   207â†’      <div className="flex items-center gap-2 mb-3">
   208â†’        <TrendingUp className="w-4 h-4 text-slate-600" />
   209â†’        <span className="text-xs font-medium text-slate-700">è¿‘æœŸè¶‹åŠ¿</span>
   210â†’      </div>
   211â†’
   212â†’      <div className="space-y-3">
   213â†’        {trend ? (
   214â†’          <div className="flex items-start gap-2">
   215â†’            <span className="text-green-500 text-lg">â†—</span>
   216â†’            <div>
   217â†’              <div className="flex items-center gap-2">
   218â†’                <span className="text-sm font-medium text-foreground">
   219â†’                  {trend.rising}
   220â†’                </span>
   221â†’                <span className="text-xs text-green-600">+{trend.delta}%</span>
   222â†’              </div>
   223â†’              <p className="text-xs text-muted-foreground mt-0.5">
   224â†’                ã€Œ{trend.evidence}ã€
   225â†’              </p>
   226â†’            </div>
   227â†’          </div>
   228â†’        ) : null}
   229â†’
   230â†’        {shadow ? (
   231â†’          <>
   232â†’            <div className="h-px bg-slate-200/50" />
   233â†’            <div className="flex items-start gap-2">
   234â†’              <AlertTriangle className="w-4 h-4 text-amber-500 flex-shrink-0 mt-0.5" />
   235â†’              <div>
   236â†’                <div className="flex items-center gap-2">
   237â†’                  <span className="text-xs text-muted-foreground">é˜´å½±è§‰å¯Ÿï¼š</span>
   238â†’                  <span className="text-sm font-medium text-amber-700">
   239â†’                    {shadow.name}
   240â†’                  </span>
   241â†’                </div>
   242â†’                <p className="text-xs text-muted-foreground mt-0.5">
   243â†’                  ã€Œ{shadow.warning}ã€
   244â†’                </p>
   245â†’              </div>
   246â†’            </div>
   247â†’          </>
   248â†’        ) : null}
   249â†’      </div>
   250â†’    </div>
   251â†’  );
   252â†’}
   253â†’
   254â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   255â†’// Main Component
   256â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   257â†’
   258â†’export function ArchetypeCard({
   259â†’  data,
   260â†’  onExplore,
   261â†’  className,
   262â†’}: ArchetypeCardProps) {
   263â†’  // Empty state
   264â†’  if (!data) {
   265â†’    return (
   266â†’      <div
   267â†’        onClick={onExplore}
   268â†’        className={cn(
   269â†’          "p-5 rounded-xl cursor-pointer",
   270â†’          "bg-gradient-to-br from-vellum-50/50 to-white",
   271â†’          "border border-vellum-200/30 shadow-card",
   272â†’          "hover:shadow-card-hover hover:border-vellum-200/50",
   273â†’          "transition-all duration-200",
   274â†’          className
   275â†’        )}
   276â†’      >
   277â†’        <div className="flex items-center gap-2 mb-3">
   278â†’          <span className="text-2xl">âœ¦</span>
   279â†’          <span className="font-serif text-base font-semibold text-foreground">
   280â†’            ä½ çš„åŸå‹ç”»åƒ
   281â†’          </span>
   282â†’        </div>
   283â†’        <p className="text-sm text-muted-foreground mb-4">
   284â†’          ç»§ç»­å¯¹è¯ï¼Œå‘ç°ä½ çš„è£æ ¼åŸå‹
   285â†’        </p>
   286â†’        <div className="flex items-center justify-center gap-2 px-4 py-2.5 bg-vellum-500/10 hover:bg-vellum-500/20 text-vellum-700 rounded-lg text-sm font-medium transition-colors">
   287â†’          <span>å¼€å§‹æ¢ç´¢</span>
   288â†’          <ChevronRight className="w-4 h-4" />
   289â†’        </div>
   290â†’      </div>
   291â†’    );
   292â†’  }
   293â†’
   294â†’  return (
   295â†’    <div
   296â†’      onClick={onExplore}
   297â†’      className={cn(
   298â†’        "p-5 rounded-xl cursor-pointer",
   299â†’        "bg-gradient-to-br from-vellum-50/30 to-white",
   300â†’        "border border-vellum-200/30 shadow-card",
   301â†’        "hover:shadow-card-hover hover:border-vellum-200/50",
   302â†’        "transition-all duration-200 hover:scale-[1.01]",
   303â†’        className
   304â†’      )}
   305â†’    >
   306â†’      {/* Header */}
   307â†’      <div className="flex items-center justify-between mb-4">
   308â†’        <div className="flex items-center gap-2">
   309â†’          <span className="text-xl">âœ¦</span>
   310â†’          <span className="font-serif text-base font-semibold text-foreground">
   311â†’            ä½ çš„åŸå‹ç”»åƒ
   312â†’          </span>
   313â†’        </div>
   314â†’        <div className="flex items-center gap-1 text-vellum-600">
   315â†’          <span className="text-xs">æ·±å…¥</span>
   316â†’          <ChevronRight className="w-4 h-4" />
   317â†’        </div>
   318â†’      </div>
   319â†’
   320â†’      {/* Primary Archetype Hero */}
   321â†’      <PrimaryArchetypeHero
   322â†’        name={data.primary.name}
   323â†’        name_cn={data.primary.name_cn}
   324â†’        tagline={data.primary.tagline}
   325â†’      />
   326â†’
   327â†’      {/* Section: è®¤çŸ¥ */}
   328â†’      <div className="mt-5">
   329â†’        <h4 className="text-xs text-muted-foreground mb-3 flex items-center gap-2">
   330â†’          <span className="w-4 h-px bg-vellum-300" />
   331â†’          è®¤çŸ¥ï¼šæˆ‘æ˜¯ä»€ä¹ˆ
   332â†’          <span className="flex-1 h-px bg-vellum-300" />
   333â†’        </h4>
   334â†’        <div className="mb-2">
   335â†’          <span className="text-xs text-muted-foreground">åŸå‹æ„æˆ</span>
   336â†’        </div>
   337â†’        <ArchetypeWeightsChart weights={data.weights} />
   338â†’      </div>
   339â†’
   340â†’      {/* Section: æŒ‡å¯¼ */}
   341â†’      <div className="mt-5">
   342â†’        <h4 className="text-xs text-muted-foreground mb-3 flex items-center gap-2">
   343â†’          <span className="w-4 h-px bg-vellum-300" />
   344â†’          æŒ‡å¯¼ï¼šæˆ‘åº”è¯¥æ€ä¹ˆåš
   345â†’          <span className="flex-1 h-px bg-vellum-300" />
   346â†’        </h4>
   347â†’        <GuidanceSection guidance={data.guidance} />
   348â†’      </div>
   349â†’
   350â†’      {/* Section: è§‚å¯Ÿ */}
   351â†’      {(data.trend || data.shadow) ? (
   352â†’        <div className="mt-5">
   353â†’          <h4 className="text-xs text-muted-foreground mb-3 flex items-center gap-2">
   354â†’            <span className="w-4 h-px bg-vellum-300" />
   355â†’            è§‚å¯Ÿï¼šæˆ‘çš„å˜åŒ–
   356â†’            <span className="flex-1 h-px bg-vellum-300" />
   357â†’          </h4>
   358â†’          <TrendSection trend={data.trend} shadow={data.shadow} />
   359â†’        </div>
   360â†’      ) : null}
   361â†’    </div>
   362â†’  );
   363â†’}
   364â†’
   365â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   366â†’// Skeleton
   367â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   368â†’
   369â†’export function ArchetypeCardSkeleton({ className }: { className?: string }) {
   370â†’  return (
   371â†’    <div
   372â†’      className={cn(
   373â†’        "p-5 rounded-xl",
   374â†’        "bg-gradient-to-br from-vellum-50/30 to-white",
   375â†’        "border border-vellum-200/30 shadow-card animate-pulse",
   376â†’        className
   377â†’      )}
   378â†’    >
   379â†’      {/* Header */}
   380â†’      <div className="flex items-center gap-2 mb-4">
   381â†’        <div className="w-6 h-6 rounded bg-vellum-200" />
   382â†’        <div className="h-5 bg-vellum-200 rounded w-28" />
   383â†’      </div>
   384â†’
   385â†’      {/* Hero */}
   386â†’      <div className="p-6 rounded-xl bg-vellum-100/50 text-center mb-5">
   387â†’        <div className="w-12 h-12 rounded-full bg-vellum-200 mx-auto mb-3" />
   388â†’        <div className="h-7 bg-vellum-200 rounded w-20 mx-auto mb-2" />
   389â†’        <div className="h-4 bg-vellum-100 rounded w-16 mx-auto mb-4" />
   390â†’        <div className="w-16 h-px bg-vellum-200 mx-auto mb-4" />
   391â†’        <div className="h-4 bg-vellum-200 rounded w-32 mx-auto" />
   392â†’      </div>
   393â†’
   394â†’      {/* Weights */}
   395â†’      <div className="space-y-2.5 mb-5">
   396â†’        {[1, 2, 3, 4].map((i) => (
   397â†’          <div key={i} className="flex items-center gap-3">
   398â†’            <div className="w-16 h-4 bg-vellum-200 rounded" />
   399â†’            <div className="flex-1 h-2 bg-vellum-100 rounded-full" />
   400â†’            <div className="w-10 h-4 bg-vellum-200 rounded" />
   401â†’          </div>
   402â†’        ))}
   403â†’      </div>
   404â†’
   405â†’      {/* Guidance */}
   406â†’      <div className="p-4 rounded-lg bg-vellum-100/50">
   407â†’        <div className="h-4 bg-vellum-200 rounded w-20 mb-3" />
   408â†’        <div className="space-y-2">
   409â†’          <div className="h-4 bg-vellum-200 rounded w-full" />
   410â†’          <div className="h-4 bg-vellum-200 rounded w-4/5" />
   411â†’          <div className="h-4 bg-vellum-200 rounded w-3/4" />
   412â†’        </div>
   413â†’      </div>
   414â†’    </div>
   415â†’  );
   416â†’}
   417â†’
   418â†’export default ArchetypeCard;
   419â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
