     1→import { NextRequest, NextResponse } from "next/server";
     2→import { getInternalApiUrl } from "@/lib/backend-config";
     3→
     4→/**
     5→ * Skills API Proxy
     6→ * 代理 /api/v1/skills 请求到后端
     7→ */
     8→
     9→export async function GET(request: NextRequest) {
    10→  try {
    11→    const { searchParams } = new URL(request.url);
    12→
    13→    // 构建后端 URL
    14→    const backendUrl = getInternalApiUrl("/api/v1/skills");
    15→    const url = new URL(backendUrl);
    16→
    17→    // 转发查询参数
    18→    searchParams.forEach((value, key) => {
    19→      url.searchParams.append(key, value);
    20→    });
    21→
    22→    // 转发请求到后端
    23→    const headers: Record<string, string> = {
    24→      "Content-Type": "application/json",
    25→    };
    26→
    27→    // 转发 Authorization header
    28→    const auth = request.headers.get("Authorization");
    29→    if (auth) {
    30→      headers["Authorization"] = auth;
    31→    }
    32→
    33→    const response = await fetch(url.toString(), {
    34→      method: "GET",
    35→      headers,
    36→    });
    37→
    38→    // 处理非 JSON 响应
    39→    const text = await response.text();
    40→    let data;
    41→    try {
    42→      data = JSON.parse(text);
    43→    } catch {
    44→      data = { error: text || "Backend error", detail: `Status: ${response.status}` };
    45→    }
    46→
    47→    return NextResponse.json(data, { status: response.status });
    48→  } catch (error) {
    49→    console.error("Skills API error:", error);
    50→    return NextResponse.json(
    51→      { error: "Failed to fetch skills", detail: String(error) },
    52→      { status: 500 }
    53→    );
    54→  }
    55→}
    56→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
