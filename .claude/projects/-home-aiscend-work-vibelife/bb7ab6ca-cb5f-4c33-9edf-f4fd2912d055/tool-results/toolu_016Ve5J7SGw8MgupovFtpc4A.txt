The file /home/aiscend/work/vibelife/apps/api/routes/notifications.py has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
    84→        logger.error(f"Failed to mark notification as read: {e}")
    85→        raise HTTPException(status_code=500, detail="Internal server error")
    86→
    87→
    88→@router.get("/daily")
    89→async def get_today_daily(
    90→    user_id: Optional[UUID] = Query(None),
    91→    svc: NotificationService = Depends(get_notification_service),
    92→    current_user: Optional[CurrentUser] = Depends(get_optional_user),
    93→):
    94→    """Get today's daily fortune"""
    95→    effective_user_id = user_id
    96→    if not effective_user_id and current_user:
    97→        effective_user_id = current_user.user_id
    98→
    99→    if not effective_user_id:
   100→        raise HTTPException(status_code=401, detail="Authentication required")
   101→
   102→    try:
   103→        result = await svc.get_today_daily(effective_user_id)
   104→        if not result:
   105→            raise HTTPException(status_code=404, detail="No daily fortune for today")
   106→        return result
   107→    except HTTPException:
   108→        raise
   109→    except Exception as e:
   110→        logger.error(f"Failed to get daily fortune: {e}")
   111→        raise HTTPException(status_code=500, detail="Internal server error")
   112→