The file /home/aiscend/work/vibelife/apps/api/routes/notifications.py has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
    44→        logger.error(f"Failed to get notifications: {e}")
    45→        raise HTTPException(status_code=500, detail="Internal server error")
    46→
    47→
    48→@router.get("/unread")
    49→async def get_unread_notifications(
    50→    user_id: Optional[UUID] = Query(None),
    51→    limit: int = Query(20, ge=1, le=100),
    52→    svc: NotificationService = Depends(get_notification_service),
    53→    current_user: Optional[CurrentUser] = Depends(get_optional_user),
    54→):
    55→    """Get unread notifications"""
    56→    effective_user_id = user_id
    57→    if not effective_user_id and current_user:
    58→        effective_user_id = current_user.user_id
    59→
    60→    if not effective_user_id:
    61→        raise HTTPException(status_code=401, detail="Authentication required")
    62→
    63→    try:
    64→        return await svc.get_unread(effective_user_id, limit)
    65→    except Exception as e:
    66→        logger.error(f"Failed to get unread notifications: {e}")
    67→        raise HTTPException(status_code=500, detail="Internal server error")
    68→
    69→
    70→@router.post("/{notification_id}/read")
    71→async def mark_notification_read(