============================= test session starts ==============================
platform linux -- Python 3.13.3, pytest-8.4.2, pluggy-1.6.0 -- /data/anaconda3/envs/ai/bin/python
cachedir: .pytest_cache
rootdir: /home/aiscend/work/vibelife/apps/api
configfile: pytest.ini
plugins: mock-3.15.0, time-machine-2.17.0, asyncio-1.1.0, cov-7.0.0, anyio-4.9.0
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 7 items

tests/integration/routes/test_notifications.py::TestNotificationsEdgeCases::test_get_notifications_service_error PASSED [ 14%]
tests/integration/routes/test_notifications.py::TestNotificationsEdgeCases::test_get_unread_notifications_service_error PASSED [ 28%]
tests/integration/routes/test_notifications.py::TestNotificationsEdgeCases::test_mark_read_service_error PASSED [ 42%]
tests/integration/routes/test_notifications.py::TestNotificationsEdgeCases::test_get_daily_fortune_service_error PASSED [ 57%]
tests/integration/routes/test_notifications.py::TestNotificationsEdgeCases::test_notifications_response_format PASSED [ 71%]
tests/integration/routes/test_notifications.py::TestNotificationsEdgeCases::test_notification_id_format PASSED [ 85%]
tests/integration/routes/test_notifications.py::TestNotificationsEdgeCases::test_concurrent_mark_read PASSED [100%]

=============================== warnings summary ===============================
tests/integration/routes/test_notifications.py::TestNotificationsEdgeCases::test_get_notifications_service_error
  /data/anaconda3/envs/ai/lib/python3.13/site-packages/jieba/_compat.py:18: DeprecationWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html
    import pkg_resources

tests/integration/routes/test_notifications.py::TestNotificationsEdgeCases::test_get_notifications_service_error
  /data/anaconda3/envs/ai/lib/python3.13/site-packages/pkg_resources/__init__.py:3147: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('mpl_toolkits')`.
  Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
    declare_namespace(pkg)

tests/integration/routes/test_notifications.py::TestNotificationsEdgeCases::test_get_notifications_service_error
tests/integration/routes/test_notifications.py::TestNotificationsEdgeCases::test_get_notifications_service_error
tests/integration/routes/test_notifications.py::TestNotificationsEdgeCases::test_get_notifications_service_error
tests/integration/routes/test_notifications.py::TestNotificationsEdgeCases::test_get_notifications_service_error
tests/integration/routes/test_notifications.py::TestNotificationsEdgeCases::test_get_notifications_service_error
  /data/anaconda3/envs/ai/lib/python3.13/site-packages/pydantic/_internal/_config.py:323: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)

tests/integration/routes/test_notifications.py::TestNotificationsEdgeCases::test_get_notifications_service_error
  /home/aiscend/work/vibelife/apps/api/routes/commerce.py:181: DeprecationWarning: `regex` has been deprecated, please use `pattern` instead
    async def get_pricing(region: str = Query("GLOBAL", regex="^(CN|GLOBAL)$")):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
======================== 7 passed, 8 warnings in 1.42s =========================