    30→│   ├── date: 格式化当前日期                                                      │
    31→│   └── solarTerm: 节气数据 (可选，中国用户)                                      │
    32→│                                                                                  │
    33→└─────────────────────────────────────────────────────────────────────────────────┘
    34→```
    35→
    36→**个性化消息生成算法:**
    37→
    38→```typescript
    39→function generateGreetingMessage(context: {
    40→  hour: number;
    41→  streak: number;
    42→  checkedIn: boolean;
    43→  weekProgress: number;
    44→  dayOfWeek: number;
    45→}): string {
    46→  const { hour, streak, checkedIn, weekProgress, dayOfWeek } = context;
    47→
    48→  // 1. 特殊状态优先
    49→  if (!checkedIn && hour >= 8 && hour < 12) {
    50→    return "新的一天开始了，准备好行动了吗？";
    51→  }
    52→
    53→  if (streak >= 7) {
    54→    return `连续 ${streak} 天的坚持，你正在创造改变。`;
    55→  }
    56→
    57→  if (dayOfWeek === 1) {
    58→    return "新的一周，新的可能。";
    59→  }
    60→
    61→  if (dayOfWeek === 0 || dayOfWeek === 6) {
    62→    return "周末也是成长的时机。";
    63→  }
    64→
    65→  if (weekProgress >= 0.8) {
    66→    return "这周完成得很好，继续保持！";
    67→  }
    68→
    69→  // 2. 时段通用消息
    70→  if (hour < 12) {
    71→    return "今天最重要的一件事是什么？";
    72→  } else if (hour < 18) {
    73→    return "下午的时光，适合专注。";
    74→  } else {
    75→    return "一天结束，为今天的努力感到骄傲。";
    76→  }
    77→}
    78→```
    79→
    80→---
    81→
    82→### 2. IdentityCard (WHO I AM)
    83→
    84→```
    85→┌─────────────────────────────────────────────────────────────────────────────────┐
    86→│                              IdentityCard                                        │
    87→├─────────────────────────────────────────────────────────────────────────────────┤
    88→│                                                                                  │
    89→│   ┌──────────────────────────────────────────────────────────────────────────┐  │

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
