<tool_use_error>String to replace not found in file.
String: **个性化消息生成算法:**

```typescript
function generateGreetingMessage(context: {
  hour: number;
  streak: number;
  checkedIn: boolean;
  weekProgress: number;
  dayOfWeek: number;
}): string {
  const { hour, streak, checkedIn, weekProgress, dayOfWeek } = context;

  // 1. 特殊状态优先
  if (!checkedIn && hour >= 8 && hour < 12) {
    return "新的一天开始了，准备好行动了吗？";
  }

  if (streak >= 7) {
    return `连续 ${streak} 天的坚持，你正在创造改变。`;
  }

  if (dayOfWeek === 1) {
    return "新的一周，新的可能。";
  }

  if (dayOfWeek === 0 || dayOfWeek === 6) {
    return "周末也是成长的时机。";
  }

  if (weekProgress >= 0.8) {
    return "这周完成得很好，继续保持！";
  }

  // 2. 时段通用消息
  if (hour < 12) {
    return "今天最重要的一件事是什么？";
  } else if (hour < 18) {
    return "下午的时光，适合专注。";
  } else {
    return "一天结束，为今天的努力感到骄傲。";
  }
}
```</tool_use_error>