The file /home/aiscend/work/vibelife/apps/api/services/agent/skill_loader.py has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
   192→# ═══════════════════════════════════════════════════════════════════════════
   193→# 解析函数
   194→# ═══════════════════════════════════════════════════════════════════════════
   195→
   196→def parse_frontmatter(text: str) -> tuple[Dict, str]:
   197→    """解析 YAML frontmatter（支持嵌套对象）"""
   198→    pattern = r'^---\s*\n(.*?)\n---\s*\n(.*)$'
   199→    match = re.match(pattern, text, re.DOTALL)
   200→    if not match:
   201→        return {}, text
   202→
   203→    frontmatter_str, content = match.groups()
   204→
   205→    # 使用 YAML 解析以支持嵌套对象
   206→    try:
   207→        metadata = yaml.safe_load(frontmatter_str) or {}
   208→    except yaml.YAMLError as e:
   209→        logger.warning(f"YAML parse error in frontmatter: {e}, falling back to simple parse")
   210→        # 回退到简单解析
   211→        metadata = {}
   212→        current_key = None
   213→        current_list = None
   214→
   215→        for line in frontmatter_str.strip().split('\n'):
   216→            stripped = line.strip()
   217→            if not stripped:
   218→                continue
   219→            if stripped.startswith('- ') and current_key:
   220→                if current_list is None:
   221→                    current_list = []
   222→                current_list.append(stripped[2:].strip())
   223→                metadata[current_key] = current_list
   224→            elif ':' in line and not line.startswith(' '):
   225→                current_list = None
   226→                key, value = line.split(':', 1)
   227→                current_key = key.strip()
   228→                value = value.strip()
   229→                if value in ('|', ''):
   230→                    continue
   231→                elif value.lower() == 'true':
   232→                    metadata[current_key] = True
   233→                elif value.lower() == 'false':
   234→                    metadata[current_key] = False
   235→                else:
   236→                    metadata[current_key] = value
   237→
   238→    return metadata, content.strip()
   239→
   240→
   241→def parse_skill_md(text: str) -> Dict[str, Any]:
   242→    """解析 SKILL.md 内容，提取结构化信息