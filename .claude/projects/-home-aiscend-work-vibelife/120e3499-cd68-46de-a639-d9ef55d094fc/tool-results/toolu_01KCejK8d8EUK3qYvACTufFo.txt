     1â†’# Skill Management System
     2â†’
     3â†’> è®©ç”¨æˆ·å‘ç°ã€è®¢é˜…ã€ç®¡ç† Skill çš„å®Œæ•´ç³»ç»Ÿè®¾è®¡
     4â†’
     5â†’---
     6â†’
     7â†’## æ–‡æ¡£ç»“æ„
     8â†’
     9â†’```
    10â†’docs/components/skillmanagement/
    11â†’â”œâ”€â”€ README.md                    # æœ¬æ–‡ä»¶ - ç´¢å¼•å’Œå¿«é€Ÿå¼€å§‹
    12â†’â”œâ”€â”€ SPEC.md                      # æ ¸å¿ƒè§„æ ¼æ–‡æ¡£ - ç³»ç»Ÿæ¶æ„å’Œè®¾è®¡
    13â†’â”œâ”€â”€ skill-metadata-schema.yaml   # Skill å…ƒæ•°æ® Schema å®šä¹‰
    14â†’â”œâ”€â”€ ui-components.md             # å‰ç«¯ UI ç»„ä»¶è®¾è®¡
    15â†’â”œâ”€â”€ api-reference.md             # API ç«¯ç‚¹å®Œæ•´æ–‡æ¡£
    16â†’â””â”€â”€ migration.sql                # æ•°æ®åº“è¿ç§»è„šæœ¬
    17â†’```
    18â†’
    19â†’---
    20â†’
    21â†’## å¿«é€Ÿæ¦‚è§ˆ
    22â†’
    23â†’### è®¾è®¡å†³ç­–
    24â†’
    25â†’| å†³ç­–ç‚¹ | é€‰æ‹© |
    26â†’|--------|------|
    27â†’| å•†ä¸šæ¨¡å‹ | æ··åˆæ¨¡å¼ - core å§‹ç»ˆæ¿€æ´»ï¼Œdefault å…è´¹å¯å–æ¶ˆï¼Œprofessional éœ€è®¢é˜… |
    28â†’| å‘ç°å…¥å£ | å››å…¥å£å…¨è¦†ç›–ï¼šå¸‚åœºé¡µé¢ + å¯¹è¯æ¨è + è®¾ç½®ç®¡ç† + é¦–é¡µå¡ç‰‡ |
    29â†’| è®¢é˜…ç²’åº¦ | Skill çº§åˆ« - æ•´ä½“è®¢é˜…/å–æ¶ˆ |
    30â†’| æ¨é€æ§åˆ¶ | ç®€å•å¼€å…³ - æ•´ä½“å¼€/å…³æŸ Skill çš„æ¨é€ |
    31â†’
    32â†’### Skill åˆ†ç±»
    33â†’
    34â†’| åˆ†ç±» | Skills | ç‰¹ç‚¹ |
    35â†’|------|--------|------|
    36â†’| **Core** | core | å§‹ç»ˆæ¿€æ´»ï¼Œä¸å¯å–æ¶ˆ |
    37â†’| **Default** | mindfulness, lifecoach | é»˜è®¤æ¿€æ´»ï¼Œå…è´¹ï¼Œå¯å–æ¶ˆ |
    38â†’| **Professional** | bazi, zodiac, tarot, jungastro, career | éœ€è®¢é˜…ï¼Œæœ‰è¯•ç”¨æ¬¡æ•° |
    39â†’
    40â†’---
    41â†’
    42â†’## å®æ–½æ¸…å•
    43â†’
    44â†’### Phase 1: æ•°æ®æ¨¡å‹ (1 å¤©)
    45â†’
    46â†’- [ ] æ‰§è¡Œ `migration.sql` åˆ›å»ºè¡¨
    47â†’- [ ] åˆ›å»º `stores/skill_subscription_repo.py`
    48â†’- [ ] æ›´æ–° SkillLoader è§£æ SKILL.md ä¸­çš„æ–°å­—æ®µ
    49â†’
    50â†’```bash
    51â†’# æ‰§è¡Œè¿ç§»
    52â†’psql $VIBELIFE_DB_URL -f docs/components/skillmanagement/migration.sql
    53â†’```
    54â†’
    55â†’### Phase 2: API å¼€å‘ (2 å¤©)
    56â†’
    57â†’- [ ] æ‰©å±• `routes/skills.py` æ·»åŠ è®¢é˜…ç®¡ç†ç«¯ç‚¹
    58â†’- [ ] åˆ›å»º `services/skill_recommendation.py`
    59â†’- [ ] é›†æˆåˆ° `main.py` è·¯ç”±
    60â†’
    61â†’**æ–°å¢ç«¯ç‚¹**:
    62â†’```
    63â†’GET  /api/v1/skills/subscriptions
    64â†’POST /api/v1/skills/{skill_id}/subscribe
    65â†’POST /api/v1/skills/{skill_id}/unsubscribe
    66â†’POST /api/v1/skills/{skill_id}/push
    67â†’GET  /api/v1/skills/recommendations
    68â†’GET  /api/v1/skills/featured
    69â†’```
    70â†’
    71â†’### Phase 3: å‰ç«¯å¼€å‘ (3 å¤©)
    72â†’
    73â†’- [ ] åˆ›å»º `components/skill/SkillCard.tsx` (4 å˜ä½“)
    74â†’- [ ] åˆ›å»º `app/skills/page.tsx` Skill å¸‚åœºé¡µé¢
    75â†’- [ ] æ‰©å±• `settings/page.tsx` æ·»åŠ  Skill ç®¡ç†åŒºå—
    76â†’- [ ] åˆ›å»º `hooks/useSkillSubscription.ts`
    77â†’- [ ] åœ¨ `ChatContainer` ä¸­é›†æˆæ¨èå¡ç‰‡
    78â†’
    79â†’### Phase 4: ä¸»åŠ¨æ¨¡å—é›†æˆ (1 å¤©)
    80â†’
    81â†’- [ ] ä¿®æ”¹ `ProactiveEngine._should_send_to_user()` æ£€æŸ¥è®¢é˜…çŠ¶æ€
    82â†’- [ ] æ›´æ–°å„ Skill çš„ `reminders.yaml` æ·»åŠ  subscription é…ç½®
    83â†’
    84â†’### Phase 5: æ¨èç®—æ³• (2 å¤©)
    85â†’
    86â†’- [ ] å®ç°è§¦å‘è¯åŒ¹é…
    87â†’- [ ] é›†æˆæƒ…ç»ªæ£€æµ‹
    88â†’- [ ] é¦–é¡µæ¨èå¡ç‰‡
    89â†’
    90â†’---
    91â†’
    92â†’## å…³é”®æ–‡ä»¶ä¿®æ”¹
    93â†’
    94â†’### åç«¯
    95â†’
    96â†’| æ–‡ä»¶ | ä¿®æ”¹å†…å®¹ |
    97â†’|------|----------|
    98â†’| `routes/skills.py` | æ·»åŠ è®¢é˜…ç®¡ç†ç«¯ç‚¹ |
    99â†’| `stores/skill_subscription_repo.py` | æ–°å»ºï¼Œæ•°æ®åº“æ“ä½œ |
   100â†’| `services/skill_recommendation.py` | æ–°å»ºï¼Œæ¨èç®—æ³• |
   101â†’| `services/agent/skill_loader.py` | è§£ææ–°çš„ metadata å­—æ®µ |
   102â†’| `services/proactive/engine.py` | é›†æˆè®¢é˜…æ£€æŸ¥ |
   103â†’
   104â†’### å‰ç«¯
   105â†’
   106â†’| æ–‡ä»¶ | ä¿®æ”¹å†…å®¹ |
   107â†’|------|----------|
   108â†’| `components/skill/*.tsx` | æ–°å»ºï¼ŒSkill ç›¸å…³ç»„ä»¶ |
   109â†’| `app/skills/page.tsx` | æ–°å»ºï¼ŒSkill å¸‚åœºé¡µé¢ |
   110â†’| `app/settings/page.tsx` | æ·»åŠ  Skill ç®¡ç†åŒºå— |
   111â†’| `hooks/useSkillSubscription.ts` | æ–°å»ºï¼Œè®¢é˜…ç®¡ç† Hook |
   112â†’| `components/chat/ChatContainer.tsx` | é›†æˆæ¨èå¡ç‰‡ |
   113â†’
   114â†’### é…ç½®
   115â†’
   116â†’| æ–‡ä»¶ | ä¿®æ”¹å†…å®¹ |
   117â†’|------|----------|
   118â†’| `skills/*/SKILL.md` | æ·»åŠ  category, pricing, showcase å­—æ®µ |
   119â†’| `skills/*/reminders.yaml` | æ·»åŠ  subscription é…ç½® |
   120â†’
   121â†’---
   122â†’
   123â†’## SKILL.md æ›´æ–°ç¤ºä¾‹
   124â†’
   125â†’æ¯ä¸ª Skill çš„ `SKILL.md` éœ€è¦æ›´æ–° frontmatterï¼š
   126â†’
   127â†’```yaml
   128â†’---
   129â†’id: bazi
   130â†’name: å…«å­—å‘½ç†
   131â†’version: 3.0.0
   132â†’description: èæ±‡å››å¤§ç»å…¸çš„å…«å­—å‘½ç†å¤§å¸ˆ
   133â†’
   134â†’# æ–°å¢å­—æ®µ
   135â†’category: professional
   136â†’icon: "ğŸ”®"
   137â†’color: "#D4A574"
   138â†’
   139â†’pricing:
   140â†’  type: premium
   141â†’  trial_messages: 3
   142â†’
   143â†’showcase:
   144â†’  tagline: æ´å¯Ÿå‘½è¿ç„æœºï¼ŒæŠŠæ¡äººç”Ÿæ–¹å‘
   145â†’  highlights:
   146â†’    - èæ±‡å››å¤§ç»å…¸
   147â†’    - ä¸ªæ€§åŒ–è§£è¯»
   148â†’    - è¿åŠ¿è¶‹åŠ¿åˆ†æ
   149â†’  demo_prompts:
   150â†’    - å¸®æˆ‘çœ‹çœ‹å‘½ç›˜
   151â†’    - æˆ‘ä»Šå¹´è¿åŠ¿å¦‚ä½•
   152â†’
   153â†’subscription:
   154â†’  can_unsubscribe: true
   155â†’  push_default: true
   156â†’---
   157â†’```
   158â†’
   159â†’---
   160â†’
   161â†’## éªŒæ”¶æ ‡å‡†
   162â†’
   163â†’### åŠŸèƒ½éªŒæ”¶
   164â†’
   165â†’- [ ] ç”¨æˆ·å¯ä»¥åœ¨ Skill å¸‚åœºé¡µé¢æµè§ˆæ‰€æœ‰ Skill
   166â†’- [ ] ç”¨æˆ·å¯ä»¥è®¢é˜…/å–æ¶ˆè®¢é˜… Professional Skill
   167â†’- [ ] ç”¨æˆ·å¯ä»¥å–æ¶ˆè®¢é˜… Default Skillï¼ˆmindfulness, lifecoachï¼‰
   168â†’- [ ] Core Skill æ— æ³•å–æ¶ˆè®¢é˜…
   169â†’- [ ] ç”¨æˆ·å¯ä»¥å¼€å…³æ¯ä¸ª Skill çš„æ¨é€
   170â†’- [ ] å¯¹è¯ä¸­èƒ½æ™ºèƒ½æ¨èç›¸å…³ Skill
   171â†’- [ ] é¦–é¡µæ˜¾ç¤ºæ¨è Skill å¡ç‰‡
   172â†’- [ ] è®¾ç½®é¡µé¢å¯ä»¥ç®¡ç†æ‰€æœ‰è®¢é˜…
   173â†’
   174â†’### æ€§èƒ½éªŒæ”¶
   175â†’
   176â†’- [ ] Skill åˆ—è¡¨ API < 200ms
   177â†’- [ ] è®¢é˜…æ“ä½œ API < 100ms
   178â†’- [ ] æ¨è API < 500ms
   179â†’
   180â†’### å…¼å®¹æ€§éªŒæ”¶
   181â†’
   182â†’- [ ] ç°æœ‰ç”¨æˆ·è‡ªåŠ¨åˆå§‹åŒ–é»˜è®¤è®¢é˜…
   183â†’- [ ] ä¸å½±å“ç°æœ‰å¯¹è¯åŠŸèƒ½
   184â†’- [ ] ä¸å½±å“ç°æœ‰æ¨é€åŠŸèƒ½
   185â†’
   186â†’---
   187â†’
   188â†’## è”ç³»
   189â†’
   190â†’è®¾è®¡è€…ï¼šClaude (Ultra Deep Analysis Mode)
   191â†’æ—¥æœŸï¼š2026-01-19
   192â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
