     1â†’# Skill Management System Specification
     2â†’
     3â†’> Version: 1.0 | 2026-01-19
     4â†’> è®¾è®¡ç›®æ ‡ï¼šè®©ç”¨æˆ·å‘ç°ã€è®¢é˜…ã€ç®¡ç† Skillï¼Œä¸ä¸»åŠ¨æ¨¡å—æ·±åº¦é›†æˆ
     5â†’
     6â†’---
     7â†’
     8â†’## 1. ç³»ç»Ÿæ¦‚è¿°
     9â†’
    10â†’### 1.1 è®¾è®¡åŸåˆ™
    11â†’
    12â†’| åŸåˆ™ | è¯´æ˜ |
    13â†’|------|------|
    14â†’| **å‘ç°ä¼˜å…ˆ** | å¤šå…¥å£æ›å…‰ï¼Œè®©ç”¨æˆ·è‡ªç„¶å‘ç°æ–° Skill |
    15â†’| **ç®€å•ç®¡ç†** | Skill çº§åˆ«è®¢é˜…ï¼Œä¸€é”®å¼€å…³æ¨é€ |
    16â†’| **æ™ºèƒ½æ¨è** | åŸºäºå¯¹è¯å†…å®¹å’Œç”¨æˆ·æ¡£æ¡ˆä¸»åŠ¨æ¨è |
    17â†’| **æ¸è¿›å¼å¼•å¯¼** | ä»å…è´¹ä½“éªŒåˆ°ä»˜è´¹è½¬åŒ–çš„è‡ªç„¶è·¯å¾„ |
    18â†’
    19â†’### 1.2 Skill åˆ†ç±»
    20â†’
    21â†’```
    22â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    23â†’â”‚                      Skill åˆ†ç±»ä½“ç³»                          â”‚
    24â†’â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    25â†’â”‚                                                              â”‚
    26â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
    27â†’â”‚  â”‚  Core Layer (å§‹ç»ˆæ¿€æ´»ï¼Œä¸å¯å–æ¶ˆ)                      â”‚    â”‚
    28â†’â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚    â”‚
    29â†’â”‚  â”‚  â”‚  core   â”‚  ç”Ÿå‘½å¯¹è¯è€… - AI çš„çµé­‚                 â”‚    â”‚
    30â†’â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚    â”‚
    31â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
    32â†’â”‚                           â”‚                                  â”‚
    33â†’â”‚                           â–¼                                  â”‚
    34â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
    35â†’â”‚  â”‚  Default Layer (é»˜è®¤æ¿€æ´»ï¼Œå…è´¹ï¼Œå¯å–æ¶ˆ)               â”‚    â”‚
    36â†’â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚    â”‚
    37â†’â”‚  â”‚  â”‚ mindfulness â”‚  â”‚  lifecoach  â”‚                   â”‚    â”‚
    38â†’â”‚  â”‚  â”‚  æ­£å¿µå¯¼å¸ˆ    â”‚  â”‚  äººç”Ÿæ•™ç»ƒ    â”‚                   â”‚    â”‚
    39â†’â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚    â”‚
    40â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
    41â†’â”‚                           â”‚                                  â”‚
    42â†’â”‚                           â–¼                                  â”‚
    43â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
    44â†’â”‚  â”‚  Professional Layer (éœ€è®¢é˜…ï¼Œä»˜è´¹)                    â”‚    â”‚
    45â†’â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
    46â†’â”‚  â”‚  â”‚ bazi â”‚ â”‚ zodiac â”‚ â”‚ tarot â”‚ â”‚jungastroâ”‚ â”‚careerâ”‚  â”‚    â”‚
    47â†’â”‚  â”‚  â”‚ å…«å­— â”‚ â”‚ æ˜Ÿåº§   â”‚ â”‚ å¡”ç½—  â”‚ â”‚è£æ ¼å æ˜Ÿ â”‚ â”‚ èŒä¸š â”‚  â”‚    â”‚
    48â†’â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
    49â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
    50â†’â”‚                                                              â”‚
    51â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    52â†’```
    53â†’
    54â†’### 1.3 Skill çŠ¶æ€æœº
    55â†’
    56â†’```
    57â†’                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    58â†’                    â”‚                  â”‚
    59â†’         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
    60â†’         â”‚   not_subscribed    â”‚       â”‚
    61â†’         â”‚   (æœªè®¢é˜…/å·²å–æ¶ˆ)    â”‚       â”‚
    62â†’         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
    63â†’                    â”‚                  â”‚
    64â†’                    â”‚ subscribe()      â”‚ unsubscribe()
    65â†’                    â”‚                  â”‚
    66â†’         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
    67â†’         â”‚     subscribed      â”‚â”€â”€â”€â”€â”€â”€â”€â”˜
    68â†’         â”‚      (å·²è®¢é˜…)        â”‚
    69â†’         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    70â†’                    â”‚
    71â†’        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    72â†’        â”‚                       â”‚
    73â†’        â–¼                       â–¼
    74â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    75â†’â”‚ push_enabled  â”‚ â—„â”€â”€â”€â–º â”‚ push_disabled â”‚
    76â†’â”‚  (æ¨é€å¼€å¯)    â”‚       â”‚  (æ¨é€å…³é—­)    â”‚
    77â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    78â†’```
    79â†’
    80â†’---
    81â†’
    82â†’## 2. æ•°æ®æ¨¡å‹
    83â†’
    84â†’### 2.1 Skill å…ƒæ•°æ® (skill_metadata)
    85â†’
    86â†’å­˜å‚¨åœ¨ SKILL.md çš„ YAML frontmatter ä¸­ï¼š
    87â†’
    88â†’```yaml
    89â†’---
    90â†’id: bazi
    91â†’name: å…«å­—å‘½ç†
    92â†’version: 3.0.0
    93â†’description: èæ±‡ã€Šæ»´å¤©é«“ã€‹ã€Šç©·é€šå®é‰´ã€‹ã€Šå­å¹³çœŸè¯ ã€‹ç­‰ç»å…¸çš„å…«å­—å‘½ç†å¤§å¸ˆ
    94â†’icon: "ğŸ”®"
    95â†’color: "#D4A574"
    96â†’category: professional  # core | default | professional
    97â†’pricing:
    98â†’  type: premium  # free | premium | credits
    99â†’  trial_messages: 3  # å…è´¹è¯•ç”¨æ¶ˆæ¯æ•°
   100â†’triggers:
   101â†’  - å…«å­—
   102â†’  - å‘½ç†
   103â†’  - ç”Ÿè¾°
   104â†’  - æµ‹ç®—
   105â†’requires_birth_info: true
   106â†’requires_compute: true
   107â†’features:
   108â†’  - name: å‘½ç›˜è§£è¯»
   109â†’    description: å››æŸ±å…«å­—å®Œæ•´åˆ†æ
   110â†’  - name: å¤§è¿æµå¹´
   111â†’    description: åå¹´å¤§è¿å‘¨æœŸåˆ†æ
   112â†’  - name: æ¯æ—¥è¿åŠ¿
   113â†’    description: åŸºäºæµæ—¥çš„æ¯æ—¥æŒ‡å¼•
   114â†’showcase:
   115â†’  tagline: "æ´å¯Ÿå‘½è¿ç„æœºï¼ŒæŠŠæ¡äººç”Ÿæ–¹å‘"
   116â†’  highlights:
   117â†’    - "èæ±‡å››å¤§ç»å…¸"
   118â†’    - "ä¸ªæ€§åŒ–è§£è¯»"
   119â†’    - "è¿åŠ¿è¶‹åŠ¿åˆ†æ"
   120â†’  preview_image: /skills/bazi/preview.png
   121â†’---
   122â†’```
   123â†’
   124â†’### 2.2 ç”¨æˆ· Skill è®¢é˜… (user_skill_subscriptions)
   125â†’
   126â†’```sql
   127â†’CREATE TABLE user_skill_subscriptions (
   128â†’  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
   129â†’  user_id UUID NOT NULL REFERENCES vibe_users(id),
   130â†’  skill_id VARCHAR(50) NOT NULL,
   131â†’  status VARCHAR(20) NOT NULL DEFAULT 'subscribed',  -- subscribed | unsubscribed
   132â†’  push_enabled BOOLEAN DEFAULT true,
   133â†’  subscribed_at TIMESTAMPTZ DEFAULT now(),
   134â†’  unsubscribed_at TIMESTAMPTZ,
   135â†’  trial_messages_used INTEGER DEFAULT 0,
   136â†’  created_at TIMESTAMPTZ DEFAULT now(),
   137â†’  updated_at TIMESTAMPTZ DEFAULT now(),
   138â†’  UNIQUE(user_id, skill_id)
   139â†’);
   140â†’
   141â†’-- ç´¢å¼•
   142â†’CREATE INDEX idx_user_skill_subs_user ON user_skill_subscriptions(user_id);
   143â†’CREATE INDEX idx_user_skill_subs_status ON user_skill_subscriptions(status);
   144â†’```
   145â†’
   146â†’### 2.3 Skill ä½¿ç”¨è®°å½• (skill_usage_log)
   147â†’
   148â†’```sql
   149â†’CREATE TABLE skill_usage_log (
   150â†’  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
   151â†’  user_id UUID NOT NULL REFERENCES vibe_users(id),
   152â†’  skill_id VARCHAR(50) NOT NULL,
   153â†’  action VARCHAR(50) NOT NULL,  -- chat | tool_call | view_card | subscribe | unsubscribe
   154â†’  metadata JSONB DEFAULT '{}',
   155â†’  created_at TIMESTAMPTZ DEFAULT now()
   156â†’);
   157â†’
   158â†’-- ç”¨äºæ¨èç®—æ³•
   159â†’CREATE INDEX idx_skill_usage_user_time ON skill_usage_log(user_id, created_at DESC);
   160â†’```
   161â†’
   162â†’---
   163â†’
   164â†’## 3. API è®¾è®¡
   165â†’
   166â†’### 3.1 Skill Gateway æ‰©å±•
   167â†’
   168â†’```
   169â†’routes/skills.py æ‰©å±•:
   170â†’
   171â†’GET  /api/v1/skills                       # è·å–æ‰€æœ‰ Skill åˆ—è¡¨
   172â†’GET  /api/v1/skills/{skill_id}            # è·å–å•ä¸ª Skill è¯¦æƒ…
   173â†’GET  /api/v1/skills/{skill_id}/services   # è·å– Skill æœåŠ¡åˆ—è¡¨
   174â†’POST /api/v1/skills/{skill_id}/{action}   # æ‰§è¡Œ Skill æœåŠ¡
   175â†’
   176â†’# æ–°å¢ - Skill è®¢é˜…ç®¡ç†
   177â†’GET  /api/v1/skills/subscriptions         # è·å–ç”¨æˆ·çš„è®¢é˜…åˆ—è¡¨
   178â†’POST /api/v1/skills/{skill_id}/subscribe  # è®¢é˜… Skill
   179â†’POST /api/v1/skills/{skill_id}/unsubscribe # å–æ¶ˆè®¢é˜… Skill
   180â†’POST /api/v1/skills/{skill_id}/push       # åˆ‡æ¢æ¨é€å¼€å…³
   181â†’
   182â†’# æ–°å¢ - Skill æ¨è
   183â†’GET  /api/v1/skills/recommendations       # è·å–æ¨è Skill
   184â†’GET  /api/v1/skills/featured              # è·å–ç²¾é€‰ Skill
   185â†’```
   186â†’
   187â†’### 3.2 API å“åº”æ ¼å¼
   188â†’
   189â†’#### GET /api/v1/skills
   190â†’
   191â†’```json
   192â†’{
   193â†’  "skills": [
   194â†’    {
   195â†’      "id": "bazi",
   196â†’      "name": "å…«å­—å‘½ç†",
   197â†’      "description": "èæ±‡å››å¤§ç»å…¸çš„å…«å­—å‘½ç†å¤§å¸ˆ",
   198â†’      "icon": "ğŸ”®",
   199â†’      "color": "#D4A574",
   200â†’      "category": "professional",
   201â†’      "pricing": {
   202â†’        "type": "premium",
   203â†’        "trial_messages": 3
   204â†’      },
   205â†’      "showcase": {
   206â†’        "tagline": "æ´å¯Ÿå‘½è¿ç„æœºï¼ŒæŠŠæ¡äººç”Ÿæ–¹å‘",
   207â†’        "highlights": ["èæ±‡å››å¤§ç»å…¸", "ä¸ªæ€§åŒ–è§£è¯»", "è¿åŠ¿è¶‹åŠ¿åˆ†æ"]
   208â†’      },
   209â†’      "user_status": {
   210â†’        "subscribed": true,
   211â†’        "push_enabled": true,
   212â†’        "trial_messages_used": 0
   213â†’      }
   214â†’    }
   215â†’  ],
   216â†’  "categories": {
   217â†’    "core": { "name": "æ ¸å¿ƒèƒ½åŠ›", "count": 1 },
   218â†’    "default": { "name": "åŸºç¡€åŠŸèƒ½", "count": 2 },
   219â†’    "professional": { "name": "ä¸“ä¸šæŠ€èƒ½", "count": 5 }
   220â†’  }
   221â†’}
   222â†’```
   223â†’
   224â†’#### GET /api/v1/skills/recommendations
   225â†’
   226â†’```json
   227â†’{
   228â†’  "recommendations": [
   229â†’    {
   230â†’      "skill_id": "zodiac",
   231â†’      "reason": "based_on_conversation",
   232â†’      "context": "ä½ æœ€è¿‘èŠåˆ°äº†äººé™…å…³ç³»ï¼Œæ˜Ÿåº§åˆ†æå¯ä»¥å¸®ä½ ç†è§£å…³ç³»åŠ¨åŠ›",
   233â†’      "score": 0.85
   234â†’    },
   235â†’    {
   236â†’      "skill_id": "mindfulness",
   237â†’      "reason": "based_on_emotion",
   238â†’      "context": "æ„ŸçŸ¥åˆ°ä½ å¯èƒ½æœ‰äº›ç„¦è™‘ï¼Œæ­£å¿µç»ƒä¹ å¯ä»¥å¸®åŠ©æ”¾æ¾",
   239â†’      "score": 0.72
   240â†’    }
   241â†’  ]
   242â†’}
   243â†’```
   244â†’
   245â†’---
   246â†’
   247â†’## 4. å‘ç°å…¥å£è®¾è®¡
   248â†’
   249â†’### 4.1 å…¥å£çŸ©é˜µ
   250â†’
   251â†’| å…¥å£ | ä½ç½® | è§¦å‘æ—¶æœº | å±•ç¤ºå½¢å¼ | ä¼˜å…ˆçº§ |
   252â†’|------|------|----------|----------|--------|
   253â†’| Skill å¸‚åœº | ç‹¬ç«‹é¡µé¢ /skills | ç”¨æˆ·ä¸»åŠ¨è®¿é—® | å®Œæ•´åˆ—è¡¨+åˆ†ç±» | HIGH |
   254â†’| å¯¹è¯æ¨è | å¯¹è¯æµä¸­ | AI æ£€æµ‹åˆ°ç›¸å…³æ„å›¾ | å†…åµŒå¡ç‰‡ | HIGH |
   255â†’| è®¾ç½®ç®¡ç† | è®¾ç½® > Skill ç®¡ç† | ç”¨æˆ·ç®¡ç†è®¢é˜… | å¼€å…³åˆ—è¡¨ | MEDIUM |
   256â†’| é¦–é¡µå¡ç‰‡ | ä¸»é¡µä¾§è¾¹æ  | æ¯æ¬¡è¿›å…¥é¦–é¡µ | æ¨èå¡ç‰‡ | MEDIUM |
   257â†’
   258â†’### 4.2 Skill å¸‚åœºé¡µé¢ (/skills)
   259â†’
   260â†’```
   261â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   262â†’â”‚  â† è¿”å›                    æ¢ç´¢ Skill                    ğŸ”     â”‚
   263â†’â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   264â†’â”‚                                                                  â”‚
   265â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
   266â†’â”‚  â”‚ ğŸŒŸ ç²¾é€‰æ¨è                                              â”‚    â”‚
   267â†’â”‚  â”‚                                                          â”‚    â”‚
   268â†’â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
   269â†’â”‚  â”‚ â”‚ ğŸ”®           â”‚  â”‚ â­           â”‚  â”‚ ğŸ´           â”‚    â”‚    â”‚
   270â†’â”‚  â”‚ â”‚ å…«å­—å‘½ç†     â”‚  â”‚ è¥¿æ–¹å æ˜Ÿ     â”‚  â”‚ å¡”ç½—å åœ     â”‚    â”‚    â”‚
   271â†’â”‚  â”‚ â”‚ æ´å¯Ÿå‘½è¿ç„æœº â”‚  â”‚ æ˜Ÿç›˜è§£è¯»     â”‚  â”‚ ç…§è§å†…å¿ƒ     â”‚    â”‚    â”‚
   272â†’â”‚  â”‚ â”‚ [å·²è®¢é˜… âœ“]   â”‚  â”‚ [ç«‹å³è¯•ç”¨]   â”‚  â”‚ [äº†è§£æ›´å¤š]   â”‚    â”‚    â”‚
   273â†’â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
   274â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
   275â†’â”‚                                                                  â”‚
   276â†’â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
   277â†’â”‚                                                                  â”‚
   278â†’â”‚  ğŸ“š åˆ†ç±»æµè§ˆ                                                     â”‚
   279â†’â”‚                                                                  â”‚
   280â†’â”‚  [å…¨éƒ¨] [å‘½ç†å åœ] [å¿ƒç†æˆé•¿] [ç”Ÿæ´»æ–¹å¼]                          â”‚
   281â†’â”‚                                                                  â”‚
   282â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
   283â†’â”‚  â”‚ ğŸ”® å…«å­—å‘½ç†                                    [å·²è®¢é˜…]  â”‚    â”‚
   284â†’â”‚  â”‚ èæ±‡ã€Šæ»´å¤©é«“ã€‹ã€Šç©·é€šå®é‰´ã€‹ç­‰ç»å…¸                          â”‚    â”‚
   285â†’â”‚  â”‚ â˜…â˜…â˜…â˜…â˜… Â· å‘½ç›˜è§£è¯» Â· å¤§è¿æµå¹´ Â· æ¯æ—¥è¿åŠ¿                   â”‚    â”‚
   286â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
   287â†’â”‚                                                                  â”‚
   288â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
   289â†’â”‚  â”‚ â­ è¥¿æ–¹å æ˜Ÿ                                    [è®¢é˜…]    â”‚    â”‚
   290â†’â”‚  â”‚ å¿ƒç†å æ˜Ÿåˆ†æï¼Œæ­ç¤ºå†…åœ¨æ„å›¾                                â”‚    â”‚
   291â†’â”‚  â”‚ â˜…â˜…â˜…â˜…â˜† Â· æ˜Ÿç›˜è§£è¯» Â· è¡Œè¿åˆ†æ Â· åˆç›˜é…å¯¹                   â”‚    â”‚
   292â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
   293â†’â”‚                                                                  â”‚
   294â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
   295â†’â”‚  â”‚ ğŸ§˜ æ­£å¿µå¯¼å¸ˆ                        [é»˜è®¤] [æ¨é€å¼€å¯ â—]   â”‚    â”‚
   296â†’â”‚  â”‚ 3åˆ†é’Ÿå†…è®©ä½ å¹³é™ä¸‹æ¥                                       â”‚    â”‚
   297â†’â”‚  â”‚ â˜…â˜…â˜…â˜…â˜… Â· å‘¼å¸ç»ƒä¹  Â· æƒ…ç»ªæ€¥æ•‘ Â· ç¡å‰æ”¾æ¾                   â”‚    â”‚
   298â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
   299â†’â”‚                                                                  â”‚
   300â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   301â†’```
   302â†’
   303â†’### 4.3 å¯¹è¯ä¸­æ™ºèƒ½æ¨è
   304â†’
   305â†’**è§¦å‘æ¡ä»¶**ï¼š
   306â†’1. ç”¨æˆ·æåˆ°æœªè®¢é˜… Skill çš„è§¦å‘è¯
   307â†’2. æƒ…ç»ªæ£€æµ‹åˆ°å¯è¢«æŸ Skill å¤„ç†
   308â†’3. å¯¹è¯ä¸»é¢˜ä¸æŸ Skill é«˜åº¦ç›¸å…³
   309â†’
   310â†’**æ¨èå¡ç‰‡æ ·å¼**ï¼š
   311â†’
   312â†’```
   313â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   314â†’â”‚ ğŸ’¡ å‘ç°ç›¸å…³èƒ½åŠ›                                              â”‚
   315â†’â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   316â†’â”‚                                                              â”‚
   317â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
   318â†’â”‚  â”‚ â­ è¥¿æ–¹å æ˜Ÿ                                         â”‚     â”‚
   319â†’â”‚  â”‚                                                     â”‚     â”‚
   320â†’â”‚  â”‚ ä½ æåˆ°äº†äººé™…å…³ç³»çš„å›°æ‰°ã€‚                            â”‚     â”‚
   321â†’â”‚  â”‚ æ˜Ÿåº§åˆç›˜åˆ†æå¯ä»¥å¸®ä½ ç†è§£ä½ ä»¬ä¹‹é—´çš„åŠ¨åŠ›æ¨¡å¼ã€‚         â”‚     â”‚
   322â†’â”‚  â”‚                                                     â”‚     â”‚
   323â†’â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚     â”‚
   324â†’â”‚  â”‚ â”‚   ç«‹å³è¯•ç”¨    â”‚  â”‚   äº†è§£æ›´å¤š   â”‚                 â”‚     â”‚
   325â†’â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚     â”‚
   326â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
   327â†’â”‚                                                              â”‚
   328â†’â”‚  [ä¸å†æ¨èæ­¤ Skill] [æš‚æ—¶éšè—]                                â”‚
   329â†’â”‚                                                              â”‚
   330â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   331â†’```
   332â†’
   333â†’### 4.4 è®¾ç½®é¡µé¢ç®¡ç†
   334â†’
   335â†’**ä½ç½®**ï¼šè®¾ç½® > Skill ç®¡ç†
   336â†’
   337â†’```
   338â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   339â†’â”‚  â† è®¾ç½®                    Skill ç®¡ç†                        â”‚
   340â†’â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   341â†’â”‚                                                              â”‚
   342â†’â”‚  å·²è®¢é˜… (4)                                                  â”‚
   343â†’â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
   344â†’â”‚                                                              â”‚
   345â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
   346â†’â”‚  â”‚ ğŸ’¬ Core                              [å§‹ç»ˆæ¿€æ´»]     â”‚     â”‚
   347â†’â”‚  â”‚ ç”Ÿå‘½å¯¹è¯è€… - AI çš„çµé­‚                              â”‚     â”‚
   348â†’â”‚  â”‚                                    æ¨é€: â”â”â”â”â”â”â”â”â”  â”‚     â”‚
   349â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
   350â†’â”‚                                                              â”‚
   351â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
   352â†’â”‚  â”‚ ğŸ”® å…«å­—å‘½ç†                                   [â—]  â”‚     â”‚
   353â†’â”‚  â”‚ å‘½ç›˜è§£è¯»ã€å¤§è¿æµå¹´ã€æ¯æ—¥è¿åŠ¿                        â”‚     â”‚
   354â†’â”‚  â”‚ æ¨é€: [â—]                           [å–æ¶ˆè®¢é˜…]      â”‚     â”‚
   355â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
   356â†’â”‚                                                              â”‚
   357â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
   358â†’â”‚  â”‚ ğŸ§˜ æ­£å¿µå¯¼å¸ˆ                         [é»˜è®¤] [â—]     â”‚     â”‚
   359â†’â”‚  â”‚ å‘¼å¸ç»ƒä¹ ã€æƒ…ç»ªæ€¥æ•‘                                  â”‚     â”‚
   360â†’â”‚  â”‚ æ¨é€: [â—]                           [å–æ¶ˆè®¢é˜…]      â”‚     â”‚
   361â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
   362â†’â”‚                                                              â”‚
   363â†’â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
   364â†’â”‚  æ¢ç´¢æ›´å¤š Skill â†’                                            â”‚
   365â†’â”‚                                                              â”‚
   366â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   367â†’```
   368â†’
   369â†’### 4.5 é¦–é¡µå¡ç‰‡æ¨è
   370â†’
   371â†’**ä½ç½®**ï¼šPC å³ä¾§è¾¹æ  / ç§»åŠ¨ç«¯é¦–é¡µ
   372â†’
   373â†’```
   374â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   375â†’â”‚ ğŸ’¡ ä¸ºä½ æ¨è                              â”‚
   376â†’â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   377â†’â”‚                                          â”‚
   378â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
   379â†’â”‚  â”‚ ğŸ´ å¡”ç½—å åœ                      â”‚    â”‚
   380â†’â”‚  â”‚                                  â”‚    â”‚
   381â†’â”‚  â”‚ "æŠ½ä¸€å¼ ç‰Œï¼Œ                      â”‚    â”‚
   382â†’â”‚  â”‚  çœ‹çœ‹ä»Šå¤©çš„æŒ‡å¼•"                  â”‚    â”‚
   383â†’â”‚  â”‚                                  â”‚    â”‚
   384â†’â”‚  â”‚ 3 æ¡å…è´¹ä½“éªŒæœºä¼š                  â”‚    â”‚
   385â†’â”‚  â”‚                                  â”‚    â”‚
   386â†’â”‚  â”‚ [ç«‹å³ä½“éªŒ]                        â”‚    â”‚
   387â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
   388â†’â”‚                                          â”‚
   389â†’â”‚  æŸ¥çœ‹å…¨éƒ¨ Skill â†’                        â”‚
   390â†’â”‚                                          â”‚
   391â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   392â†’```
   393â†’
   394â†’---
   395â†’
   396â†’## 5. Skill ä»‹ç»å¡ç‰‡ç»„ä»¶
   397â†’
   398â†’### 5.1 ç»„ä»¶å˜ä½“
   399â†’
   400â†’| å˜ä½“ | ç”¨é€” | å°ºå¯¸ |
   401â†’|------|------|------|
   402â†’| `compact` | åˆ—è¡¨é¡¹ã€å¿«é€Ÿé€‰æ‹© | é«˜åº¦å›ºå®š 64px |
   403â†’| `card` | å¸‚åœºå±•ç¤ºã€æ¨è | å®½åº¦è‡ªé€‚åº”ï¼Œé«˜åº¦ auto |
   404â†’| `detail` | è¯¦æƒ…é¡µ Hero | å…¨å®½ï¼Œé«˜åº¦ 200-300px |
   405â†’| `inline` | å¯¹è¯ä¸­å†…åµŒ | å®½åº¦ 100%ï¼Œé«˜åº¦ auto |
   406â†’
   407â†’### 5.2 ç»„ä»¶ Props
   408â†’
   409â†’```typescript
   410â†’interface SkillCardProps {
   411â†’  skill: SkillMetadata;
   412â†’  variant: 'compact' | 'card' | 'detail' | 'inline';
   413â†’  userStatus?: {
   414â†’    subscribed: boolean;
   415â†’    pushEnabled: boolean;
   416â†’    trialMessagesUsed: number;
   417â†’  };
   418â†’  showActions?: boolean;
   419â†’  onSubscribe?: () => void;
   420â†’  onUnsubscribe?: () => void;
   421â†’  onTogglePush?: () => void;
   422â†’  onTry?: () => void;
   423â†’  onLearnMore?: () => void;
   424â†’}
   425â†’```
   426â†’
   427â†’### 5.3 è§†è§‰è®¾è®¡
   428â†’
   429â†’**Card å˜ä½“**ï¼š
   430â†’
   431â†’```
   432â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   433â†’â”‚                                                          â”‚
   434â†’â”‚  â”Œâ”€â”€â”€â”€â”                                                 â”‚
   435â†’â”‚  â”‚ ğŸ”® â”‚  å…«å­—å‘½ç†                           [å·²è®¢é˜… âœ“]  â”‚
   436â†’â”‚  â””â”€â”€â”€â”€â”˜                                                 â”‚
   437â†’â”‚                                                          â”‚
   438â†’â”‚  æ´å¯Ÿå‘½è¿ç„æœºï¼ŒæŠŠæ¡äººç”Ÿæ–¹å‘                              â”‚
   439â†’â”‚                                                          â”‚
   440â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
   441â†’â”‚  â”‚ âœ“ å‘½ç›˜è§£è¯»  âœ“ å¤§è¿æµå¹´  âœ“ æ¯æ—¥è¿åŠ¿             â”‚    â”‚
   442â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
   443â†’â”‚                                                          â”‚
   444â†’â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
   445â†’â”‚                                                          â”‚
   446â†’â”‚  æ¨é€é€šçŸ¥                                     [â—]        â”‚
   447â†’â”‚                                                          â”‚
   448â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
   449â†’â”‚  â”‚              æŸ¥çœ‹è¯¦æƒ…                            â”‚    â”‚
   450â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
   451â†’â”‚                                                          â”‚
   452â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   453â†’```
   454â†’
   455â†’---
   456â†’
   457â†’## 6. ä¸ä¸»åŠ¨æ¨¡å—é›†æˆ
   458â†’
   459â†’### 6.1 æ¨é€æ§åˆ¶é€»è¾‘
   460â†’
   461â†’```python
   462â†’# services/proactive/engine.py æ‰©å±•
   463â†’
   464â†’async def _should_send_to_user(self, user_id: UUID, skill_id: str) -> bool:
   465â†’    """æ£€æŸ¥ç”¨æˆ·æ˜¯å¦åº”è¯¥æ”¶åˆ°è¯¥ Skill çš„æ¨é€"""
   466â†’
   467â†’    # 1. æ£€æŸ¥è®¢é˜…çŠ¶æ€
   468â†’    subscription = await SkillSubscriptionRepo.get(user_id, skill_id)
   469â†’
   470â†’    # 2. Core Skill å§‹ç»ˆå‘é€
   471â†’    if skill_id == "core":
   472â†’        return True
   473â†’
   474â†’    # 3. Default Skill æ£€æŸ¥æ˜¯å¦è¢«å–æ¶ˆè®¢é˜…
   475â†’    if skill_id in ["mindfulness", "lifecoach"]:
   476â†’        if subscription and subscription.status == "unsubscribed":
   477â†’            return False
   478â†’        # æ£€æŸ¥æ¨é€å¼€å…³
   479â†’        if subscription and not subscription.push_enabled:
   480â†’            return False
   481â†’        return True
   482â†’
   483â†’    # 4. Professional Skill éœ€è¦è®¢é˜…
   484â†’    if not subscription or subscription.status != "subscribed":
   485â†’        return False
   486â†’
   487â†’    # 5. æ£€æŸ¥æ¨é€å¼€å…³
   488â†’    return subscription.push_enabled
   489â†’```
   490â†’
   491â†’### 6.2 reminders.yaml æ‰©å±•
   492â†’
   493â†’æ¯ä¸ª Skill çš„ `reminders.yaml` æ–°å¢å­—æ®µï¼š
   494â†’
   495â†’```yaml
   496â†’# skills/bazi/reminders.yaml
   497â†’
   498â†’version: "1.0"
   499â†’skill_id: bazi
   500â†’description: å…«å­—å‘½ç†æé†’å®šä¹‰
   501â†’
   502â†’# æ–°å¢ï¼šè®¢é˜…æ§åˆ¶
   503â†’subscription:
   504â†’  category: professional
   505â†’  requires_subscription: true
   506â†’  push_default: true
   507â†’
   508â†’reminder_types:
   509â†’  - id: daily_fortune
   510â†’    name: æ¯æ—¥è¿åŠ¿
   511â†’    # ... å…¶ä»–é…ç½®
   512â†’```
   513â†’
   514â†’### 6.3 ç”¨æˆ·åå¥½åŒæ­¥
   515â†’
   516â†’æ¨é€å¼€å…³çŠ¶æ€å­˜å‚¨åœ¨ `user_skill_subscriptions.push_enabled`ï¼ŒProactiveEngine æŸ¥è¯¢æ—¶ JOIN æ­¤è¡¨è¿‡æ»¤ã€‚
   517â†’
   518â†’---
   519â†’
   520â†’## 7. æ¨èç®—æ³•
   521â†’
   522â†’### 7.1 æ¨èä¿¡å·
   523â†’
   524â†’| ä¿¡å· | æƒé‡ | æ¥æº |
   525â†’|------|------|------|
   526â†’| è§¦å‘è¯åŒ¹é… | 0.4 | å¯¹è¯å†…å®¹ |
   527â†’| æƒ…ç»ªæ£€æµ‹ | 0.25 | æƒ…ç»ªåˆ†æ |
   528â†’| ç”¨æˆ·æ¡£æ¡ˆ | 0.2 | unified_profiles |
   529â†’| ä½¿ç”¨å†å² | 0.15 | skill_usage_log |
   530â†’
   531â†’### 7.2 æ¨èåœºæ™¯
   532â†’
   533â†’```python
   534â†’class SkillRecommendationService:
   535â†’
   536â†’    async def get_conversation_recommendations(
   537â†’        self,
   538â†’        user_id: UUID,
   539â†’        message: str,
   540â†’        emotion: Optional[str] = None
   541â†’    ) -> List[SkillRecommendation]:
   542â†’        """åŸºäºå¯¹è¯å†…å®¹æ¨è Skill"""
   543â†’
   544â†’        recommendations = []
   545â†’
   546â†’        # 1. æ£€æŸ¥è§¦å‘è¯åŒ¹é…
   547â†’        for skill_id, config in self._skill_configs.items():
   548â†’            if self._matches_triggers(message, config.get("triggers", [])):
   549â†’                # æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²è®¢é˜…
   550â†’                subscription = await SkillSubscriptionRepo.get(user_id, skill_id)
   551â†’                if not subscription or subscription.status != "subscribed":
   552â†’                    recommendations.append(SkillRecommendation(
   553â†’                        skill_id=skill_id,
   554â†’                        reason="based_on_conversation",
   555â†’                        context=self._generate_context(message, config),
   556â†’                        score=0.85
   557â†’                    ))
   558â†’
   559â†’        # 2. æƒ…ç»ªæ£€æµ‹æ¨è
   560â†’        if emotion in ["anxious", "stressed", "worried"]:
   561â†’            recommendations.append(SkillRecommendation(
   562â†’                skill_id="mindfulness",
   563â†’                reason="based_on_emotion",
   564â†’                context="æ„ŸçŸ¥åˆ°ä½ å¯èƒ½æœ‰äº›ç„¦è™‘ï¼Œæ­£å¿µç»ƒä¹ å¯ä»¥å¸®åŠ©æ”¾æ¾",
   565â†’                score=0.72
   566â†’            ))
   567â†’
   568â†’        # 3. æŒ‰åˆ†æ•°æ’åºï¼Œå»é‡
   569â†’        return self._dedupe_and_sort(recommendations)
   570â†’```
   571â†’
   572â†’---
   573â†’
   574â†’## 8. å‰ç«¯ç»„ä»¶ç»“æ„
   575â†’
   576â†’### 8.1 ç›®å½•ç»“æ„
   577â†’
   578â†’```
   579â†’apps/web/src/
   580â†’â”œâ”€â”€ app/
   581â†’â”‚   â””â”€â”€ skills/
   582â†’â”‚       â”œâ”€â”€ page.tsx              # Skill å¸‚åœºé¡µé¢
   583â†’â”‚       â””â”€â”€ [skillId]/
   584â†’â”‚           â””â”€â”€ page.tsx          # Skill è¯¦æƒ…é¡µ
   585â†’â”œâ”€â”€ components/
   586â†’â”‚   â””â”€â”€ skill/
   587â†’â”‚       â”œâ”€â”€ SkillCard.tsx         # Skill å¡ç‰‡ç»„ä»¶
   588â†’â”‚       â”œâ”€â”€ SkillList.tsx         # Skill åˆ—è¡¨ç»„ä»¶
   589â†’â”‚       â”œâ”€â”€ SkillRecommendation.tsx  # æ¨èå¡ç‰‡
   590â†’â”‚       â”œâ”€â”€ SkillSubscriptionToggle.tsx  # è®¢é˜…å¼€å…³
   591â†’â”‚       â””â”€â”€ index.ts
   592â†’â”œâ”€â”€ hooks/
   593â†’â”‚   â”œâ”€â”€ useSkillSubscription.ts   # è®¢é˜…ç®¡ç† Hook
   594â†’â”‚   â””â”€â”€ useSkillRecommendations.ts # æ¨è Hook
   595â†’â””â”€â”€ providers/
   596â†’    â””â”€â”€ SkillProvider.tsx         # æ‰©å±•ç°æœ‰ Provider
   597â†’```
   598â†’
   599â†’### 8.2 æ ¸å¿ƒ Hook
   600â†’
   601â†’```typescript
   602â†’// hooks/useSkillSubscription.ts
   603â†’
   604â†’interface UseSkillSubscriptionReturn {
   605â†’  subscriptions: SkillSubscription[];
   606â†’  isLoading: boolean;
   607â†’  subscribe: (skillId: string) => Promise<void>;
   608â†’  unsubscribe: (skillId: string) => Promise<void>;
   609â†’  togglePush: (skillId: string, enabled: boolean) => Promise<void>;
   610â†’  isSubscribed: (skillId: string) => boolean;
   611â†’  isPushEnabled: (skillId: string) => boolean;
   612â†’}
   613â†’
   614â†’export function useSkillSubscription(): UseSkillSubscriptionReturn {
   615â†’  // å®ç°
   616â†’}
   617â†’```
   618â†’
   619â†’---
   620â†’
   621â†’## 9. è¿ç§»è®¡åˆ’
   622â†’
   623â†’### Phase 1: æ•°æ®æ¨¡å‹ (1 å¤©)
   624â†’- [ ] åˆ›å»º `user_skill_subscriptions` è¡¨
   625â†’- [ ] åˆ›å»º `skill_usage_log` è¡¨
   626â†’- [ ] ä¸ºç°æœ‰ç”¨æˆ·åˆå§‹åŒ–é»˜è®¤è®¢é˜…
   627â†’
   628â†’### Phase 2: API å¼€å‘ (2 å¤©)
   629â†’- [ ] æ‰©å±• `/api/v1/skills` è·¯ç”±
   630â†’- [ ] å®ç°è®¢é˜…ç®¡ç† API
   631â†’- [ ] å®ç°æ¨è API
   632â†’
   633â†’### Phase 3: å‰ç«¯å¼€å‘ (3 å¤©)
   634â†’- [ ] Skill å¸‚åœºé¡µé¢
   635â†’- [ ] Skill å¡ç‰‡ç»„ä»¶
   636â†’- [ ] è®¾ç½®é¡µé¢ Skill ç®¡ç†
   637â†’- [ ] å¯¹è¯æ¨èå¡ç‰‡
   638â†’
   639â†’### Phase 4: ä¸»åŠ¨æ¨¡å—é›†æˆ (1 å¤©)
   640â†’- [ ] ProactiveEngine é›†æˆè®¢é˜…æ£€æŸ¥
   641â†’- [ ] æ¨é€å¼€å…³é€»è¾‘
   642â†’
   643â†’### Phase 5: æ¨èç®—æ³• (2 å¤©)
   644â†’- [ ] è§¦å‘è¯åŒ¹é…
   645â†’- [ ] æƒ…ç»ªæ£€æµ‹é›†æˆ
   646â†’- [ ] é¦–é¡µæ¨èå¡ç‰‡
   647â†’
   648â†’---
   649â†’
   650â†’## 10. é™„å½•
   651â†’
   652â†’### 10.1 Skill å…ƒæ•°æ®å®Œæ•´ç¤ºä¾‹
   653â†’
   654â†’è§ `skill-metadata-schema.yaml`
   655â†’
   656â†’### 10.2 UI è®¾è®¡ç¨¿
   657â†’
   658â†’è§ `ui-designs/` ç›®å½•
   659â†’
   660â†’### 10.3 API å®Œæ•´æ–‡æ¡£
   661â†’
   662â†’è§ `api-reference.md`
   663â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
