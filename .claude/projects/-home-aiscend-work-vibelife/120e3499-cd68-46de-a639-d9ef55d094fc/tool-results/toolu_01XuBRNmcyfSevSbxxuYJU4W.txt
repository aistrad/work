The file /home/aiscend/work/vibelife/apps/api/routes/skills.py has been updated. Here's the result of running `cat -n` on a snippet of the edited file:
     1→"""
     2→Unified Skill Gateway - 统一 Skill API 入口
     3→
     4→所有 Skill 数据服务通过此路由访问:
     5→- POST /api/v1/skills/{skill_id}/{action}
     6→- GET /api/v1/skills/{skill_id}/services
     7→- GET /api/v1/skills
     8→
     9→v7.4 新增订阅管理端点:
    10→- GET /api/v1/skills/subscriptions
    11→- POST /api/v1/skills/{skill_id}/subscribe
    12→- POST /api/v1/skills/{skill_id}/unsubscribe
    13→- POST /api/v1/skills/{skill_id}/push
    14→- GET /api/v1/skills/recommendations
    15→- GET /api/v1/skills/featured
    16→
    17→v7.5 新增:
    18→- 数据库优先元数据加载（skill_catalog 表）
    19→- async 函数支持，SKILL.md 作为 fallback
    20→
    21→示例:
    22→- POST /api/v1/skills/bazi/chart
    23→- POST /api/v1/skills/zodiac/fortune
    24→- POST /api/v1/skills/tarot/draw
    25→"""
    26→import logging
    27→from datetime import datetime
    28→from typing import Optional, Dict, Any, List
    29→from uuid import UUID
    30→
    31→from fastapi import APIRouter, Depends, HTTPException, Header, Query
    32→from pydantic import BaseModel, Field
    33→
    34→from services.identity import get_optional_user, get_current_user, CurrentUser
    35→from services.agent.skill_service_registry import (
    36→    SkillServiceRegistry, ServiceContext
    37→)
    38→# v7.5: 优先使用 async 函数（数据库优先），sync 函数作为 fallback
    39→from services.agent.skill_loader import (
    40→    load_skill_metadata, get_all_skill_metadata, get_skills_by_category,
    41→    load_skill_metadata_async, get_all_skill_metadata_async, get_skills_by_category_async,
    42→    get_featured_skills_async, get_skill_categories_summary_async,
    43→)
    44→from stores.profile_cache import get_cached_profile_with_skill
    45→from stores.skill_subscription_repo import (
    46→    SkillSubscriptionRepository, SkillUsageRepository, SkillRecommendationBlockRepository
    47→)
    48→
    49→router = APIRouter(prefix="/skills", tags=["Skills"])
    50→logger = logging.getLogger(__name__)
    51→