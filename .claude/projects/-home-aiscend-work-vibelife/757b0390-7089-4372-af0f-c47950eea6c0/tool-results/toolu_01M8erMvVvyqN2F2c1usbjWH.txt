     1→@tailwind base;
     2→@tailwind components;
     3→@tailwind utilities;
     4→
     5→/* ═══════════════════════════════════════════════════════════════════════════
     6→   VibeLife Design System v7.1 - Linear 风格升级
     7→   克制、精致、流畅
     8→   ═══════════════════════════════════════════════════════════════════════════ */
     9→
    10→:root {
    11→  /* ====================================================================== */
    12→  /* 背景色系 - v7.1 Linear 风格 + 温暖东方美学                                */
    13→  /* ====================================================================== */
    14→  --bg-primary: #F8F7F4;        /* 柔和暖灰 - v7.1 升级 */
    15→  --bg-secondary: #F3F2EF;
    16→  --bg-tertiary: #EDEBE7;
    17→  --bg-card: #FFFFFF;
    18→  --bg-card-hover: #FAFAF8;
    19→  --bg-elevated: #FFFFFF;
    20→
    21→  /* ====================================================================== */
    22→  /* 文字色系 - v7.1 精细层级 (深灰非纯黑)                                     */
    23→  /* ====================================================================== */
    24→  --text-primary: #262626;      /* 深灰非纯黑 - v7.1 升级 */
    25→  --text-secondary: #525252;
    26→  --text-tertiary: #737373;
    27→  --text-disabled: #A3A3A3;
    28→  --text-inverse: #FFFFFF;
    29→
    30→  /* ====================================================================== */
    31→  /* 强调色 - v7.4 奶霜橘                                                     */
    32→  /* ====================================================================== */
    33→  --accent-primary: #EABE8A;    /* 奶霜橘 - 柔和温暖 */
    34→  --accent-secondary: #F0CFA6;  /* 浅奶霜 */
    35→  --accent-hover: #D9A872;      /* 深奶霜 hover */
    36→  --accent-premium: #E5B080;    /* Premium */
    37→
    38→  /* ====================================================================== */
    39→  /* 功能色                                                                   */
    40→  /* ====================================================================== */
    41→  --color-success: #22C55E;
    42→  --color-warning: #F59E0B;
    43→  --color-error: #EF4444;
    44→  --color-info: #3B82F6;
    45→
    46→  /* ====================================================================== */
    47→  /* 边框色系 - Linear 风格精致边框                                           */
    48→  /* ====================================================================== */
    49→  --border-subtle: rgba(0, 0, 0, 0.06);
    50→  --border-default: rgba(0, 0, 0, 0.08);
    51→  --border-strong: rgba(0, 0, 0, 0.12);
    52→  --border-focus: rgba(0, 0, 0, 0.2);
    53→
    54→  /* ====================================================================== */
    55→  /* 阴影系统 - v7.1 Linear 风格多层阴影                                       */
    56→  /* ====================================================================== */
    57→  --shadow-subtle: 0 1px 2px rgba(0, 0, 0, 0.04);
    58→  --shadow-soft:
    59→    0 1px 3px rgba(0, 0, 0, 0.04),
    60→    0 4px 12px rgba(0, 0, 0, 0.03);
    61→  --shadow-elevated:
    62→    0 2px 4px rgba(0, 0, 0, 0.04),
    63→    0 8px 24px rgba(0, 0, 0, 0.06);
    64→  --shadow-float:
    65→    0 4px 8px rgba(0, 0, 0, 0.04),
    66→    0 16px 48px rgba(0, 0, 0, 0.08);
    67→
    68→  /* v7.4 Card 专用多层阴影 - 奶霜橘 */
    69→  --shadow-card:
    70→    0 0 0 1px rgba(234, 190, 138, 0.10),
    71→    0 2px 4px rgba(234, 190, 138, 0.05),
    72→    0 4px 12px rgba(234, 190, 138, 0.08);
    73→  --shadow-card-hover:
    74→    0 0 0 1px rgba(234, 190, 138, 0.15),
    75→    0 4px 8px rgba(234, 190, 138, 0.08),
    76→    0 8px 24px rgba(234, 190, 138, 0.12);
    77→
    78→  /* ====================================================================== */
    79→  /* 字体系统 - Linear 风格                                                   */
    80→  /* ====================================================================== */
    81→  --font-sans: 'Inter', 'Noto Sans SC', system-ui, -apple-system, sans-serif;
    82→  --font-serif: 'Noto Serif SC', 'Songti SC', Georgia, serif;
    83→  --font-mono: 'JetBrains Mono', 'Fira Code', monospace;
    84→
    85→  /* 字号 - 14px 基准 */
    86→  --text-xs: 0.75rem;      /* 12px */
    87→  --text-sm: 0.8125rem;    /* 13px */
    88→  --text-base: 0.875rem;   /* 14px */
    89→  --text-lg: 1rem;         /* 16px */
    90→  --text-xl: 1.125rem;     /* 18px */
    91→  --text-2xl: 1.25rem;     /* 20px */
    92→  --text-3xl: 1.5rem;      /* 24px */
    93→  --text-4xl: 2rem;        /* 32px */
    94→
    95→  /* ====================================================================== */
    96→  /* 圆角系统                                                                 */
    97→  /* ====================================================================== */
    98→  --radius-sm: 6px;
    99→  --radius-md: 8px;
   100→  --radius-lg: 12px;
   101→  --radius-xl: 16px;
   102→  --radius-2xl: 20px;
   103→  --radius-full: 9999px;
   104→
   105→  /* ====================================================================== */
   106→  /* 间距系统                                                                 */
   107→  /* ====================================================================== */
   108→  --space-1: 0.25rem;
   109→  --space-2: 0.5rem;
   110→  --space-3: 0.75rem;
   111→  --space-4: 1rem;
   112→  --space-5: 1.25rem;
   113→  --space-6: 1.5rem;
   114→  --space-8: 2rem;
   115→  --space-10: 2.5rem;
   116→  --space-12: 3rem;
   117→
   118→  /* ====================================================================== */
   119→  /* 动效系统 - Spring easing                                                 */
   120→  /* ====================================================================== */
   121→  --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
   122→  --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
   123→  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
   124→  --duration-fast: 150ms;
   125→  --duration-normal: 200ms;
   126→  --duration-slow: 300ms;
   127→
   128→  /* ====================================================================== */
   129→  /* Tailwind 语义变量                                                        */
   130→  /* ====================================================================== */
   131→  --background: 0 0% 98%;
   132→  --foreground: 0 0% 9%;
   133→  --card: 0 0% 100%;
   134→  --card-foreground: 0 0% 9%;
   135→  --muted: 0 0% 96%;
   136→  --muted-foreground: 0 0% 45%;
   137→  --border: 0 0% 90%;
   138→  --ring: 0 0% 45%;
   139→
   140→  /* ====================================================================== */
   141→  /* Skill 动态主题色 - 默认值 (由 SkillProvider 动态覆盖)                    */
   142→  /* ====================================================================== */
   143→  --skill-primary: #EABE8A;          /* 奶霜橘 */
   144→  --skill-secondary: #F0CFA6;
   145→  --skill-glow: rgba(234, 190, 138, 0.3);
   146→  --skill-gradient: linear-gradient(135deg, #EABE8A 0%, #F0CFA6 100%);
   147→
   148→  /* ====================================================================== */
   149→  /* 布局变量                                                                 */
   150→  /* ====================================================================== */
   151→  --sidebar-width: 240px;
   152→  --sidebar-collapsed: 72px;
   153→  --topbar-height: 56px;
   154→  --commandbar-height: 64px;
   155→
   156→  /* 层级 */
   157→  --z-base: 1;
   158→  --z-dropdown: 100;
   159→  --z-sticky: 200;
   160→  --z-modal-backdrop: 400;
   161→  --z-modal: 500;
   162→  --z-toast: 600;
   163→
   164→  /* ====================================================================== */
   165→  /* Vellum 色板 - 羊皮纸暖色调 (v7.1 规范)                                   */
   166→  /* ====================================================================== */
   167→  --vellum-50: #FDFCFA;
   168→  --vellum-100: #FAF8F5;
   169→  --vellum-200: #F5F2ED;
   170→  --vellum-300: #EDE9E2;
   171→  --vellum-400: #E2DDD4;
   172→  --vellum-500: #D4CEC3;
   173→  --vellum-600: #B8B1A4;
   174→  --vellum-700: #9A9285;
   175→  --vellum-800: #7C7568;
   176→  --vellum-900: #5E584D;
   177→
   178→  /* ====================================================================== */
   179→  /* Gold 色板 - 沉稳金色 (v7.1 规范)                                         */
   180→  /* ====================================================================== */
   181→  --gold-50: #FDFCF8;
   182→  --gold-100: #FAF7EE;
   183→  --gold-200: #F2ECDA;
   184→  --gold-300: #E6DCC0;
   185→  --gold-400: #D4C9A0;
   186→  --gold-500: #BBA978;
   187→  --gold-600: #A08F5C;
   188→  --gold-700: #857648;
   189→  --gold-800: #6A5D38;
   190→  --gold-900: #4F4528;
   191→
   192→  /* ====================================================================== */
   193→  /* Mystic 色板 - 神秘紫灰调 (v7.1 规范)                                     */
   194→  /* ====================================================================== */
   195→  --mystic-50: #FAF9FB;
   196→  --mystic-100: #F3F1F5;
   197→  --mystic-200: #E5E1EB;
   198→  --mystic-300: #D2CBDC;
   199→  --mystic-400: #B5AAC5;
   200→  --mystic-500: #8E7FA0;
   201→  --mystic-600: #716480;
   202→  --mystic-700: #564B61;
   203→  --mystic-800: #3B3342;
   204→  --mystic-900: #201C24;
   205→
   206→  /* ====================================================================== */
   207→  /* Ink 色板 - v7.1 文字墨色 (深灰非纯黑)                                     */
   208→  /* ====================================================================== */
   209→  --ink-50: #F8F8F8;
   210→  --ink-100: #EFEFEF;
   211→  --ink-200: #DCDCDC;
   212→  --ink-300: #BDBDBD;
   213→  --ink-400: #989898;
   214→  --ink-500: #7C7C7C;
   215→  --ink-600: #656565;
   216→  --ink-700: #525252;
   217→  --ink-800: #262626;           /* v7.1 升级 - 深灰非纯黑 */
   218→  --ink-900: #1A1A1A;
   219→}
   220→
   221→/* ═══════════════════════════════════════════════════════════════════════════
   222→   深色模式
   223→   ═══════════════════════════════════════════════════════════════════════════ */
   224→
   225→[data-theme="dark"], .dark {
   226→  --bg-primary: #0A0A0A;
   227→  --bg-secondary: #141414;
   228→  --bg-tertiary: #1F1F1F;
   229→  --bg-card: #171717;
   230→  --bg-card-hover: #1F1F1F;
   231→  --bg-elevated: #1F1F1F;
   232→
   233→  --text-primary: #FAFAFA;
   234→  --text-secondary: #A3A3A3;
   235→  --text-tertiary: #737373;
   236→  --text-disabled: #525252;
   237→
   238→  --border-subtle: rgba(255, 255, 255, 0.06);
   239→  --border-default: rgba(255, 255, 255, 0.08);
   240→  --border-strong: rgba(255, 255, 255, 0.12);
   241→
   242→  --shadow-subtle: 0 1px 2px rgba(0, 0, 0, 0.2);
   243→  --shadow-soft:
   244→    0 1px 3px rgba(0, 0, 0, 0.2),
   245→    0 4px 12px rgba(0, 0, 0, 0.15);
   246→  --shadow-elevated:
   247→    0 2px 4px rgba(0, 0, 0, 0.2),
   248→    0 8px 24px rgba(0, 0, 0, 0.2);
   249→
   250→  --background: 0 0% 4%;
   251→  --foreground: 0 0% 98%;
   252→  --card: 0 0% 9%;
   253→  --card-foreground: 0 0% 98%;
   254→  --muted: 0 0% 15%;
   255→  --muted-foreground: 0 0% 64%;
   256→  --border: 0 0% 15%;
   257→
   258→  /* Vellum 深色模式 */
   259→  --vellum-50: #1A1814;
   260→  --vellum-100: #252119;
   261→  --vellum-200: #302A1E;
   262→  --vellum-300: #3B3323;
   263→  --vellum-400: #463C28;
   264→  --vellum-500: #5E5438;
   265→  --vellum-600: #7A6E4D;
   266→  --vellum-700: #9A8E6D;
   267→  --vellum-800: #BAB092;
   268→  --vellum-900: #DAD4C0;
   269→
   270→  /* Gold 深色模式 */
   271→  --gold-50: #1A1810;
   272→  --gold-100: #2A2518;
   273→  --gold-200: #3A3220;
   274→  --gold-300: #4A3F28;
   275→  --gold-400: #5A4C30;
   276→  --gold-500: #7A6840;
   277→  --gold-600: #9A8858;
   278→  --gold-700: #BAA878;
   279→  --gold-800: #DAC898;
   280→  --gold-900: #EAE0C0;
   281→
   282→  /* Mystic 深色模式 */
   283→  --mystic-50: #18171A;
   284→  --mystic-100: #252328;
   285→  --mystic-200: #322F38;
   286→  --mystic-300: #3F3B48;
   287→  --mystic-400: #4C4758;
   288→  --mystic-500: #5E5870;
   289→  --mystic-600: #7A7490;
   290→  --mystic-700: #9A94B0;
   291→  --mystic-800: #BAB4D0;
   292→  --mystic-900: #DAD6E8;
   293→
   294→  /* Ink 深色模式 */
   295→  --ink-50: #1A1A1A;
   296→  --ink-100: #2A2A2A;
   297→  --ink-200: #3A3A3A;
   298→  --ink-300: #4A4A4A;
   299→  --ink-400: #5A5A5A;
   300→  --ink-500: #7A7A7A;
   301→  --ink-600: #9A9A9A;
   302→  --ink-700: #BABABA;
   303→  --ink-800: #DADADA;
   304→  --ink-900: #F0F0F0;
   305→}
   306→
   307→/* ═══════════════════════════════════════════════════════════════════════════
   308→   Base Layer
   309→   ═══════════════════════════════════════════════════════════════════════════ */
   310→
   311→@layer base {
   312→  * {
   313→    border-color: var(--border-default);
   314→  }
   315→
   316→  html {
   317→    scroll-behavior: smooth;
   318→    -webkit-font-smoothing: antialiased;
   319→    -moz-osx-font-smoothing: grayscale;
   320→    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
   321→    /* Web Interface Guidelines: color-scheme for native dark mode elements */
   322→    color-scheme: light dark;
   323→  }
   324→
   325→  body {
   326→    background-color: var(--bg-primary);
   327→    color: var(--text-primary);
   328→    font-family: var(--font-sans);
   329→    font-size: var(--text-base);
   330→    line-height: 1.5;
   331→    min-height: 100vh;
   332→    /* Web Interface Guidelines: touch-action for faster tap response */
   333→    touch-action: manipulation;
   334→    /* Web Interface Guidelines: intentional tap highlight */
   335→    -webkit-tap-highlight-color: rgba(234, 190, 138, 0.2);
   336→  }
   337→
   338→  h1, h2, h3, h4, h5, h6 {
   339→    font-family: var(--font-sans);
   340→    font-weight: 600;
   341→    letter-spacing: -0.02em;
   342→    color: var(--text-primary);
   343→  }
   344→
   345→  ::selection {
   346→    background: rgba(120, 113, 108, 0.2);
   347→  }
   348→}
   349→
   350→/* ═══════════════════════════════════���═══════════════════════════════════════
   351→   Components Layer - Linear 风格组件
   352→   ═══════════════════════════════════════════════════════════════════════════ */
   353→
   354→@layer components {
   355→  /* ====================================================================== */
   356→  /* Buttons - Linear 风格                                                   */
   357→  /* ====================================================================== */
   358→  .btn {
   359→    display: inline-flex;
   360→    align-items: center;
   361→    justify-content: center;
   362→    gap: 0.5rem;
   363→    font-family: var(--font-sans);
   364→    font-weight: 500;
   365→    font-size: var(--text-base);
   366→    border-radius: var(--radius-md);
   367→    /* Web Interface Guidelines: specify properties instead of 'all' */
   368→    transition:
   369→      background-color var(--duration-fast) var(--ease-out-expo),
   370→      color var(--duration-fast) var(--ease-out-expo),
   371→      border-color var(--duration-fast) var(--ease-out-expo),
   372→      box-shadow var(--duration-fast) var(--ease-out-expo),
   373→      transform var(--duration-fast) var(--ease-out-expo);
   374→    cursor: pointer;
   375→  }
   376→
   377→  .btn:focus-visible {
   378→    outline: none;
   379→    box-shadow: 0 0 0 2px var(--bg-primary), 0 0 0 4px var(--accent-primary);
   380→  }
   381→
   382→  .btn:disabled {
   383→    pointer-events: none;
   384→    opacity: 0.5;
   385→  }
   386→
   387→  .btn:active {
   388→    transform: scale(0.98);
   389→  }
   390→
   391→  .btn-primary {
   392→    background: var(--text-primary);
   393→    color: var(--text-inverse);
   394→    padding: 0.625rem 1rem;
   395→    height: 40px;
   396→  }
   397→
   398→  .btn-primary:hover {
   399→    background: var(--accent-hover);
   400→  }
   401→
   402→  .btn-secondary {
   403→    background: var(--bg-card);
   404→    color: var(--text-primary);
   405→    border: 1px solid var(--border-default);
   406→    padding: 0.625rem 1rem;
   407→    height: 40px;
   408→    box-shadow: var(--shadow-subtle);
   409→  }
   410→
   411→  .btn-secondary:hover {
   412→    background: var(--bg-secondary);
   413→    border-color: var(--border-strong);
   414→  }
   415→
   416→  .btn-ghost {
   417→    background: transparent;
   418→    color: var(--text-secondary);
   419→    padding: 0.5rem 0.75rem;
   420→  }
   421→
   422→  .btn-ghost:hover {
   423→    background: var(--bg-secondary);
   424→    color: var(--text-primary);
   425→  }
   426→
   427→  .btn-sm {
   428→    font-size: var(--text-sm);
   429→    padding: 0.375rem 0.75rem;
   430→    height: 32px;
   431→  }
   432→
   433→  .btn-lg {
   434→    font-size: var(--text-lg);
   435→    padding: 0.75rem 1.5rem;
   436→    height: 48px;
   437→  }
   438→
   439→  /* ====================================================================== */
   440→  /* Cards - Linear 风格                                                     */
   441→  /* ====================================================================== */
   442→  .card {
   443→    background: var(--bg-card);
   444→    border-radius: var(--radius-lg);
   445→    border: 1px solid var(--border-subtle);
   446→    box-shadow: var(--shadow-soft);
   447→    /* Web Interface Guidelines: specify properties instead of 'all' */
   448→    transition:
   449→      box-shadow var(--duration-normal) var(--ease-out-expo),
   450→      border-color var(--duration-normal) var(--ease-out-expo);
   451→  }
   452→
   453→  .card:hover {
   454→    box-shadow: var(--shadow-elevated);
   455→    border-color: var(--border-default);
   456→  }
   457→
   458→  .card-flat {
   459→    background: var(--bg-card);
   460→    border-radius: var(--radius-lg);
   461→    border: 1px solid var(--border-default);
   462→  }
   463→
   464→  .card-elevated {
   465→    background: var(--bg-elevated);
   466→    border-radius: var(--radius-lg);
   467→    box-shadow: var(--shadow-elevated);
   468→  }
   469→
   470→  /* PC端 Card 优化 */
   471→  @media (min-width: 1024px) {
   472→    .card {
   473→      border-radius: var(--radius-xl);
   474→    }
   475→
   476→    .card-flat {
   477→      border-radius: var(--radius-xl);
   478→    }
   479→
   480→    .card-elevated {
   481→      border-radius: var(--radius-xl);
   482→    }
   483→  }
   484→
   485→  /* ====================================================================== */
   486→  /* Chat Bubbles - Linear 风格                                              */
   487→  /* ====================================================================== */
   488→  .chat-bubble-user {
   489→    background: var(--text-primary);
   490→    color: var(--text-inverse);
   491→    border-radius: var(--radius-xl);
   492→    border-bottom-right-radius: var(--radius-sm);
   493→    padding: 0.75rem 1rem;
   494→    max-width: 85%;
   495→    margin-left: auto;
   496→  }
   497→
   498→  .chat-bubble-assistant {
   499→    background: var(--bg-card);
   500→    color: var(--text-primary);
   501→    border: 1px solid var(--border-subtle);
   502→    border-radius: var(--radius-xl);
   503→    border-bottom-left-radius: var(--radius-sm);
   504→    padding: 0.75rem 1rem;
   505→    max-width: 85%;
   506→    box-shadow: var(--shadow-subtle);
   507→  }
   508→
   509→  .chat-timestamp {
   510→    font-size: var(--text-xs);
   511→    color: var(--text-tertiary);
   512→    margin-top: 0.25rem;
   513→  }
   514→
   515→  /* PC端优化 - Claude/Gemini 风格气泡 */
   516→  @media (min-width: 1024px) {
   517→    .chat-bubble-user {
   518→      padding: 1.25rem 1.5rem;
   519→      font-size: 1.0625rem;
   520→      line-height: 1.75;
   521→      max-width: 70%;
   522→    }
   523→
   524→    .chat-bubble-assistant {
   525→      padding: 1.25rem 1.5rem;
   526→      font-size: 1.0625rem;
   527→      line-height: 1.75;
   528→      max-width: 70%;
   529→      /* Claude 风格多层阴影 */
   530→      box-shadow:
   531→        0 0.25rem 1.25rem rgba(0, 0, 0, 0.035),
   532→        0 0.125rem 0.5rem rgba(0, 0, 0, 0.025);
   533→    }
   534→
   535→    .chat-timestamp {
   536→      font-size: 0.8125rem;
   537→      margin-top: 0.375rem;
   538→    }
   539→  }
   540→
   541→  /* ====================================================================== */
   542→  /* Input - Linear 风格                                                     */
   543→  /* ====================================================================== */
   544→  .input {
   545→    width: 100%;
   546→    background: var(--bg-card);
   547→    color: var(--text-primary);
   548→    border-radius: var(--radius-md);
   549→    padding: 0.625rem 0.875rem;
   550→    border: 1px solid var(--border-default);
   551→    font-size: var(--text-base);
   552→    /* Web Interface Guidelines: specify properties instead of 'all' */
   553→    transition:
   554→      border-color var(--duration-fast) var(--ease-out-expo),
   555→      box-shadow var(--duration-fast) var(--ease-out-expo);
   556→  }
   557→
   558→  .input::placeholder {
   559→    color: var(--text-disabled);
   560→  }
   561→
   562→  .input:focus {
   563→    outline: none;
   564→    border-color: var(--border-focus);
   565→    box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.05);
   566→  }
   567→
   568→  /* Date/Time input 优化 - 确保年份输入正常 */
   569→  .input[type="date"],
   570→  .input[type="time"] {
   571→    min-width: 180px;
   572→    -webkit-appearance: none;
   573→    appearance: none;
   574→  }
   575→
   576→  .input[type="date"]::-webkit-calendar-picker-indicator,
   577→  .input[type="time"]::-webkit-calendar-picker-indicator {
   578→    cursor: pointer;
   579→    opacity: 0.6;
   580→    transition: opacity 0.2s;
   581→  }
   582→
   583→  .input[type="date"]::-webkit-calendar-picker-indicator:hover,
   584→  .input[type="time"]::-webkit-calendar-picker-indicator:hover {
   585→    opacity: 1;
   586→  }
   587→
   588→  /* 确保日期输入框内的年份字段有足够宽度 */
   589→  .input[type="date"]::-webkit-datetime-edit-year-field {
   590→    min-width: 4ch;
   591→  }
   592→
   593→  /* ====================================================================== */
   594→  /* Omnibar - 聊天输入框                                                    */
   595→  /* ====================================================================== */
   596→  .omnibar {
   597→    display: flex;
   598→    align-items: center;
   599→    gap: 0.75rem;
   600→    background: var(--bg-card);
   601→    border-radius: var(--radius-2xl);
   602→    padding: 0.625rem 0.625rem 0.625rem 1.125rem;
   603→    min-height: 56px;
   604→    border: 1px solid var(--border-default);
   605→    /* Gemini 风格增强阴影 */
   606→    box-shadow:
   607→      0 2px 8px rgba(0, 0, 0, 0.04),
   608→      0 4px 16px rgba(0, 0, 0, 0.03);
   609→    /* Web Interface Guidelines: specify properties instead of 'all' */
   610→    transition:
   611→      border-color var(--duration-fast) var(--ease-out-expo),
   612→      box-shadow var(--duration-fast) var(--ease-out-expo);
   613→  }
   614→
   615→  .omnibar:focus-within {
   616→    border-color: var(--border-focus);
   617→    box-shadow: var(--shadow-elevated);
   618→  }
   619→
   620→  .omnibar-input {
   621→    flex: 1;
   622→    background: transparent;
   623→    border: none;
   624→    outline: none;
   625→    color: var(--text-primary);
   626→    font-size: var(--text-base);
   627→    resize: none;
   628→  }
   629→
   630→  .omnibar-input::placeholder {
   631→    color: var(--text-disabled);
   632→  }
   633→
   634→  .omnibar-send {
   635→    width: 48px;
   636→    height: 48px;
   637→    border-radius: var(--radius-full);
   638→    background: var(--text-primary);
   639→    color: var(--text-inverse);
   640→    display: flex;
   641→    align-items: center;
   642→    justify-content: center;
   643→    /* Web Interface Guidelines: specify properties instead of 'all' */
   644→    transition:
   645→      background-color var(--duration-fast) var(--ease-out-expo),
   646→      transform var(--duration-fast) var(--ease-out-expo),
   647→      opacity var(--duration-fast) var(--ease-out-expo);
   648→    flex-shrink: 0;
   649→  }
   650→
   651→  .omnibar-send:hover {
   652→    background: var(--accent-hover);
   653→    transform: scale(1.05);
   654→  }
   655→
   656→  .omnibar-send:active {
   657→    transform: scale(0.95);
   658→  }
   659→
   660→  .omnibar-btn {
   661→    width: 36px;
   662→    height: 36px;
   663→    border-radius: var(--radius-full);
   664→    background: transparent;
   665→    color: var(--text-tertiary);
   666→    display: flex;
   667→    align-items: center;
   668→    justify-content: center;
   669→    /* Web Interface Guidelines: specify properties instead of 'all' */
   670→    transition:
   671→      background-color var(--duration-fast) var(--ease-out-expo),
   672→      color var(--duration-fast) var(--ease-out-expo);
   673→    flex-shrink: 0;
   674→  }
   675→
   676→  .omnibar-btn:hover {
   677→    background: var(--bg-secondary);
   678→    color: var(--text-primary);
   679→  }
   680→
   681→  .omnibar-btn:disabled {
   682→    opacity: 0.4;
   683→    cursor: not-allowed;
   684→  }
   685→
   686→  /* PC端 Omnibar 优化 */
   687→  @media (min-width: 1024px) {
   688→    .omnibar {
   689→      padding: 0.875rem 1rem;
   690→      gap: 1rem;
   691→    }
   692→
   693→    .omnibar-input {
   694→      font-size: 1rem;
   695→    }
   696→
   697→    .omnibar-send {
   698→      width: 42px;
   699→      height: 42px;
   700→    }
   701→
   702→    .omnibar-btn {
   703→      width: 40px;
   704→      height: 40px;
   705→    }
   706→  }
   707→
   708→  /* ====================================================================== */
   709→  /* Navigation                                                              */
   710→  /* ====================================================================== */
   711→  .nav {
   712→    position: sticky;
   713→    top: 0;
   714→    z-index: var(--z-sticky);
   715→    background: rgba(250, 250, 250, 0.8);
   716→    backdrop-filter: blur(12px);
   717→    -webkit-backdrop-filter: blur(12px);
   718→    border-bottom: 1px solid var(--border-subtle);
   719→  }
   720→
   721→  .tab-bar {
   722→    position: fixed;
   723→    bottom: 0;
   724→    left: 0;
   725→    right: 0;
   726→    z-index: var(--z-sticky);
   727→    background: var(--bg-card);
   728→    border-top: 1px solid var(--border-subtle);
   729→    padding-bottom: env(safe-area-inset-bottom);
   730→  }
   731→
   732→  .tab-item {
   733→    display: flex;
   734→    flex-direction: column;
   735→    align-items: center;
   736→    gap: 0.25rem;
   737→    padding: 0.5rem 1rem;
   738→    color: var(--text-tertiary);
   739→    font-size: var(--text-xs);
   740→    transition: color var(--duration-fast);
   741→  }
   742→
   743→  .tab-item.active {
   744→    color: var(--text-primary);
   745→  }
   746→}
   747→
   748→/* ═══════════════════════════════════════════════════════════════════════════
   749→   Shimmer 动画 - Linear 风格微光效果
   750→   ═══════════════════════════════════════════════════════════════════════════ */
   751→
   752→@keyframes shimmer {
   753→  0% {
   754→    background-position: -200% 0;
   755→  }
   756→  100% {
   757→    background-position: 200% 0;
   758→  }
   759→}
   760→
   761→.animate-shimmer {
   762→  animation: shimmer 2s ease-in-out infinite;
   763→}
   764→
   765→.shimmer-gradient {
   766→  background: linear-gradient(
   767→    90deg,
   768→    transparent 0%,
   769→    rgba(255, 255, 255, 0.4) 50%,
   770→    transparent 100%
   771→  );
   772→  background-size: 200% 100%;
   773→}
   774→
   775→/* 骨架屏基础样式 */
   776→.skeleton {
   777→  position: relative;
   778→  overflow: hidden;
   779→  background-color: var(--bg-tertiary);
   780→  border-radius: var(--radius-md);
   781→}
   782→
   783→.skeleton::before {
   784→  content: '';
   785→  position: absolute;
   786→  inset: 0;
   787→  background: linear-gradient(
   788→    90deg,
   789→    transparent 0%,
   790→    rgba(255, 255, 255, 0.5) 50%,
   791→    transparent 100%
   792→  );
   793→  background-size: 200% 100%;
   794→  animation: shimmer 2s ease-in-out infinite;
   795→}
   796→
   797→/* 打字光标 */
   798→.typing-cursor {
   799→  display: inline-block;
   800→  width: 2px;
   801→  height: 1em;
   802→  background: var(--accent-primary);
   803→  margin-left: 2px;
   804→  vertical-align: text-bottom;
   805→  animation: blink 1s ease-in-out infinite;
   806→}
   807→
   808→@keyframes blink {
   809→  0%, 50% { opacity: 1; }
   810→  51%, 100% { opacity: 0; }
   811→}
   812→
   813→/* 流式文字加载点 */
   814→.streaming-dots {
   815→  display: inline-flex;
   816→  align-items: center;
   817→  gap: 3px;
   818→  margin-left: 4px;
   819→}
   820→
   821→.streaming-dots span {
   822→  width: 4px;
   823→  height: 4px;
   824→  border-radius: 50%;
   825→  background: currentColor;
   826→  opacity: 0.6;
   827→  animation: pulse-soft 1.4s ease-in-out infinite;
   828→}
   829→
   830→.streaming-dots span:nth-child(2) {
   831→  animation-delay: 0.2s;
   832→}
   833→
   834→.streaming-dots span:nth-child(3) {
   835→  animation-delay: 0.4s;
   836→}
   837→
   838→@keyframes pulse-soft {
   839→  0%, 100% { opacity: 0.4; transform: scale(0.8); }
   840→  50% { opacity: 1; transform: scale(1); }
   841→}
   842→
   843→/* ═══════════════════════════════════════════════════════════════════════════
   844→   Utilities Layer
   845→   ═══════════════════════════════════════════════════════════════════════════ */
   846→
   847→@layer utilities {
   848→  .text-balance {
   849→    text-wrap: balance;
   850→  }
   851→
   852→  /* Web Interface Guidelines: text-wrap: pretty for body text */
   853→  .text-pretty {
   854→    text-wrap: pretty;
   855→  }
   856→
   857→  .safe-bottom {
   858→    padding-bottom: env(safe-area-inset-bottom);
   859→  }
   860→
   861→  /* Web Interface Guidelines: tabular-nums for aligned numbers */
   862→  .tabular-nums {
   863→    font-variant-numeric: tabular-nums;
   864→  }
   865→
   866→  /* Web Interface Guidelines: slashed-zero for better number readability */
   867→  .slashed-zero {
   868→    font-variant-numeric: slashed-zero;
   869→  }
   870→
   871→  /* 动画延迟 */
   872→  .animation-delay-150 {
   873→    animation-delay: 150ms;
   874→  }
   875→
   876→  .animation-delay-300 {
   877→    animation-delay: 300ms;
   878→  }
   879→
   880→  /* Spring 动画 */
   881→  .transition-spring {
   882→    transition-timing-function: var(--ease-spring);
   883→  }
   884→
   885→  .transition-expo {
   886→    transition-timing-function: var(--ease-out-expo);
   887→  }
   888→}
   889→
   890→/* ═══════════════════════════════════════════════════════════════════════════
   891→   Scrollbar - Linear 风格
   892→   ═══════════════════════════════════════════════════════════════════════════ */
   893→
   894→::-webkit-scrollbar {
   895→  width: 8px;
   896→  height: 8px;
   897→}
   898→
   899→::-webkit-scrollbar-track {
   900→  background: transparent;
   901→}
   902→
   903→::-webkit-scrollbar-thumb {
   904→  background: var(--border-strong);
   905→  border-radius: 4px;
   906→}
   907→
   908→::-webkit-scrollbar-thumb:hover {
   909→  background: var(--text-disabled);
   910→}
   911→
   912→/* Scrollbar Hide Utility */
   913→.scrollbar-hide {
   914→  -ms-overflow-style: none;  /* IE and Edge */
   915→  scrollbar-width: none;  /* Firefox */
   916→}
   917→
   918→.scrollbar-hide::-webkit-scrollbar {
   919→  display: none;  /* Chrome, Safari and Opera */
   920→}
   921→
   922→/* ═══════════════════════════════════════════════════════════════════════════
   923→   Animations
   924→   ═══════════════════════════════════════════════════════════════════════════ */
   925→
   926→@keyframes fadeIn {
   927→  from { opacity: 0; }
   928→  to { opacity: 1; }
   929→}
   930→
   931→@keyframes fadeInUp {
   932→  from {
   933→    opacity: 0;
   934→    transform: translateY(8px);
   935→  }
   936→  to {
   937→    opacity: 1;
   938→    transform: translateY(0);
   939→  }
   940→}
   941→
   942→@keyframes scaleIn {
   943→  from {
   944→    opacity: 0;
   945→    transform: scale(0.95);
   946→  }
   947→  to {
   948→    opacity: 1;
   949→    transform: scale(1);
   950→  }
   951→}
   952→
   953→.fade-in {
   954→  animation: fadeIn var(--duration-normal) var(--ease-out-expo) both;
   955→}
   956→
   957→.fade-in-up {
   958→  animation: fadeInUp var(--duration-slow) var(--ease-out-expo) both;
   959→}
   960→
   961→.scale-in {
   962→  animation: scaleIn var(--duration-normal) var(--ease-spring) both;
   963→}
   964→
   965→/* ═══════════════════════════════════════════════════════════════════════════
   966→   PC Layout Components
   967→   ═══════════════════════════════════════════════════════════════════════════ */
   968→
   969→@layer components {
   970→  .pc-layout {
   971→    display: flex;
   972→    min-height: 100vh;
   973→    background: var(--bg-primary);
   974→  }
   975→
   976→  .pc-sidebar {
   977→    position: fixed;
   978→    left: 0;
   979→    top: 0;
   980→    bottom: 0;
   981→    width: var(--sidebar-width);
   982→    background: var(--bg-card);
   983→    border-right: 1px solid var(--border-subtle);
   984→    z-index: var(--z-sticky);
   985→    display: flex;
   986→    flex-direction: column;
   987→    transition: width var(--duration-slow) var(--ease-out-expo);
   988→  }
   989→
   990→  .pc-sidebar.collapsed {
   991→    width: var(--sidebar-collapsed);
   992→  }
   993→
   994→  .pc-nav-item {
   995→    display: flex;
   996→    align-items: center;
   997→    gap: 12px;
   998→    padding: 10px 14px;
   999→    border-radius: var(--radius-md);
  1000→    color: var(--text-secondary);
  1001→    font-size: var(--text-base);
  1002→    /* Web Interface Guidelines: specify properties instead of 'all' */
  1003→    transition:
  1004→      background-color var(--duration-fast) var(--ease-out-expo),
  1005→      color var(--duration-fast) var(--ease-out-expo);
  1006→    cursor: pointer;
  1007→  }
  1008→
  1009→  .pc-nav-item:hover {
  1010→    background: var(--bg-secondary);
  1011→    color: var(--text-primary);
  1012→  }
  1013→
  1014→  .pc-nav-item.active {
  1015→    background: var(--bg-tertiary);
  1016→    color: var(--text-primary);
  1017→    font-weight: 500;
  1018→  }
  1019→
  1020→  .pc-topbar {
  1021→    position: fixed;
  1022→    top: 0;
  1023→    left: var(--sidebar-width);
  1024→    right: 0;
  1025→    height: var(--topbar-height);
  1026→    background: rgba(250, 250, 250, 0.8);
  1027→    backdrop-filter: blur(12px);
  1028→    border-bottom: 1px solid var(--border-subtle);
  1029→    z-index: var(--z-sticky);
  1030→    display: flex;
  1031→    align-items: center;
  1032→    justify-content: space-between;
  1033→    padding: 0 20px;
  1034→    transition: left var(--duration-slow) var(--ease-out-expo);
  1035→  }
  1036→
  1037→  .pc-main {
  1038→    margin-left: var(--sidebar-width);
  1039→    margin-top: var(--topbar-height);
  1040→    margin-bottom: var(--commandbar-height);
  1041→    min-height: calc(100vh - var(--topbar-height) - var(--commandbar-height));
  1042→    display: flex;
  1043→    transition: margin-left var(--duration-slow) var(--ease-out-expo);
  1044→  }
  1045→
  1046→  .pc-commandbar {
  1047→    position: fixed;
  1048→    bottom: 0;
  1049→    left: var(--sidebar-width);
  1050→    right: 0;
  1051→    height: var(--commandbar-height);
  1052→    background: var(--bg-primary);
  1053→    border-top: 1px solid var(--border-subtle);
  1054→    z-index: var(--z-sticky);
  1055→    display: flex;
  1056→    align-items: center;
  1057→    justify-content: center;
  1058→    padding: 0 20px;
  1059→    transition: left var(--duration-slow) var(--ease-out-expo);
  1060→  }
  1061→}
  1062→
  1063→/* 响应式 */
  1064→@media (max-width: 1279px) {
  1065→  .pc-sidebar {
  1066→    width: var(--sidebar-collapsed);
  1067→  }
  1068→  .pc-topbar {
  1069→    left: var(--sidebar-collapsed);
  1070→  }
  1071→  .pc-main {
  1072→    margin-left: var(--sidebar-collapsed);
  1073→  }
  1074→  .pc-commandbar {
  1075→    left: var(--sidebar-collapsed);
  1076→  }
  1077→}
  1078→
  1079→@media (max-width: 1023px) {
  1080→  .pc-layout,
  1081→  .pc-sidebar,
  1082→  .pc-topbar,
  1083→  .pc-commandbar {
  1084→    display: none;
  1085→  }
  1086→}
  1087→
  1088→/* ═══════════════════════════════════════════════════════════════════════════
  1089→   Performance Optimizations - Vercel Best Practices
  1090→   ═══════════════════════════════════════════════════════════════════════════ */
  1091→
  1092→/* content-visibility for long lists (rule: rendering-content-visibility) */
  1093→.chat-message-item {
  1094→  content-visibility: auto;
  1095→  contain-intrinsic-size: 0 100px;
  1096→}
  1097→
  1098→.list-item-virtualized {
  1099→  content-visibility: auto;
  1100→  contain-intrinsic-size: 0 60px;
  1101→}
  1102→
  1103→/* Optimized animations - replace framer-motion for simple cases */
  1104→@keyframes slideInUp {
  1105→  from {
  1106→    opacity: 0;
  1107→    transform: translateY(10px);
  1108→  }
  1109→  to {
  1110→    opacity: 1;
  1111→    transform: translateY(0);
  1112→  }
  1113→}
  1114→
  1115→@keyframes slideInDown {
  1116→  from {
  1117→    opacity: 0;
  1118→    transform: translateY(-10px);
  1119→  }
  1120→  to {
  1121→    opacity: 1;
  1122→    transform: translateY(0);
  1123→  }
  1124→}
  1125→
  1126→@keyframes slideInLeft {
  1127→  from {
  1128→    opacity: 0;
  1129→    transform: translateX(-10px);
  1130→  }
  1131→  to {
  1132→    opacity: 1;
  1133→    transform: translateX(0);
  1134→  }
  1135→}
  1136→
  1137→@keyframes slideInRight {
  1138→  from {
  1139→    opacity: 0;
  1140→    transform: translateX(10px);
  1141→  }
  1142→  to {
  1143→    opacity: 1;
  1144→    transform: translateX(0);
  1145→  }
  1146→}
  1147→
  1148→.animate-slide-in-up {
  1149→  animation: slideInUp var(--duration-normal) var(--ease-out-expo) both;
  1150→}
  1151→
  1152→.animate-slide-in-down {
  1153→  animation: slideInDown var(--duration-normal) var(--ease-out-expo) both;
  1154→}
  1155→
  1156→.animate-slide-in-left {
  1157→  animation: slideInLeft var(--duration-normal) var(--ease-out-expo) both;
  1158→}
  1159→
  1160→.animate-slide-in-right {
  1161→  animation: slideInRight var(--duration-normal) var(--ease-out-expo) both;
  1162→}
  1163→
  1164→/* Staggered animation delays for lists */
  1165→.stagger-item:nth-child(1) { animation-delay: 0ms; }
  1166→.stagger-item:nth-child(2) { animation-delay: 50ms; }
  1167→.stagger-item:nth-child(3) { animation-delay: 100ms; }
  1168→.stagger-item:nth-child(4) { animation-delay: 150ms; }
  1169→.stagger-item:nth-child(5) { animation-delay: 200ms; }
  1170→.stagger-item:nth-child(6) { animation-delay: 250ms; }
  1171→.stagger-item:nth-child(7) { animation-delay: 300ms; }
  1172→.stagger-item:nth-child(8) { animation-delay: 350ms; }
  1173→
  1174→/* ═══════════════════════════════════════════════════════════════════════════
  1175→   Synastry Animations - 合盘计算动画
  1176→   ═══════════════════════════════════════════════════════════════════════════ */
  1177→
  1178→@keyframes spin-slow {
  1179→  from { transform: rotate(0deg); }
  1180→  to { transform: rotate(360deg); }
  1181→}
  1182→
  1183→@keyframes spin-reverse {
  1184→  from { transform: rotate(360deg); }
  1185→  to { transform: rotate(0deg); }
  1186→}
  1187→
  1188→@keyframes twinkle {
  1189→  0%, 100% { opacity: 0.4; transform: translate(-50%, -50%) scale(0.8); }
  1190→  50% { opacity: 1; transform: translate(-50%, -50%) scale(1.1); }
  1191→}
  1192→
  1193→@keyframes draw-line {
  1194→  to { stroke-dashoffset: 0; }
  1195→}
  1196→
  1197→.animate-spin-slow {
  1198→  animation: spin-slow 8s linear infinite;
  1199→}
  1200→
  1201→.animate-spin-reverse {
  1202→  animation: spin-reverse 6s linear infinite;
  1203→}
  1204→
  1205→.animate-twinkle {
  1206→  animation: twinkle 2s ease-in-out infinite;
  1207→}
  1208→
  1209→.animate-draw-line {
  1210→  animation: draw-line 1.5s ease-out forwards;
  1211→}
  1212→
  1213→.animate-draw-line-delay {
  1214→  animation: draw-line 1.5s ease-out 0.5s forwards;
  1215→}
  1216→
  1217→.animate-draw-line-delay-2 {
  1218→  animation: draw-line 1.5s ease-out 1s forwards;
  1219→}
  1220→
  1221→/* GPU-accelerated transforms for hover effects */
  1222→.hover-lift {
  1223→  transition: transform var(--duration-fast) var(--ease-out-expo),
  1224→              box-shadow var(--duration-fast) var(--ease-out-expo);
  1225→  will-change: transform;
  1226→}
  1227→
  1228→.hover-lift:hover {
  1229→  transform: translateY(-2px);
  1230→  box-shadow: var(--shadow-elevated);
  1231→}
  1232→
  1233→/* Reduce motion for accessibility */
  1234→@media (prefers-reduced-motion: reduce) {
  1235→  *,
  1236→  *::before,
  1237→  *::after {
  1238→    animation-duration: 0.01ms !important;
  1239→    animation-iteration-count: 1 !important;
  1240→    transition-duration: 0.01ms !important;
  1241→  }
  1242→}
  1243→
  1244→/* ═══════════════════════════════════════════════════════════════════════════
  1245→   Markdown Renderer - v7.1 Linear 风格
  1246→   ═══════════════════════════════════════════════════════════════════════════ */
  1247→
  1248→/* 基础容器 */
  1249→.markdown-content {
  1250→  font-size: var(--text-sm);
  1251→  line-height: 1.6;
  1252→  color: var(--text-primary);
  1253→}
  1254→
  1255→/* 流式输出时的平滑过渡 */
  1256→.markdown-content.streaming {
  1257→  transition: height 0.1s ease-out;
  1258→}
  1259→
  1260→.markdown-content.streaming > * {
  1261→  animation: none;
  1262→}
  1263→
  1264→/* 代码高亮主题 - GitHub Dark 风格适配 Linear */
  1265→.markdown-content pre {
  1266→  position: relative;
  1267→}
  1268→
  1269→.markdown-content pre::before {
  1270→  content: '';
  1271→  position: absolute;
  1272→  top: 0;
  1273→  left: 0;
  1274→  right: 0;
  1275→  height: 32px;
  1276→  background: linear-gradient(180deg, rgba(255,255,255,0.03) 0%, transparent 100%);
  1277→  border-radius: var(--radius-lg) var(--radius-lg) 0 0;
  1278→  pointer-events: none;
  1279→}
  1280→
  1281→/* Highlight.js 代码高亮覆盖样式 */
  1282→.hljs {
  1283→  background: transparent !important;
  1284→  padding: 0 !important;
  1285→}
  1286→
  1287→.hljs-comment,
  1288→.hljs-quote {
  1289→  color: #6a737d;
  1290→  font-style: italic;
  1291→}
  1292→
  1293→.hljs-keyword,
  1294→.hljs-selector-tag,
  1295→.hljs-addition {
  1296→  color: #ff7b72;
  1297→}
  1298→
  1299→.hljs-number,
  1300→.hljs-string,
  1301→.hljs-meta .hljs-meta-string,
  1302→.hljs-literal,
  1303→.hljs-doctag,
  1304→.hljs-regexp {
  1305→  color: #a5d6ff;
  1306→}
  1307→
  1308→.hljs-title,
  1309→.hljs-section,
  1310→.hljs-name,
  1311→.hljs-selector-id,
  1312→.hljs-selector-class {
  1313→  color: #d2a8ff;
  1314→}
  1315→
  1316→.hljs-attribute,
  1317→.hljs-attr,
  1318→.hljs-variable,
  1319→.hljs-template-variable,
  1320→.hljs-class .hljs-title,
  1321→.hljs-type {
  1322→  color: #79c0ff;
  1323→}
  1324→
  1325→.hljs-symbol,
  1326→.hljs-bullet,
  1327→.hljs-subst,
  1328→.hljs-meta,
  1329→.hljs-meta .hljs-keyword,
  1330→.hljs-selector-attr,
  1331→.hljs-selector-pseudo,
  1332→.hljs-link {
  1333→  color: #ffa657;
  1334→}
  1335→
  1336→.hljs-built_in,
  1337→.hljs-deletion {
  1338→  color: #ffa198;
  1339→}
  1340→
  1341→.hljs-formula {
  1342→  background: rgba(139, 148, 158, 0.1);
  1343→}
  1344→
  1345→.hljs-emphasis {
  1346→  font-style: italic;
  1347→}
  1348→
  1349→.hljs-strong {
  1350→  font-weight: bold;
  1351→}
  1352→
  1353→/* 代码块复制按钮位置预留 */
  1354→.markdown-content pre {
  1355→  padding-right: 48px;
  1356→}
  1357→
  1358→/* 表格美化 */
  1359→.markdown-content table {
  1360→  border: 1px solid var(--border-subtle);
  1361→  border-radius: var(--radius-md);
  1362→  overflow: hidden;
  1363→}
  1364→
  1365→.markdown-content thead {
  1366→  background: var(--bg-secondary);
  1367→}
  1368→
  1369→.markdown-content th,
  1370→.markdown-content td {
  1371→  border: none;
  1372→  border-bottom: 1px solid var(--border-subtle);
  1373→}
  1374→
  1375→.markdown-content tr:last-child td {
  1376→  border-bottom: none;
  1377→}
  1378→
  1379→/* 任务列表样式 */
  1380→.markdown-content li:has(input[type="checkbox"]) {
  1381→  list-style: none;
  1382→  margin-left: -1rem;
  1383→}
  1384→
  1385→.markdown-content input[type="checkbox"] {
  1386→  width: 16px;
  1387→  height: 16px;
  1388→  border-radius: 4px;
  1389→  border: 1.5px solid var(--border-strong);
  1390→  appearance: none;
  1391→  cursor: default;
  1392→  vertical-align: middle;
  1393→  position: relative;
  1394→  top: -1px;
  1395→}
  1396→
  1397→.markdown-content input[type="checkbox"]:checked {
  1398→  background: var(--accent-primary);
  1399→  border-color: var(--accent-primary);
  1400→}
  1401→
  1402→.markdown-content input[type="checkbox"]:checked::after {
  1403→  content: '✓';
  1404→  position: absolute;
  1405→  top: 50%;
  1406→  left: 50%;
  1407→  transform: translate(-50%, -50%);
  1408→  color: white;
  1409→  font-size: 10px;
  1410→  font-weight: bold;
  1411→}
  1412→
  1413→/* 引用块美化 */
  1414→.markdown-content blockquote {
  1415→  background: var(--bg-secondary);
  1416→  border-radius: 0 var(--radius-md) var(--radius-md) 0;
  1417→  padding: 0.75rem 1rem;
  1418→}
  1419→
  1420→.markdown-content blockquote p {
  1421→  margin: 0;
  1422→}
  1423→
  1424→/* 图片响应式 */
  1425→.markdown-content img {
  1426→  max-width: 100%;
  1427→  height: auto;
  1428→  border-radius: var(--radius-md);
  1429→  margin: 0.5rem 0;
  1430→}
  1431→
  1432→/* 脚注样式 */
  1433→.markdown-content .footnotes {
  1434→  margin-top: 2rem;
  1435→  padding-top: 1rem;
  1436→  border-top: 1px solid var(--border-subtle);
  1437→  font-size: var(--text-xs);
  1438→  color: var(--text-tertiary);
  1439→}
  1440→
  1441→/* 深色模式下的代码块 */
  1442→[data-theme="dark"] .markdown-content pre,
  1443→.dark .markdown-content pre {
  1444→  background: #0d1117;
  1445→  border: 1px solid rgba(255, 255, 255, 0.1);
  1446→}
  1447→
  1448→/* ═══════════════════════════════════════════════════════════════════════════
  1449→   ThinkingBlock - AI 思考过程展示 v11.0
  1450→   参考 Claude.ai / Gemini 设计风格
  1451→   ═══════════════════════════════════════════════════════════════════════════ */
  1452→
  1453→.thinking-block {
  1454→  margin-bottom: 0.75rem;
  1455→  border-radius: var(--radius-lg);
  1456→  background: var(--bg-tertiary);
  1457→  border: 1px solid var(--border-subtle);
  1458→  overflow: hidden;
  1459→  transition:
  1460→    border-color var(--duration-fast) var(--ease-out-expo),
  1461→    box-shadow var(--duration-fast) var(--ease-out-expo);
  1462→}
  1463→
  1464→.thinking-block.streaming {
  1465→  border-color: var(--accent-primary);
  1466→  border-left-width: 2px;
  1467→  box-shadow: 0 0 0 1px rgba(234, 190, 138, 0.1);
  1468→}
  1469→
  1470→.thinking-block.complete {
  1471→  opacity: 0.85;
  1472→}
  1473→
  1474→.thinking-header {
  1475→  display: flex;
  1476→  align-items: center;
  1477→  gap: 0.5rem;
  1478→  width: 100%;
  1479→  padding: 0.625rem 0.875rem;
  1480→  font-size: var(--text-sm);
  1481→  color: var(--text-secondary);
  1482→  background: transparent;
  1483→  border: none;
  1484→  cursor: pointer;
  1485→  transition: background-color var(--duration-fast) var(--ease-out-expo);
  1486→  text-align: left;
  1487→}
  1488→
  1489→.thinking-header:hover {
  1490→  background: var(--bg-hover, rgba(0, 0, 0, 0.03));
  1491→}
  1492→
  1493→.thinking-header:focus {
  1494→  outline: none;
  1495→}
  1496→
  1497→.thinking-header:focus-visible {
  1498→  outline: 2px solid var(--accent-primary);
  1499→  outline-offset: -2px;
  1500→}
  1501→
  1502→.thinking-content-wrapper {
  1503→  overflow: hidden;
  1504→  transition:
  1505→    max-height 0.3s var(--ease-out-expo),
  1506→    opacity 0.2s var(--ease-out-expo);
  1507→}
  1508→
  1509→.thinking-content-wrapper.expanded {
  1510→  max-height: 300px;
  1511→  opacity: 1;
  1512→}
  1513→
  1514→.thinking-content-wrapper.collapsed {
  1515→  max-height: 0;
  1516→  opacity: 0;
  1517→}
  1518→
  1519→.thinking-steps {
  1520→  padding: 0 0.875rem 0.75rem 1.75rem;
  1521→  margin: 0;
  1522→  list-style: none;
  1523→}
  1524→
  1525→.thinking-step {
  1526→  display: flex;
  1527→  align-items: flex-start;
  1528→  gap: 0.5rem;
  1529→  font-size: var(--text-xs);
  1530→  color: var(--text-tertiary);
  1531→  line-height: 1.5;
  1532→  padding: 0.25rem 0;
  1533→}
  1534→
  1535→.thinking-step.active {
  1536→  color: var(--text-secondary);
  1537→}
  1538→
  1539→.step-dot {
  1540→  width: 4px;
  1541→  height: 4px;
  1542→  margin-top: 0.4rem;
  1543→  border-radius: 50%;
  1544→  background: var(--accent-primary);
  1545→  opacity: 0.6;
  1546→  flex-shrink: 0;
  1547→  transition: all var(--duration-fast) var(--ease-out-expo);
  1548→}
  1549→
  1550→/* Phase-specific dot colors */
  1551→.step-dot.analyzing {
  1552→  background: var(--accent-primary);
  1553→}
  1554→
  1555→.step-dot.skill_activate {
  1556→  background: var(--color-info);
  1557→}
  1558→
  1559→.step-dot.tool_call {
  1560→  background: var(--color-warning);
  1561→}
  1562→
  1563→.step-dot.complete {
  1564→  background: var(--color-success);
  1565→  opacity: 1;
  1566→}
  1567→
  1568→.step-content {
  1569→  flex: 1;
  1570→  min-width: 0;
  1571→}
  1572→
  1573→/* Streaming animation for active step */
  1574→.thinking-step.active .step-dot {
  1575→  animation: pulse-dot 1s ease-in-out infinite;
  1576→}
  1577→
  1578→@keyframes pulse-dot {
  1579→  0%, 100% {
  1580→    opacity: 0.4;
  1581→    transform: scale(0.8);
  1582→  }
  1583→  50% {
  1584→    opacity: 1;
  1585→    transform: scale(1.2);
  1586→  }
  1587→}
  1588→
  1589→/* Thinking dots (different from streaming-dots) */
  1590→.thinking-dots {
  1591→  display: inline-flex;
  1592→  align-items: center;
  1593→  gap: 2px;
  1594→}
  1595→
  1596→.thinking-dots span {
  1597→  width: 3px;
  1598→  height: 3px;
  1599→  border-radius: 50%;
  1600→  background: var(--accent-primary);
  1601→  opacity: 0.6;
  1602→  animation: thinking-bounce 1.4s ease-in-out infinite;
  1603→}
  1604→
  1605→.thinking-dots span:nth-child(2) {
  1606→  animation-delay: 0.15s;
  1607→}
  1608→
  1609→.thinking-dots span:nth-child(3) {
  1610→  animation-delay: 0.3s;
  1611→}
  1612→
  1613→@keyframes thinking-bounce {
  1614→  0%, 80%, 100% {
  1615→    opacity: 0.3;
  1616→    transform: scale(0.8);
  1617→  }
  1618→  40% {
  1619→    opacity: 1;
  1620→    transform: scale(1);
  1621→  }
  1622→}
  1623→
  1624→/* Dark mode adjustments */
  1625→[data-theme="dark"] .thinking-block,
  1626→.dark .thinking-block {
  1627→  background: var(--bg-secondary);
  1628→  border-color: var(--border-default);
  1629→}
  1630→
  1631→[data-theme="dark"] .thinking-block.streaming,
  1632→.dark .thinking-block.streaming {
  1633→  border-color: var(--accent-primary);
  1634→  box-shadow: 0 0 0 1px rgba(234, 190, 138, 0.2);
  1635→}
  1636→
  1637→[data-theme="dark"] .thinking-header:hover,
  1638→.dark .thinking-header:hover {
  1639→  background: rgba(255, 255, 255, 0.05);
  1640→}
  1641→
  1642→/* PC端优化 */
  1643→@media (min-width: 1024px) {
  1644→  .thinking-block {
  1645→    border-radius: var(--radius-xl);
  1646→  }
  1647→
  1648→  .thinking-header {
  1649→    padding: 0.75rem 1rem;
  1650→    font-size: var(--text-base);
  1651→  }
  1652→
  1653→  .thinking-steps {
  1654→    padding: 0 1rem 0.875rem 2rem;
  1655→  }
  1656→
  1657→  .thinking-step {
  1658→    font-size: var(--text-sm);
  1659→    padding: 0.3rem 0;
  1660→  }
  1661→
  1662→  .step-dot {
  1663→    width: 5px;
  1664→    height: 5px;
  1665→    margin-top: 0.45rem;
  1666→  }
  1667→}
  1668→
  1669→/* ═══════════════════════════════════════════════════════════════════════════
  1670→   VibeGlyph 思考动画 v11.0
  1671→   参考 Claude.ai / Gemini 图标动画效果
  1672→   ═══════════════════════════════════════════════════════════════════════════ */
  1673→
  1674→/* 思考状态容器 */
  1675→.vibe-thinking {
  1676→  position: relative;
  1677→}
  1678→
  1679→/* 思考中光环 - 脉冲呼吸效果 */
  1680→.vibe-thinking-aura {
  1681→  background: radial-gradient(
  1682→    circle,
  1683→    rgba(251, 189, 106, 0.4) 0%,
  1684→    rgba(251, 189, 106, 0.15) 50%,
  1685→    transparent 70%
  1686→  );
  1687→  animation: vibe-aura-pulse 2s ease-in-out infinite;
  1688→  pointer-events: none;
  1689→}
  1690→
  1691→@keyframes vibe-aura-pulse {
  1692→  0%, 100% {
  1693→    transform: scale(1);
  1694→    opacity: 0.4;
  1695→  }
  1696→  50% {
  1697→    transform: scale(1.5);
  1698→    opacity: 1;
  1699→  }
  1700→}
  1701→
  1702→/* 思考中图标 - 轻微摇晃 + 缩放呼吸 */
  1703→.vibe-thinking-icon {
  1704→  animation: vibe-icon-breathe 1.5s ease-in-out infinite;
  1705→}
  1706→
  1707→@keyframes vibe-icon-breathe {
  1708→  0%, 100% {
  1709→    transform: scale(1) rotate(0deg);
  1710→  }
  1711→  25% {
  1712→    transform: scale(1.1) rotate(-4deg);
  1713→  }
  1714→  50% {
  1715→    transform: scale(1.15) rotate(0deg);
  1716→  }
  1717→  75% {
  1718→    transform: scale(1.1) rotate(4deg);
  1719→  }
  1720→}
  1721→
  1722→/* 浮动动画 */
  1723→@keyframes float {
  1724→  0%, 100% {
  1725→    transform: translateY(0);
  1726→  }
  1727→  50% {
  1728→    transform: translateY(-4px);
  1729→  }
  1730→}
  1731→
  1732→.animate-float {
  1733→  animation: float 3s ease-in-out infinite;
  1734→}
  1735→
  1736→/* 深色模式 - 调整光环颜色 */
  1737→[data-theme="dark"] .vibe-thinking-aura,
  1738→.dark .vibe-thinking-aura {
  1739→  background: radial-gradient(
  1740→    circle,
  1741→    rgba(251, 189, 106, 0.5) 0%,
  1742→    rgba(251, 189, 106, 0.2) 50%,
  1743→    transparent 70%
  1744→  );
  1745→}
  1746→
  1747→/* 减少动效模式 */
  1748→@media (prefers-reduced-motion: reduce) {
  1749→  .vibe-thinking-aura,
  1750→  .vibe-thinking-icon {
  1751→    animation: none;
  1752→  }
  1753→
  1754→  .vibe-thinking-aura {
  1755→    opacity: 0.5;
  1756→  }
  1757→}
  1758→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
