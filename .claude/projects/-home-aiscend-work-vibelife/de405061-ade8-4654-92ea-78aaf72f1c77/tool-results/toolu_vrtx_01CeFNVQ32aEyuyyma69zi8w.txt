     1â†’# VibeLife V8 ç³»ç»Ÿæ¶æ„æ–‡æ¡£
     2â†’
     3â†’> Version: 8.1 | 2026-01-20
     4â†’> æ ¸å¿ƒç†å¿µï¼šAI åŸç”Ÿçš„ä¸ªäººæˆé•¿é™ªä¼´å¹³å°
     5â†’> è®¾è®¡å“²å­¦ï¼šChat-First + LLM é©±åŠ¨
     6â†’
     7â†’---
     8â†’
     9â†’## 1. äº§å“å®šä½
    10â†’
    11â†’VibeLife æ˜¯ä¸€ä¸ª AI åŸç”Ÿçš„ä¸ªäººæˆé•¿é™ªä¼´å¹³å°ï¼Œé€šè¿‡å¤šä¸ªä¸“ä¸š Skill æä¾›æ·±åº¦ç†è§£å’Œä¸»åŠ¨å…³æ€€ã€‚
    12â†’
    13â†’### 1.1 ä¸‰å¤§å·®å¼‚åŒ–
    14â†’
    15â†’| å·®å¼‚åŒ– | è¯´æ˜ |
    16â†’|--------|------|
    17â†’| **Deep Understanding** | ç†è§£ä½ è¿™ä¸ªäººï¼Œè€Œéåªæ˜¯é—®é¢˜ |
    18â†’| **Proactive Agency** | ä¸»åŠ¨å…³å¿ƒï¼Œè€Œéç­‰ä½ å¼€å£ |
    19â†’| **Infinite Extensibility** | é€šè¿‡ Skills æ— é™æ‰©å±•èƒ½åŠ› |
    20â†’
    21â†’### 1.2 è®¾è®¡åŸåˆ™
    22â†’
    23â†’| åŸåˆ™ | è¯´æ˜ |
    24â†’|------|------|
    25â†’| **Chat-First** | å¯¹è¯æ˜¯å”¯ä¸€æ ¸å¿ƒå…¥å£ï¼Œå…¶ä»–é¡µé¢åªè´Ÿè´£å±•ç¤º |
    26â†’| **LLM-Driven** | è·¯ç”±ã€åè®®æ‰§è¡Œã€å†…å®¹ç”Ÿæˆå…¨éƒ¨ç”± LLM é©±åŠ¨ |
    27â†’| **Config-Driven** | Skill å±‚é…ç½®é©±åŠ¨ï¼Œå¹³å°å±‚ä»£ç é©±åŠ¨ |
    28â†’| **Single Source of Truth** | å·¥å…·å®šä¹‰ã€æ¨¡å‹é…ç½®ç­‰åªæœ‰ä¸€ä¸ªæ•°æ®æº |
    29â†’| **Simplicity** | ä¿æŒç®€å•ï¼Œé¿å…è¿‡åº¦å·¥ç¨‹ |
    30â†’
    31â†’---
    32â†’
    33â†’## 2. æ•´ä½“æ¶æ„
    34â†’
    35â†’```
    36â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    37â†’â”‚                         VibeLife V8.1 Architecture                       â”‚
    38â†’â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    39â†’â”‚                                                                          â”‚
    40â†’â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    41â†’â”‚   â”‚                        Frontend (Next.js 14)                      â”‚  â”‚
    42â†’â”‚   â”‚                                                                   â”‚  â”‚
    43â†’â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚  â”‚
    44â†’â”‚   â”‚   â”‚  Chat   â”‚    â”‚ Journey â”‚    â”‚   Me    â”‚                      â”‚  â”‚
    45â†’â”‚   â”‚   â”‚ (æ ¸å¿ƒ)  â”‚â—€â”€â”€â”€â”‚ (å±•ç¤º)  â”‚    â”‚ (å±•ç¤º)  â”‚                      â”‚  â”‚
    46â†’â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚  â”‚
    47â†’â”‚   â”‚        â”‚              â”‚              â”‚                            â”‚  â”‚
    48â†’â”‚   â”‚        â”‚   è·³è½¬+å‚æ•°   â”‚   è·³è½¬+å‚æ•°   â”‚                            â”‚  â”‚
    49â†’â”‚   â”‚        â–¼              â–¼              â–¼                            â”‚  â”‚
    50â†’â”‚   â”‚   /chat?skill=lifecoach&scenario=dankoe&prompt=...               â”‚  â”‚
    51â†’â”‚   â”‚                                                                   â”‚  â”‚
    52â†’â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    53â†’â”‚                                    â”‚                                     â”‚
    54â†’â”‚                                    â–¼                                     â”‚
    55â†’â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    56â†’â”‚   â”‚                        Backend (FastAPI)                          â”‚  â”‚
    57â†’â”‚   â”‚                                                                   â”‚  â”‚
    58â†’â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
    59â†’â”‚   â”‚   â”‚                      chat_v5.py                             â”‚ â”‚  â”‚
    60â†’â”‚   â”‚   â”‚  â€¢ è§£æ skill + scenario å‚æ•°                               â”‚ â”‚  â”‚
    61â†’â”‚   â”‚   â”‚  â€¢ ä¼˜å…ˆä½¿ç”¨å‰ç«¯ä¼ å‚ï¼Œfallback åˆ°æ™ºèƒ½è·¯ç”±                    â”‚ â”‚  â”‚
    62â†’â”‚   â”‚   â”‚  â€¢ æ„å»º AgentContext                                        â”‚ â”‚  â”‚
    63â†’â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
    64â†’â”‚   â”‚                              â”‚                                    â”‚  â”‚
    65â†’â”‚   â”‚                              â–¼                                    â”‚  â”‚
    66â†’â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
    67â†’â”‚   â”‚   â”‚                      CoreAgent                              â”‚ â”‚  â”‚
    68â†’â”‚   â”‚   â”‚  â€¢ Phase 1: Skill è·¯ç”± (use_skill)                         â”‚ â”‚  â”‚
    69â†’â”‚   â”‚   â”‚  â€¢ Phase 2: åŠ è½½ Rule æ–‡ä»¶åˆ° System Prompt                 â”‚ â”‚  â”‚
    70â†’â”‚   â”‚   â”‚  â€¢ LLM é©±åŠ¨å¯¹è¯ï¼Œè‡ªå·±æ§åˆ¶åè®®æµç¨‹                          â”‚ â”‚  â”‚
    71â†’â”‚   â”‚   â”‚  â€¢ å®Œæˆåè°ƒç”¨ save_skill_data ä¿å­˜                         â”‚ â”‚  â”‚
    72â†’â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
    73â†’â”‚   â”‚                              â”‚                                    â”‚  â”‚
    74â†’â”‚   â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚  â”‚
    75â†’â”‚   â”‚              â–¼               â–¼               â–¼                   â”‚  â”‚
    76â†’â”‚   â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚  â”‚
    77â†’â”‚   â”‚         â”‚  Bazi  â”‚     â”‚Lifecoachâ”‚    â”‚ Zodiac â”‚                â”‚  â”‚
    78â†’â”‚   â”‚         â”‚ Skill  â”‚     â”‚ Skill  â”‚     â”‚ Skill  â”‚                â”‚  â”‚
    79â†’â”‚   â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚  â”‚
    80â†’â”‚   â”‚                              â”‚                                    â”‚  â”‚
    81â†’â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    82â†’â”‚                                  â–¼                                      â”‚
    83â†’â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    84â†’â”‚   â”‚                    VibeProfile (PostgreSQL JSONB)                 â”‚  â”‚
    85â†’â”‚   â”‚                                                                   â”‚  â”‚
    86â†’â”‚   â”‚   skills.lifecoach:                                              â”‚  â”‚
    87â†’â”‚   â”‚   â”œâ”€â”€ north_star: { vision, anti_vision }                        â”‚  â”‚
    88â†’â”‚   â”‚   â”œâ”€â”€ identity: { current, target }                              â”‚  â”‚
    89â†’â”‚   â”‚   â”œâ”€â”€ goals: [...]                                               â”‚  â”‚
    90â†’â”‚   â”‚   â”œâ”€â”€ weekly: { rocks: [...] }                                   â”‚  â”‚
    91â†’â”‚   â”‚   â”œâ”€â”€ progress: { streak, checkins }                             â”‚  â”‚
    92â†’â”‚   â”‚   â””â”€â”€ _meta: { updated_at }                                      â”‚  â”‚
    93â†’â”‚   â”‚                                                                   â”‚  â”‚
    94â†’â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    95â†’â”‚                                                                          â”‚
    96â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    97â†’```
    98â†’
    99â†’---
   100â†’
   101â†’## 3. æ ¸å¿ƒè®¾è®¡ï¼šChat-First + LLM é©±åŠ¨
   102â†’
   103â†’### 3.1 Chat-First è®¾è®¡å“²å­¦
   104â†’
   105â†’```
   106â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   107â†’â”‚                           Chat-First è®¾è®¡                                â”‚
   108â†’â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   109â†’â”‚                                                                          â”‚
   110â†’â”‚   ç”¨æˆ·æ¥åˆ° VibeLifeï¼Œè„‘å­é‡Œåªéœ€è¦è®°ä½ä¸‰ä»¶äº‹ï¼š                             â”‚
   111â†’â”‚                                                                          â”‚
   112â†’â”‚   1. ğŸ’¬ æƒ³èŠå¤© â†’ ç›´æ¥è¯´è¯                                                â”‚
   113â†’â”‚   2. ğŸª æƒ³äº†è§£è‡ªå·± â†’ ç‚¹é•œå­ (Me é¡µé¢)                                    â”‚
   114â†’â”‚   3. ğŸ§­ æƒ³çœ‹ç›®æ ‡è¿›åº¦ â†’ ç‚¹ç½—ç›˜ (Journey é¡µé¢)                             â”‚
   115â†’â”‚                                                                          â”‚
   116â†’â”‚   å…¶ä»–ä¸€åˆ‡ï¼ŒVibeLife ä¼šåœ¨å¯¹è¯ä¸­å¼•å¯¼ä½ ã€‚                                   â”‚
   117â†’â”‚                                                                          â”‚
   118â†’â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   119â†’â”‚                                                                          â”‚
   120â†’â”‚   é¡µé¢èŒè´£åˆ’åˆ†ï¼š                                                          â”‚
   121â†’â”‚                                                                          â”‚
   122â†’â”‚   Chat é¡µé¢          Journey/Me é¡µé¢                                     â”‚
   123â†’â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                    â”‚
   124â†’â”‚   â€¢ æ‰€æœ‰æ·±åº¦äº¤äº’      â€¢ å±•ç¤ºæ•°æ®                                          â”‚
   125â†’â”‚   â€¢ åè®®æ‰§è¡Œ          â€¢ å‹¾é€‰å®Œæˆ                                          â”‚
   126â†’â”‚   â€¢ ç›®æ ‡è®¾å®š          â€¢ å¿«æ·å…¥å£ â†’ è·³è½¬ Chat                              â”‚
   127â†’â”‚   â€¢ å¤ç›˜å¯¹è¯                                                              â”‚
   128â†’â”‚                                                                          â”‚
   129â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   130â†’```
   131â†’
   132â†’### 3.2 LLM é©±åŠ¨çš„åè®®æ‰§è¡Œï¼ˆæ–¹æ¡ˆ Dï¼‰
   133â†’
   134â†’```
   135â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   136â†’â”‚                    æ–¹æ¡ˆ Dï¼šçº¯ Prompt é©±åŠ¨                                 â”‚
   137â†’â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   138â†’â”‚                                                                          â”‚
   139â†’â”‚   Protocol å®ç° = Rule æ–‡ä»¶ + save_skill_data å·¥å…·                       â”‚
   140â†’â”‚                                                                          â”‚
   141â†’â”‚   éœ€è¦ï¼š                                                                  â”‚
   142â†’â”‚   âœ… rules/dankoe.md - å®Œæ•´çš„åè®®æµç¨‹ï¼ˆ6 ä¸ªé—®é¢˜ï¼‰                        â”‚
   143â†’â”‚   âœ… save_skill_data - é€šç”¨æ•°æ®ä¿å­˜å·¥å…·                                  â”‚
   144â†’â”‚   âœ… show_dankoe - æ–¹æ³•è®ºä¸“å±å¡ç‰‡                                        â”‚
   145â†’â”‚                                                                          â”‚
   146â†’â”‚   ä¸éœ€è¦ï¼š                                                                â”‚
   147â†’â”‚   âŒ protocol çŠ¶æ€è¿½è¸ª                                                   â”‚
   148â†’â”‚   âŒ step è®¡æ•°å™¨                                                         â”‚
   149â†’â”‚   âŒ start_protocol / advance_protocol_step å·¥å…·                        â”‚
   150â†’â”‚   âŒ å‰ç«¯ä¼  protocol å‚æ•°                                                â”‚
   151â†’â”‚                                                                          â”‚
   152â†’â”‚   LLM è‡ªå·±é©±åŠ¨å¯¹è¯ï¼Œä»å¯¹è¯å†å²åˆ¤æ–­è¿›åº¦                                   â”‚
   153â†’â”‚                                                                          â”‚
   154â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   155â†’```
   156â†’
   157â†’### 3.3 æ··åˆè·¯ç”±æ–¹æ¡ˆ
   158â†’
   159â†’```
   160â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   161â†’â”‚                           æ··åˆè·¯ç”±æ–¹æ¡ˆ                                    â”‚
   162â†’â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   163â†’â”‚                                                                          â”‚
   164â†’â”‚   ä¼˜å…ˆçº§ 1ï¼šå‰ç«¯æ˜¾å¼ä¼ å‚ï¼ˆç¡®å®šæ€§ 100%ï¼‰                                   â”‚
   165â†’â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                  â”‚
   166â†’â”‚   Journey é¡µé¢ã€å¿«æ·æŒ‰é’®ç­‰é¢„è®¾å…¥å£ï¼Œæ˜¾å¼ä¼  scenario                      â”‚
   167â†’â”‚                                                                          â”‚
   168â†’â”‚   /chat?skill=lifecoach&scenario=dankoe&prompt=æˆ‘æƒ³åšä¸€æ¬¡äººç”Ÿé‡ç½®        â”‚
   169â†’â”‚                                                                          â”‚
   170â†’â”‚   ä¼˜å…ˆçº§ 2ï¼šåç«¯æ™ºèƒ½è·¯ç”±ï¼ˆçµæ´»æ€§ï¼‰                                        â”‚
   171â†’â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                      â”‚
   172â†’â”‚   ç”¨æˆ·åœ¨ Chat ä¸­è‡ªç”±è¾“å…¥ï¼Œåç«¯è‡ªåŠ¨åŒ¹é…æœ€ä½³ rule                          â”‚
   173â†’â”‚                                                                          â”‚
   174â†’â”‚   _route_scenario() æ‰«æ rules/*.md çš„ tagsï¼ŒåŒ¹é…ç”¨æˆ·æ¶ˆæ¯                â”‚
   175â†’â”‚                                                                          â”‚
   176â†’â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   177â†’â”‚                                                                          â”‚
   178â†’â”‚   ç¬¦åˆ CLAUDE.md è§„èŒƒï¼š                                                   â”‚
   179â†’â”‚   â€¢ è„†å¼±/ä¸€è‡´æ€§æ“ä½œ â†’ ç”¨ä»£ç ï¼ˆå‰ç«¯æ˜¾å¼ä¼ å‚ï¼‰                             â”‚
   180â†’â”‚   â€¢ ä¸Šä¸‹æ–‡ä¾èµ–/å¯å‘å¼ä»»åŠ¡ â†’ ç”¨ LLMï¼ˆæ™ºèƒ½è·¯ç”± fallbackï¼‰                  â”‚
   181â†’â”‚                                                                          â”‚
   182â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   183â†’```
   184â†’
   185â†’---
   186â†’
   187â†’## 4. CoreAgent
   188â†’
   189â†’### 4.1 æ ¸å¿ƒæµç¨‹
   190â†’
   191â†’```
   192â†’ç”¨æˆ·æ¶ˆæ¯ + skill + scenario
   193â†’    â”‚
   194â†’    â–¼
   195â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   196â†’â”‚ chat_v5.py                                                               â”‚
   197â†’â”‚                                                                          â”‚
   198â†’â”‚ 1. è§£æå‚æ•°ï¼šskill, scenario, prompt                                     â”‚
   199â†’â”‚ 2. ä¼˜å…ˆä½¿ç”¨å‰ç«¯ä¼ çš„ scenario                                             â”‚
   200â†’â”‚ 3. å¦‚æœæ²¡æœ‰ï¼Œè°ƒç”¨ _route_scenario() æ™ºèƒ½åŒ¹é…                             â”‚
   201â†’â”‚ 4. æ„å»º AgentContext                                                     â”‚
   202â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   203â†’    â”‚
   204â†’    â–¼
   205â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   206â†’â”‚ CoreAgent.run()                                                          â”‚
   207â†’â”‚                                                                          â”‚
   208â†’â”‚ Phase 1: Skill è·¯ç”±ï¼ˆå¦‚æœ skill ä¸ºç©ºï¼‰                                   â”‚
   209â†’â”‚ â”œâ”€ è°ƒç”¨ use_skill å·¥å…·                                                   â”‚
   210â†’â”‚ â””â”€ LLM å†³å®šä½¿ç”¨å“ªä¸ª Skill                                                â”‚
   211â†’â”‚                                                                          â”‚
   212â†’â”‚ Phase 2: æ„å»º System Prompt                                              â”‚
   213â†’â”‚ â”œâ”€ åŠ è½½ SKILL.mdï¼ˆä¸“å®¶èº«ä»½ï¼‰                                             â”‚
   214â†’â”‚ â”œâ”€ åŠ è½½ rules/{scenario}.mdï¼ˆåè®®æµç¨‹ï¼‰  â† å…³é”®ï¼                        â”‚
   215â†’â”‚ â”œâ”€ åŠ è½½ç›¸å…³ Casesï¼ˆå€’æ’ç´¢å¼•åŒ¹é…ï¼‰                                        â”‚
   216â†’â”‚ â””â”€ æ³¨å…¥ç”¨æˆ·ä¸Šä¸‹æ–‡ï¼ˆProfile + Skill Dataï¼‰                                â”‚
   217â†’â”‚                                                                          â”‚
   218â†’â”‚ Phase 3: LLM é©±åŠ¨å¯¹è¯                                                    â”‚
   219â†’â”‚ â”œâ”€ LLM æŒ‰ç…§ Rule æ–‡ä»¶è‡ªå·±æ§åˆ¶æµç¨‹                                        â”‚
   220â†’â”‚ â”œâ”€ å¯ä»¥è¿½é—®ã€è·³è¿‡ã€è°ƒæ•´èŠ‚å¥                                              â”‚
   221â†’â”‚ â””â”€ ä»å¯¹è¯å†å²åˆ¤æ–­è¿›åº¦                                                    â”‚
   222â†’â”‚                                                                          â”‚
   223â†’â”‚ Phase 4: å®Œæˆåä¿å­˜                                                      â”‚
   224â†’â”‚ â”œâ”€ è°ƒç”¨ save_skill_data ä¿å­˜æ•°æ®                                         â”‚
   225â†’â”‚ â””â”€ è°ƒç”¨ show_xxx å±•ç¤ºç»“æœå¡ç‰‡                                            â”‚
   226â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   227â†’```
   228â†’
   229â†’### 4.2 _route_scenario æ™ºèƒ½è·¯ç”±
   230â†’
   231â†’```python
   232â†’async def _route_scenario(self, skill_id: str, message: str) -> Optional[str]:
   233â†’    """åœºæ™¯è·¯ç”± - åŸºäºè§¦å‘è¯åŒ¹é…è§„åˆ™ï¼ˆä½œä¸º fallbackï¼‰"""
   234â†’    skill = load_skill(skill_id)
   235â†’    if not skill:
   236â†’        return None
   237â†’
   238â†’    # æ£€æŸ¥ rules ç›®å½•
   239â†’    if has_rules(skill_id):
   240â†’        rules_dir = SKILLS_DIR / skill_id / "rules"
   241â†’        for rule_path in rules_dir.glob("*.md"):
   242â†’            if rule_path.stem.startswith("_"):  # è·³è¿‡ _index.md
   243â†’                continue
   244â†’            rule = load_rule(skill_id, rule_path.stem)
   245â†’            if rule and rule.tags:
   246â†’                message_lower = message.lower()
   247â†’                for tag in rule.tags:
   248â†’                    if tag.lower() in message_lower:
   249â†’                        return rule_path.stem  # è¿”å›è§„åˆ™ ID
   250â†’
   251â†’    return skill.default_scenario
   252â†’```
   253â†’
   254â†’---
   255â†’
   256â†’## 5. Skill System
   257â†’
   258â†’### 5.1 Skill ç›®å½•ç»“æ„
   259â†’
   260â†’```
   261â†’skills/{skill_id}/
   262â†’â”œâ”€â”€ SKILL.md              # Skill å®šä¹‰ï¼ˆä¸“å®¶èº«ä»½ã€è§¦å‘è¯ã€é…ç½®ï¼‰
   263â†’â”œâ”€â”€ rules/                # è§„åˆ™æ–‡ä»¶ï¼ˆåè®®æµç¨‹ã€åˆ†æè¦ç‚¹ï¼‰
   264â†’â”‚   â”œâ”€â”€ _index.md         # è§„åˆ™ç´¢å¼•
   265â†’â”‚   â”œâ”€â”€ dankoe.md         # Dan Koe å¿«é€Ÿé‡ç½®åè®®
   266â†’â”‚   â”œâ”€â”€ covey.md          # Covey 7 Habits åè®®
   267â†’â”‚   â”œâ”€â”€ weekly-review.md  # å‘¨å¤ç›˜åè®®
   268â†’â”‚   â””â”€â”€ companion/        # é™ªä¼´è§„åˆ™
   269â†’â”‚       â”œâ”€â”€ daily-checkin.md
   270â†’â”‚       â””â”€â”€ weekly-review.md
   271â†’â”œâ”€â”€ tools/                # å·¥å…·å®šä¹‰
   272â†’â”‚   â”œâ”€â”€ tools.yaml        # å·¥å…· Schema
   273â†’â”‚   â””â”€â”€ handlers.py       # å·¥å…·æ‰§è¡Œå™¨
   274â†’â”œâ”€â”€ services/             # é¢†åŸŸæœåŠ¡
   275â†’â”‚   â””â”€â”€ api.py            # API æœåŠ¡
   276â†’â””â”€â”€ reminders.yaml        # ä¸»åŠ¨æ¨é€é…ç½®
   277â†’```
   278â†’
   279â†’### 5.2 Rule æ–‡ä»¶ç»“æ„
   280â†’
   281â†’```markdown
   282â†’# rules/dankoe.md
   283â†’
   284â†’---
   285â†’id: dankoe
   286â†’name: Dan Koe å¿«é€Ÿé‡ç½®
   287â†’impact: HIGH
   288â†’tags: åæ„¿æ™¯, æ„¿æ™¯, è¿·èŒ«, æ²¡æ–¹å‘, æ‹–å»¶, èº«ä»½è½¬æ¢, æƒ³æ”¹å˜, å¡ä½, dankoe, dan koe
   289â†’---
   290â†’
   291â†’# Dan Koe å¿«é€Ÿé‡ç½®åè®®
   292â†’
   293â†’## æ ¸å¿ƒç†å¿µ
   294â†’...
   295â†’
   296â†’## åè®®æ¦‚è§ˆ
   297â†’| é˜¶æ®µ | é—®é¢˜æ•° | æ—¶é•¿ | ç›®çš„ |
   298â†’|-----|-------|------|------|
   299â†’| Phase 1: è§‰é†’ | 3 | 4åˆ†é’Ÿ | æ¿€æ´»ä¸æ»¡ï¼Œçœ‹æ¸…æ–¹å‘ |
   300â†’| Phase 2: è®¾è®¡ | 2 | 3åˆ†é’Ÿ | é”šå®šæ–°èº«ä»½ |
   301â†’| Phase 3: å¯åŠ¨ | 1 | 2åˆ†é’Ÿ | ç«‹å³è¡ŒåŠ¨ |
   302â†’
   303â†’## Phase 1: è§‰é†’
   304â†’
   305â†’### Q1: æŒç»­çš„ä¸æ»¡
   306â†’è¿‡å»ä¸€å¹´ï¼Œä½ å­¦ä¼šå¿å—çš„ã€æŒç»­çš„ä¸æ»¡æ˜¯ä»€ä¹ˆï¼Ÿ
   307â†’
   308â†’**å¼•å¯¼è¦ç‚¹**ï¼š
   309â†’- è¿½é—®ï¼š"è¿™ä¸ªä¸æ»¡æŒç»­å¤šä¹…äº†ï¼Ÿ"
   310â†’- ä¸è¦åˆ†æï¼Œä¸è¦ç»™å»ºè®®
   311â†’
   312â†’**æ•°æ®è®°å½•**ï¼š`north_star.pain_points[]`
   313â†’
   314â†’### Q2: åæ„¿æ™¯åœºæ™¯
   315â†’...
   316â†’
   317â†’## å®Œæˆå
   318â†’
   319â†’1. è°ƒç”¨ `save_skill_data` ä¿å­˜æ‰€æœ‰æ•°æ®
   320â†’2. è°ƒç”¨ `show_dankoe` å±•ç¤ºç»“æœå¡ç‰‡
   321â†’
   322â†’## ä¸­æ–­æ¢å¤
   323â†’
   324â†’ä»å¯¹è¯å†å²åˆ¤æ–­è¿›åº¦ï¼Œç»§ç»­æœªå®Œæˆçš„é—®é¢˜ã€‚
   325â†’```
   326â†’
   327â†’### 5.3 å·¥å…·è®¾è®¡ï¼ˆç®€åŒ–åï¼‰
   328â†’
   329â†’```yaml
   330â†’# tools/tools.yaml - Lifecoach Skill
   331â†’
   332â†’tools:
   333â†’  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   334â†’  # æ•°æ®å·¥å…·ï¼ˆé€šç”¨ï¼‰
   335â†’  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   336â†’  - name: read_lifecoach_state
   337â†’    description: è¯»å–ç”¨æˆ·çš„äººç”Ÿåœ°å›¾çŠ¶æ€
   338â†’    type: data
   339â†’
   340â†’  - name: write_lifecoach_state
   341â†’    description: å†™å…¥ç”¨æˆ·çš„äººç”Ÿåœ°å›¾çŠ¶æ€ï¼ˆæ·±åº¦åˆå¹¶ï¼‰
   342â†’    type: data
   343â†’
   344â†’  - name: add_journal_entry
   345â†’    description: æ·»åŠ æ—¥å¿—æ¡ç›®
   346â†’    type: data
   347â†’
   348â†’  - name: update_progress
   349â†’    description: æ›´æ–°è¿›åº¦/ç­¾åˆ°
   350â†’    type: data
   351â†’
   352â†’  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   353â†’  # å±•ç¤ºå·¥å…· - æ–¹æ³•è®ºä¸“å±å¡ç‰‡
   354â†’  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   355â†’  - name: show_dankoe
   356â†’    description: å±•ç¤º Dan Koe æ–¹æ³•è®ºå¡ç‰‡ï¼ˆæ„¿æ™¯+åæ„¿æ™¯+èº«ä»½+æ¸¸æˆåŒ–ï¼‰
   357â†’    type: display
   358â†’    card_type: dankoe
   359â†’
   360â†’  - name: show_covey
   361â†’    description: å±•ç¤º Covey æ–¹æ³•è®ºå¡ç‰‡ï¼ˆä½¿å‘½+è§’è‰²+å¤§çŸ³å¤´+å¹³è¡¡è½®ï¼‰
   362â†’    type: display
   363â†’    card_type: covey
   364â†’
   365â†’  - name: show_action_plan
   366â†’    description: å±•ç¤ºè¡ŒåŠ¨è®¡åˆ’å¡ç‰‡
   367â†’    type: display
   368â†’    card_type: action_plan
   369â†’
   370â†’  - name: show_progress_streak
   371â†’    description: å±•ç¤ºè¿›åº¦ç»Ÿè®¡å¡ç‰‡
   372â†’    type: display
   373â†’    card_type: progress_streak
   374â†’
   375â†’  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   376â†’  # å·²åˆ é™¤çš„ Protocol å·¥å…·ï¼ˆæ–¹æ¡ˆ D ä¸éœ€è¦ï¼‰
   377â†’  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   378â†’  # âŒ start_protocol
   379â†’  # âŒ continue_protocol
   380â†’  # âŒ advance_protocol_step
   381â†’  # âŒ cancel_protocol
   382â†’  # âŒ show_protocol_invitation
   383â†’  # âŒ show_protocol_progress
   384â†’  # âŒ show_protocol_step
   385â†’  # âŒ show_protocol_completion
   386â†’```
   387â†’
   388â†’---
   389â†’
   390â†’## 6. å‰ç«¯æ¶æ„
   391â†’
   392â†’### 6.1 é¡µé¢ç»“æ„
   393â†’
   394â†’```
   395â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   396â†’â”‚                           å‰ç«¯é¡µé¢ç»“æ„                                    â”‚
   397â†’â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   398â†’â”‚                                                                          â”‚
   399â†’â”‚   /chat                    /journey                  /me                 â”‚
   400â†’â”‚   â”€â”€â”€â”€â”€                    â”€â”€â”€â”€â”€â”€â”€â”€                  â”€â”€â”€                 â”‚
   401â†’â”‚   æ ¸å¿ƒå¯¹è¯é¡µé¢              ç›®æ ‡è¿›åº¦å±•ç¤º              è‡ªæˆ‘è®¤çŸ¥å±•ç¤º         â”‚
   402â†’â”‚                                                                          â”‚
   403â†’â”‚   â€¢ æ¥æ”¶ skill/scenario    â€¢ åŒ—ææ˜Ÿå¡ç‰‡              â€¢ å…«å­—å‘½ç›˜           â”‚
   404â†’â”‚   â€¢ æ‰§è¡Œåè®®å¯¹è¯            â€¢ å¹´åº¦ç›®æ ‡                â€¢ æ˜Ÿåº§æ˜Ÿå›¾           â”‚
   405â†’â”‚   â€¢ å·¥å…·è°ƒç”¨                â€¢ æœˆåº¦ Boss               â€¢ æ€§æ ¼ç”»åƒ           â”‚
   406â†’â”‚   â€¢ å¡ç‰‡æ¸²æŸ“                â€¢ å‘¨å¤§çŸ³å¤´                                    â”‚
   407â†’â”‚                            â€¢ ä»Šæ—¥æ æ†                                    â”‚
   408â†’â”‚                            â€¢ å¿«æ·å…¥å£ â†’ Chat                             â”‚
   409â†’â”‚                                                                          â”‚
   410â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   411â†’```
   412â†’
   413â†’### 6.2 Journey é¡µé¢äº¤äº’
   414â†’
   415â†’```typescript
   416â†’// JourneyContent.tsx - æ‰€æœ‰å¯æ§å…¥å£æ˜¾å¼ä¼  scenario
   417â†’
   418â†’const handleStartJourney = useCallback(() => {
   419â†’  router.push("/chat?skill=lifecoach&scenario=dankoe&prompt=æˆ‘æƒ³åšä¸€æ¬¡äººç”Ÿé‡ç½®");
   420â†’}, [router]);
   421â†’
   422â†’const handleWeeklyReview = useCallback(() => {
   423â†’  router.push("/chat?skill=lifecoach&scenario=weekly-review&prompt=å‘¨å¤ç›˜");
   424â†’}, [router]);
   425â†’
   426â†’const handleStuck = useCallback(() => {
   427â†’  router.push("/chat?skill=lifecoach&scenario=dankoe&prompt=æˆ‘å¡ä½äº†");
   428â†’}, [router]);
   429â†’```
   430â†’
   431â†’### 6.3 Chat é¡µé¢å‚æ•°è§£æ
   432â†’
   433â†’```typescript
   434â†’// /chat/page.tsx
   435â†’
   436â†’export default function ChatPage() {
   437â†’  const searchParams = useSearchParams();
   438â†’
   439â†’  const skill = searchParams.get("skill");      // lifecoach
   440â†’  const scenario = searchParams.get("scenario"); // dankoe
   441â†’  const prompt = searchParams.get("prompt");     // æˆ‘æƒ³åšä¸€æ¬¡äººç”Ÿé‡ç½®
   442â†’
   443â†’  // å‘é€åˆ°åç«¯
   444â†’  const { sendMessage } = useVibeChat({
   445â†’    skill,
   446â†’    scenario,
   447â†’    initialPrompt: prompt,
   448â†’  });
   449â†’}
   450â†’```
   451â†’
   452â†’---
   453â†’
   454â†’## 7. æ•°æ®æµ
   455â†’
   456â†’### 7.1 Dan Koe åè®®å®Œæ•´æµç¨‹
   457â†’
   458â†’```
   459â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   460â†’â”‚                    Dan Koe åè®®å®Œæ•´æ•°æ®æµ                                 â”‚
   461â†’â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   462â†’â”‚                                                                          â”‚
   463â†’â”‚  1. ç”¨æˆ·ç‚¹å‡» Journey é¡µé¢ [å¼€å§‹è®¾è®¡æˆ‘çš„äººç”Ÿ]                              â”‚
   464â†’â”‚     â”‚                                                                    â”‚
   465â†’â”‚     â–¼                                                                    â”‚
   466â†’â”‚  2. è·³è½¬ /chat?skill=lifecoach&scenario=dankoe&prompt=...               â”‚
   467â†’â”‚     â”‚                                                                    â”‚
   468â†’â”‚     â–¼                                                                    â”‚
   469â†’â”‚  3. chat_v5.py è§£æå‚æ•°ï¼Œæ„å»º AgentContext                               â”‚
   470â†’â”‚     â”‚                                                                    â”‚
   471â†’â”‚     â–¼                                                                    â”‚
   472â†’â”‚  4. CoreAgent åŠ è½½ rules/dankoe.md åˆ° System Prompt                     â”‚
   473â†’â”‚     â”‚                                                                    â”‚
   474â†’â”‚     â–¼                                                                    â”‚
   475â†’â”‚  5. LLM æŒ‰ç…§ dankoe.md çš„ 6 ä¸ªé—®é¢˜é¡ºåºæ‰§è¡Œ                               â”‚
   476â†’â”‚     â”‚                                                                    â”‚
   477â†’â”‚     â”‚  Q1: æŒç»­çš„ä¸æ»¡ â†’ ç”¨æˆ·å›ç­” â†’ LLM ç¡®è®¤+è¿½é—®                         â”‚
   478â†’â”‚     â”‚  Q2: åæ„¿æ™¯åœºæ™¯ â†’ ç”¨æˆ·å›ç­” â†’ LLM ç¡®è®¤                              â”‚
   479â†’â”‚     â”‚  Q3: æ„¿æ™¯åœºæ™¯ â†’ ç”¨æˆ·å›ç­” â†’ LLM æ€»ç»“ Phase 1                        â”‚
   480â†’â”‚     â”‚  Q4: æ”¾å¼ƒçš„èº«ä»½ â†’ ç”¨æˆ·å›ç­” â†’ LLM ç¡®è®¤                              â”‚
   481â†’â”‚     â”‚  Q5: æ–°èº«ä»½å®£è¨€ â†’ ç”¨æˆ·å›ç­” â†’ LLM æ€»ç»“èº«ä»½è½¬æ¢                      â”‚
   482â†’â”‚     â”‚  Q6: æœ¬å‘¨è¡ŒåŠ¨ â†’ ç”¨æˆ·å›ç­” â†’ LLM å®Œæˆåè®®                            â”‚
   483â†’â”‚     â”‚                                                                    â”‚
   484â†’â”‚     â–¼                                                                    â”‚
   485â†’â”‚  6. LLM è°ƒç”¨ write_lifecoach_state ä¿å­˜æ•°æ®                              â”‚
   486â†’â”‚     â”‚                                                                    â”‚
   487â†’â”‚     â”‚  {                                                                 â”‚
   488â†’â”‚     â”‚    "north_star": {                                                 â”‚
   489â†’â”‚     â”‚      "pain_points": ["å·¥ä½œæ²¡æ„ä¹‰"],                                â”‚
   490â†’â”‚     â”‚      "anti_vision_scene": "5å¹´åçš„å‘¨äºŒ...",                        â”‚
   491â†’â”‚     â”‚      "vision_scene": "3å¹´åçš„å‘¨äºŒ..."                              â”‚
   492â†’â”‚     â”‚    },                                                              â”‚
   493â†’â”‚     â”‚    "identity": {                                                   â”‚
   494â†’â”‚     â”‚      "current": "æˆ‘æ˜¯é‚£ç§ä¼šæ‹–å»¶çš„äºº",                              â”‚
   495â†’â”‚     â”‚      "target": "æˆ‘æ˜¯é‚£ç§è¯´åˆ°åšåˆ°çš„äºº"                              â”‚
   496â†’â”‚     â”‚    },                                                              â”‚
   497â†’â”‚     â”‚    "weekly": {                                                     â”‚
   498â†’â”‚     â”‚      "rocks": [...]                                                â”‚
   499â†’â”‚     â”‚    }                                                               â”‚
   500â†’â”‚     â”‚  }                                                                 â”‚
   501â†’â”‚     â”‚                                                                    â”‚
   502â†’â”‚     â–¼                                                                    â”‚
   503â†’â”‚  7. LLM è°ƒç”¨ show_dankoe å±•ç¤ºç»“æœå¡ç‰‡                                    â”‚
   504â†’â”‚     â”‚                                                                    â”‚
   505â†’â”‚     â–¼                                                                    â”‚
   506â†’â”‚  8. ç”¨æˆ·è¿”å› Journey é¡µé¢ï¼Œçœ‹åˆ°æ›´æ–°åçš„æ•°æ®                               â”‚
   507â†’â”‚                                                                          â”‚
   508â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   509â†’```
   510â†’
   511â†’---
   512â†’
   513â†’## 8. ç‰ˆæœ¬å†å²
   514â†’
   515â†’- **V8.1** (2026-01-20):
   516â†’  - Chat-First è®¾è®¡å“²å­¦
   517â†’  - æ–¹æ¡ˆ Dï¼šçº¯ Prompt é©±åŠ¨çš„åè®®æ‰§è¡Œ
   518â†’  - åˆ é™¤ Protocol å·¥å…·ï¼ˆstart_protocol, advance_protocol_step ç­‰ï¼‰
   519â†’  - æ··åˆè·¯ç”±æ–¹æ¡ˆï¼šå‰ç«¯æ˜¾å¼ä¼  scenario + åç«¯æ™ºèƒ½è·¯ç”± fallback
   520â†’  - Journey/Me é¡µé¢åªè´Ÿè´£å±•ç¤ºï¼Œæ·±åº¦äº¤äº’å›åˆ° Chat
   521â†’
   522â†’- **V8.0** (2026-01-19):
   523â†’  - VibeProfile æ•´åˆï¼šWHO/WHAT æ•°æ®åˆ†ç¦»
   524â†’  - Knowledge v2ï¼ˆCase å€’æ’ç´¢å¼•ï¼‰
   525â†’  - Proactive æ¨¡å—
   526â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
