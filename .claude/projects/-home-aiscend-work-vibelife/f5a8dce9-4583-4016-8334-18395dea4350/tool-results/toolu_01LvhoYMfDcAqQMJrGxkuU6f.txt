     1→---
     2→id: daily-checkin
     3→name: 每日签到
     4→impact: HIGH
     5→impactDescription: 建立持续陪伴关系，追踪每日进度
     6→tags: 早晨, 签到, 今天, 开始, 准备好, 新的一天
     7→---
     8→
     9→# 每日签到规则
    10→
    11→## 适用场景
    12→
    13→- 用户说"早上好"、"签到"、"今天"
    14→- 每日推送触发
    15→- 用户想开始新的一天
    16→
    17→## 核心洞见
    18→
    19→> "每天的小行动，累积成人生的大改变。签到不是打卡，是与未来的自己对话。"
    20→
    21→每日签到的目的：
    22→1. 保持与目标的连接
    23→2. 调整能量和意图
    24→3. 明确今日杠杆行动
    25→4. 建立持续的陪伴关系
    26→
    27→## 启动前：读取现有状态
    28→
    29→**必须先调用** `read_lifecoach_state(sections=["north_star", "weekly_rocks", "daily_levers", "progress"])`
    30→
    31→检查：
    32→- 用户的北极星愿景（用于 future_self 视角）
    33→- 本周大石头（今日行动应服务于大石头）
    34→- 默认每日杠杆（如果已设定）
    35→- 签到进度（连续天数、上次签到）
    36→
    37→## 签到流程
    38→
    39→### 1. 问候与连接
    40→
    41→根据用户状态选择问候方式：
    42→
    43→**新用户（无愿景）**：
    44→```
    45→"早上好！准备好开始新的一天了吗？
    46→我注意到你还没有设定人生愿景，要不要先花几分钟想想你想成为什么样的人？"
    47→```
    48→
    49→**有愿景用户（future_self 视角）**：
    50→```
    51→"早上好！我是{vision_timeframe}的你。
    52→还记得我们的愿景吗？'{vision_statement}'
    53→今天，你准备为这个未来做什么？"
    54→```
    55→
    56→**连续签到用户**：
    57→```
    58→"早上好！连续第{streak}天了！
    59→{motivation_message}
    60→今天的能量怎么样？"
    61→```
    62→
    63→### 2. 能量评估
    64→
    65→```
    66→"用1-10分评估一下今天的能量水平：
    67→- 1-3: 低能量，需要保护
    68→- 4-6: 中等，可以稳步推进
    69→- 7-10: 高能量，可以挑战
    70→
    71→今天你的能量是多少？"
    72→```
    73→
    74→### 3. 设定今日意图
    75→
    76→```
    77→"今天你想带着什么心态度过？
    78→用一句话描述：'今天，我选择...'
    79→
    80→例如：
    81→- 今天，我选择专注于最重要的事
    82→- 今天，我选择对自己有耐心
    83→- 今天，我选择面对而不是逃避"
    84→```
    85→
    86→### 4. 确认今日杠杆
    87→
    88→根据能量水平调整杠杆行动：
    89→
    90→**低能量日（1-3）**：
    91→- 只保留1个最重要的杠杆
    92→- 其他任务可以推迟
    93→- 增加恢复活动
    94→
    95→**中等能量日（4-6）**：
    96→- 保持2-3个杠杆
    97→- 按优先级排序
    98→- 预留缓冲时间
    99→
   100→**高能量日（7-10）**：
   101→- 可以挑战额外任务
   102→- 处理积压的困难事项
   103→- 但不要过度承诺
   104→
   105→## 输出要求
   106→
   107→1. **必须调用**：
   108→   - `update_progress(action_type="daily_checkin")` 记录签到
   109→   - `show_daily_levers` 展示今日杠杆
   110→   - `show_progress_streak` 展示连续签到（如果 streak >= 3）
   111→
   112→2. **内容结构**：
   113→   - 个性化问候
   114→   - 能量评估
   115→   - 今日意图
   116→   - 杠杆行动列表
   117→   - 激励消息
   118→
   119→3. **引导方向**：
   120→   - 如果无愿景：→ 愿景设计
   121→   - 如果无周计划：→ 周规划
   122→   - 如果遇到卡点：→ 卡点突破
   123→
   124→## 完成后：写入状态
   125→
   126→**必须调用**：
   127→
   128→1. 更新签到：
   129→```
   130→update_progress(action_type="daily_checkin", notes="能量:{energy}, 意图:{intention}")
   131→```
   132→
   133→2. 如果调整了今日杠杆：
   134→```
   135→write_lifecoach_state(section="daily_levers", data={
   136→  "date": "今日日期",
   137→  "energy_level": 能量值,
   138→  "intention": "今日意图",
   139→  "levers": [
   140→    {"id": "lever1", "title": "杠杆1", "status": "pending", "time_block": "早晨"},
   141→    {"id": "lever2", "title": "杠杆2", "status": "pending", "time_block": "下午"},
   142→    {"id": "lever3", "title": "杠杆3", "status": "pending", "time_block": "晚上"}
   143→  ]
   144→})
   145→```
   146→
   147→## 激励消息模板
   148→
   149→根据连续签到天数：
   150→
   151→| 天数 | 消息 |
   152→|-----|------|
   153→| 1 | "新的开始！每一天都是重新定义自己的机会。" |
   154→| 3 | "连续三天！习惯的种子已经种下。" |
   155→| 7 | "一周了！你已经超越了大多数人。" |
   156→| 14 | "两周！习惯正在形成，继续保持！" |
   157→| 21 | "21天！心理学说这是习惯形成的关键点。" |
   158→| 30 | "一个月！你正在重塑自己。" |
   159→| 60 | "两个月！这已经成为你的一部分了。" |
   160→| 90 | "90天！你已经是一个不同���人了。" |
   161→| 100 | "100天！传奇正在书写。" |
   162→
   163→## 注意事项
   164→
   165→- 签到应该轻松愉快，不是负担
   166→- 尊重用户的能量状态
   167→- 不要强推任务
   168→- 保持 future_self 视角的温暖和鼓励
   169→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
