     1→# Lifecoach Reminders Configuration
     2→# 定义主动推送的触发条件和内容
     3→
     4→skill_id: lifecoach
     5→enabled: true
     6→version: "2.0"
     7→
     8→# ═══════════════════════════════════════════════════════════════════════════
     9→# 提醒定义
    10→# ═══════════════════════════════════════════════════════════════════════════
    11→
    12→reminders:
    13→  # ─────────────────────────────────────────────────────────────────────────
    14→  # 每日签到
    15→  # ─────────────────────────────────────────────────────────────────────────
    16→  - id: daily_checkin
    17→    name: 每日签到
    18→    description: 每天早晨提醒用户签到，开始新的一天
    19→    enabled: true
    20→    priority: high
    21→
    22→    trigger:
    23→      type: time_based
    24→      schedule: "0 8 * * *"  # 每天早上8点
    25→      timezone: user  # 使用用户时区
    26→
    27→    conditions:
    28→      # 只有设定了愿景的用户才推送
    29→      - type: has_data
    30→        path: "lifecoach.north_star.vision_statement"
    31→      # 今天还没签到
    32→      - type: not_checked_in_today
    33→
    34→    content:
    35→      generator: rules/companion/daily-checkin.md
    36→      card_type: daily_levers
    37→
    38→      # 推送消息模板（根据用户状态动态生成）
    39→      templates:
    40→        default:
    41→          title: "早上好！准备开始新的一天了吗？"
    42→          body: "来自未来的你想和你聊聊今天的计划。"
    43→
    44→        streak_3:
    45→          title: "连续第{streak}天！"
    46→          body: "习惯的种子已经种下，今天继续浇灌。"
    47→
    48→        streak_7:
    49→          title: "一周连续签到！"
    50→          body: "你已经超越了大多数人，继续保持！"
    51→
    52→        streak_30:
    53→          title: "一个月了！"
    54→          body: "你正在重塑自己，来自未来的你为你骄傲。"
    55→
    56→      suggested_prompt: "准备好开始今天了吗？"
    57→
    58→      quick_actions:
    59→        - label: "开始"
    60→          prompt: "我准备好了，开始今天的杠杆行动"
    61→        - label: "低能量"
    62→          prompt: "今天能量比较低，帮我调整一下计划"
    63→        - label: "跳过"
    64→          action: dismiss
    65→
    66→  # ─────────────────────────────────────────────────────────────────────────
    67→  # 周复盘
    68→  # ─────────────────────────────────────────────────────────────────────────
    69→  - id: weekly_review
    70→    name: 周复盘
    71→    description: 周日晚上提醒用户进行周复盘
    72→    enabled: true
    73→    priority: medium
    74→
    75→    trigger:
    76→      type: time_based
    77→      schedule: "0 20 * * 0"  # 周日晚上8点
    78→      timezone: user
    79→
    80→    conditions:
    81→      # 有本周数据才推送
    82→      - type: has_weekly_data
    83→      # 本周还没复盘
    84→      - type: not_reviewed_this_week
    85→
    86→    content:
    87→      generator: rules/companion/weekly-review.md
    88→      card_type: role_balance
    89→
    90→      templates:
    91→        default:
    92→          title: "这周结束了，来做个复盘吧"
    93→          body: "回顾本周的进展，发现模式，为下周做准备。"
    94→
    95→        high_completion:
    96→          title: "精彩的一周！"
    97→          body: "完成率{completion_rate}%，来庆祝一下并总结经验。"
    98→
    99→        low_completion:
   100→          title: "这周有些挑战"
   101→          body: "没关系，复盘是学习的机会，不是审判。"
   102→
   103→      suggested_prompt: "这周结束了，来做个复盘吧"
   104→
   105→      quick_actions:
   106→        - label: "开始复盘"
   107→          prompt: "好的，我们来复盘这周"
   108→        - label: "快速版"
   109→          prompt: "用5分钟快速复盘这周"
   110→        - label: "明天再说"
   111→          action: snooze
   112→          snooze_hours: 12
   113→
   114→  # ─────────────────────────────────────────────────────────────────────────
   115→  # 周规划
   116→  # ─────────────────────────────────────────────────────────────────────────
   117→  - id: weekly_planning
   118→    name: 周规划
   119→    description: 周一早上提醒用户进行周规划
   120→    enabled: true
   121→    priority: high
   122→
   123→    trigger:
   124→      type: time_based
   125→      schedule: "0 8 * * 1"  # 周一早上8点
   126→      timezone: user
   127→
   128→    conditions:
   129→      # 有愿景才推送
   130→      - type: has_data
   131→        path: "lifecoach.north_star.vision_statement"
   132→      # 本周还没规划
   133→      - type: not_planned_this_week
   134→
   135→    content:
   136→      generator: rules/companion/weekly-planning.md
   137→      card_type: weekly_rocks
   138→
   139→      templates:
   140→        default:
   141→          title: "新的一周开始了！"
   142→          body: "让我们设定本周的大石头，明确优先级。"
   143→
   144→        after_review:
   145→          title: "基于昨天的复盘"
   146→          body: "让我们把学到的应用到这周的计划中。"
   147→
   148→      suggested_prompt: "帮我规划这周的大石头"
   149→
   150→      quick_actions:
   151→        - label: "开始规划"
   152→          prompt: "好的，帮我规划这周的大石头"
   153→        - label: "延续上周"
   154→          prompt: "这周继续上周未完成的大石头"
   155→        - label: "稍后"
   156→          action: snooze
   157→          snooze_hours: 2
   158→
   159→  # ─────────────────────────────────────────────────────────────────────────
   160→  # 杠杆提醒
   161→  # ─────────────────────────────────────────────────────────────────────────
   162→  - id: lever_reminder
   163→    name: 杠杆提醒
   164→    description: 提醒用户完成今日杠杆行动
   165→    enabled: true
   166→    priority: low
   167→
   168→    trigger:
   169→      type: time_based
   170→      schedule: "0 14 * * *"  # 下午2点
   171→      timezone: user
   172→
   173→    conditions:
   174→      # 今天已签到
   175→      - type: checked_in_today
   176→      # 有未完成的杠杆
   177→      - type: has_pending_levers
   178→
   179→    content:
   180→      card_type: daily_levers
   181→
   182→      templates:
   183→        default:
   184→          title: "下午好！"
   185→          body: "还有{pending_count}个杠杆行动等待完成。"
   186→
   187→        one_left:
   188→          title: "就差一个了！"
   189→          body: "完成最后一个杠杆，今天就圆满了。"
   190→
   191→      suggested_prompt: "查看今天的杠杆进度"
   192→
   193→      quick_actions:
   194→        - label: "查看"
   195→          prompt: "查看今天的杠杆完成情况"
   196→        - label: "完成了"
   197→          prompt: "我完成了今天的杠杆行动"
   198→        - label: "忽略"
   199→          action: dismiss
   200→
   201→  # ─────────────────────────────────────────────────────────────────────────
   202→  # 断签提醒
   203→  # ─────────────────────────────────────────────────────────────────────────
   204→  - id: streak_recovery
   205→    name: 断签提醒
   206→    description: 用户断签后的温和提醒
   207→    enabled: true
   208→    priority: medium
   209→
   210→    trigger:
   211→      type: event_based
   212→      event: streak_broken
   213→      delay_hours: 24  # 断签后24小时发送
   214→
   215→    conditions:
   216→      # 之前有连续签到记录
   217→      - type: had_streak
   218→        min_days: 3
   219→
   220→    content:
   221→      templates:
   222→        default:
   223→          title: "嘿，好久不见"
   224→          body: "没关系，每一天都是新的开始。准备好重新开始了吗？"
   225→
   226→        long_streak_broken:
   227→          title: "我知道断签不容易"
   228→          body: "你之前连续{previous_streak}天，那个能力还在。随时可以重新开始。"
   229→
   230→      suggested_prompt: "我想重新开始"
   231→
   232→      quick_actions:
   233→        - label: "重新开始"
   234→          prompt: "我准备好重新开始了"
   235→        - label: "聊��"
   236→          prompt: "最近有些事情让我没能坚持"
   237→        - label: "暂时不"
   238→          action: dismiss
   239→
   240→# ═══════════════════════════════════════════════════════════════════════════
   241→# 全局配置
   242→# ═══════════════════════════════════════════════════════════════════════════
   243→
   244→global_config:
   245→  # 默认推送时间（如果用户没有设置）
   246→  default_push_hour: 8
   247→
   248→  # 推送冷却时间（同一提醒类型的最小间隔）
   249→  cooldown_hours: 24
   250→
   251→  # 每日最大推送数
   252→  max_daily_pushes: 3
   253→
   254→  # 静默时段
   255→  quiet_hours:
   256→    start: 22
   257→    end: 7
   258→
   259→  # 推送渠道优先级
   260→  channels:
   261→    - in_app
   262→    - push_notification
   263→    - email  # 仅用于重要提醒
   264→
   265→  # 用户偏好覆盖
   266→  respect_user_preferences: true
   267→
   268→  # A/B 测试配置
   269→  ab_test:
   270→    enabled: false
   271→    variants: []
   272→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
