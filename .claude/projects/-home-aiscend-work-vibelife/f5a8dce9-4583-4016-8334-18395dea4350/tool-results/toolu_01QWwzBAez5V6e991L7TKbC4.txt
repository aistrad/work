     1â†’/**
     2â†’ * DailyLeversCard - æ¯æ—¥æ æ†å¡ç‰‡
     3â†’ *
     4â†’ * å±•ç¤ºä»Šå¤©æœ€é‡è¦çš„ 3 ä¸ªè¡ŒåŠ¨
     5â†’ * card_type: "daily_levers"
     6â†’ */
     7â†’
     8â†’"use client";
     9â†’
    10â†’import { motion } from "framer-motion";
    11â†’import { registerCard } from "@/skills/CardRegistry";
    12â†’
    13â†’interface Lever {
    14â†’  id: string;
    15â†’  title: string;
    16â†’  rock_id?: string;
    17â†’  status?: "pending" | "completed" | "skipped";
    18â†’  time_block?: string;
    19â†’  energy_required?: number;
    20â†’}
    21â†’
    22â†’interface DailyLeversData {
    23â†’  date?: string;
    24â†’  levers: Lever[];
    25â†’  energy_level?: number;
    26â†’  intention?: string;
    27â†’  stats?: {
    28â†’    total: number;
    29â†’    completed: number;
    30â†’    completion_rate: number;
    31â†’  };
    32â†’  generated_at?: string;
    33â†’}
    34â†’
    35â†’interface DailyLeversCardProps {
    36â†’  data: DailyLeversData;
    37â†’}
    38â†’
    39â†’function DailyLeversCard({ data }: DailyLeversCardProps) {
    40â†’  const { levers, energy_level, intention, stats, date } = data;
    41â†’
    42â†’  if (!levers || levers.length === 0) return null;
    43â†’
    44â†’  const getStatusIcon = (status?: string) => {
    45â†’    switch (status) {
    46â†’      case "completed": return "âœ…";
    47â†’      case "skipped": return "â­ï¸";
    48â†’      default: return "â¬œ";
    49â†’    }
    50â†’  };
    51â†’
    52â†’  const getTimeBlockIcon = (timeBlock?: string) => {
    53â†’    switch (timeBlock?.toLowerCase()) {
    54â†’      case "æ—©æ™¨":
    55â†’      case "morning": return "ğŸŒ…";
    56â†’      case "ä¸‹åˆ":
    57â†’      case "afternoon": return "â˜€ï¸";
    58â†’      case "æ™šä¸Š":
    59â†’      case "evening": return "ğŸŒ™";
    60â†’      default: return "â°";
    61â†’    }
    62â†’  };
    63â†’
    64â†’  const getEnergyColor = (level?: number) => {
    65â†’    if (!level) return "text-gray-400";
    66â†’    if (level >= 7) return "text-green-500";
    67â†’    if (level >= 4) return "text-yellow-500";
    68â†’    return "text-red-500";
    69â†’  };
    70â†’
    71â†’  return (
    72â†’    <motion.div
    73â†’      initial={{ opacity: 0, y: 20 }}
    74â†’      animate={{ opacity: 1, y: 0 }}
    75â†’      transition={{ duration: 0.5 }}
    76â†’      className="daily-levers-card bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-950/30 dark:to-amber-950/30 rounded-xl border border-orange-200 dark:border-orange-800 p-4 my-2 overflow-hidden"
    77â†’    >
    78â†’      {/* Header */}
    79â†’      <div className="flex items-center justify-between mb-4">
    80â†’        <div className="flex items-center gap-2">
    81â†’          <span className="text-2xl">âš¡</span>
    82â†’          <h3 className="text-lg font-semibold text-orange-900 dark:text-orange-100">
    83â†’            æ¯æ—¥æ æ†
    84â†’          </h3>
    85â†’          {date && (
    86â†’            <span className="text-xs text-muted-foreground">
    87â†’              {date}
    88â†’            </span>
    89â†’          )}
    90â†’        </div>
    91â†’        {stats && (
    92â†’          <div className="flex items-center gap-2">
    93â†’            <span className="text-sm text-muted-foreground">
    94â†’              {stats.completed}/{stats.total}
    95â†’            </span>
    96â†’            {stats.completion_rate === 100 && (
    97â†’              <span className="text-lg">ğŸ‰</span>
    98â†’            )}
    99â†’          </div>
   100â†’        )}
   101â†’      </div>
   102â†’
   103â†’      {/* Energy & Intention */}
   104â†’      <motion.div
   105â†’        initial={{ opacity: 0 }}
   106â†’        animate={{ opacity: 1 }}
   107â†’        transition={{ delay: 0.2 }}
   108â†’        className="flex flex-wrap gap-2 mb-4"
   109â†’      >
   110â†’        {energy_level !== undefined && (
   111â†’          <div className="flex items-center gap-1 px-3 py-1 bg-white/50 dark:bg-black/20 rounded-full">
   112â†’            <span>ğŸ”‹</span>
   113â†’            <span className={`text-sm font-medium ${getEnergyColor(energy_level)}`}>
   114â†’              {energy_level}/10
   115â†’            </span>
   116â†’          </div>
   117â†’        )}
   118â†’        {intention && (
   119â†’          <div className="flex-1 px-3 py-1 bg-orange-100/50 dark:bg-orange-900/30 rounded-lg text-sm italic">
   120â†’            "{intention}"
   121â†’          </div>
   122â†’        )}
   123â†’      </motion.div>
   124â†’
   125â†’      {/* Levers List */}
   126â†’      <div className="space-y-2">
   127â†’        {levers.map((lever, index) => (
   128â†’          <motion.div
   129â†’            key={lever.id}
   130â†’            initial={{ opacity: 0, x: -20 }}
   131â†’            animate={{ opacity: 1, x: 0 }}
   132â†’            transition={{ delay: 0.3 + index * 0.1 }}
   133â†’            className={`flex items-center gap-3 p-3 rounded-lg border ${
   134â†’              lever.status === "completed"
   135â†’                ? "bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800"
   136â†’                : lever.status === "skipped"
   137â†’                ? "bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-800 opacity-60"
   138â†’                : "bg-white/50 dark:bg-black/20 border-orange-200 dark:border-orange-800"
   139â†’            }`}
   140â†’          >
   141â†’            <span className="text-xl">{getStatusIcon(lever.status)}</span>
   142â†’            <div className="flex-1">
   143â†’              <div className={`font-medium ${lever.status === "completed" ? "line-through opacity-70" : ""}`}>
   144â†’                {lever.title}
   145â†’              </div>
   146â†’            </div>
   147â†’            <div className="flex items-center gap-2 text-sm text-muted-foreground">
   148â†’              {lever.time_block && (
   149â†’                <span className="flex items-center gap-1">
   150â†’                  {getTimeBlockIcon(lever.time_block)}
   151â†’                  <span className="text-xs">{lever.time_block}</span>
   152â†’                </span>
   153â†’              )}
   154â†’              {lever.energy_required && (
   155â†’                <span className="text-xs px-1.5 py-0.5 bg-gray-100 dark:bg-gray-800 rounded">
   156â†’                  âš¡{lever.energy_required}
   157â†’                </span>
   158â†’              )}
   159â†’            </div>
   160â†’          </motion.div>
   161â†’        ))}
   162â†’      </div>
   163â†’
   164â†’      {/* Progress Bar */}
   165â†’      {stats && (
   166â†’        <motion.div
   167â†’          initial={{ opacity: 0 }}
   168â†’          animate={{ opacity: 1 }}
   169â†’          transition={{ delay: 0.6 }}
   170â†’          className="mt-4"
   171â†’        >
   172â†’          <div className="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden">
   173â†’            <motion.div
   174â†’              className={`h-full rounded-full ${
   175â†’                stats.completion_rate === 100 ? "bg-green-500" : "bg-orange-500"
   176â†’              }`}
   177â†’              initial={{ width: 0 }}
   178â†’              animate={{ width: `${stats.completion_rate}%` }}
   179â†’              transition={{ delay: 0.7, duration: 0.5 }}
   180â†’            />
   181â†’          </div>
   182â†’        </motion.div>
   183â†’      )}
   184â†’
   185â†’      {/* Motivation */}
   186â†’      <motion.div
   187â†’        initial={{ opacity: 0 }}
   188â†’        animate={{ opacity: 1 }}
   189â†’        transition={{ delay: 0.8 }}
   190â†’        className="mt-3 text-xs text-center text-muted-foreground"
   191â†’      >
   192â†’        {stats?.completion_rate === 100
   193â†’          ? "ğŸ‰ ä»Šæ—¥æ æ†å…¨éƒ¨å®Œæˆï¼"
   194â†’          : "ğŸ’ª æ¯ä¸€ä¸ªå°è¡ŒåŠ¨éƒ½åœ¨æ¨åŠ¨å¤§æ”¹å˜"}
   195â†’      </motion.div>
   196â†’    </motion.div>
   197â†’  );
   198â†’}
   199â†’
   200â†’registerCard("daily_levers", DailyLeversCard);
   201â†’
   202â†’export default DailyLeversCard;
   203â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
