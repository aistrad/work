     1â†’"use client";
     2â†’
     3â†’/**
     4â†’ * MobileHeader - ç§»åŠ¨ç«¯é¡¶éƒ¨å¯¼èˆªæ 
     5â†’ * Based on: vibelife spec v3.0
     6â†’ *
     7â†’ * æ˜¾ç¤º: VibeGlyph + æŠ€èƒ½åç§° + è¯­éŸ³æ¨¡å¼åˆ‡æ¢
     8â†’ * V10 æ–°å¢: èŠå¤©å†å²æŠ½å±‰æŒ‰é’®
     9â†’ */
    10â†’
    11â†’import { Menu } from "lucide-react";
    12â†’import { cn } from "@/lib/utils";
    13â†’import { VibeGlyph, type SkillType } from "@/components/core";
    14â†’import { useAppShell } from "./AppShell";
    15â†’import { NotificationBell } from "./NotificationBell";
    16â†’
    17â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    18â†’// Types & Config
    19â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    20â†’
    21â†’interface MobileHeaderProps {
    22â†’  skill: SkillType;
    23â†’  className?: string;
    24â†’}
    25â†’
    26â†’const SKILL_NAMES: Record<SkillType, string> = {
    27â†’  bazi: "å…«å­—å‘½ç†",
    28â†’  zodiac: "æ˜Ÿåº§å æ˜Ÿ",
    29â†’  mbti: "MBTI äººæ ¼",
    30â†’  attach: "ä¾æ‹æ¨¡å¼",
    31â†’  career: "èŒä¸šå‘å±•",
    32â†’  lifecoach: "äººç”Ÿæ•™ç»ƒ",
    33â†’};
    34â†’
    35â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    36â†’// MobileHeader Component
    37â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    38â†’
    39â†’export function MobileHeader({ skill, className }: MobileHeaderProps) {
    40â†’  const { voiceMode, setVoiceMode, activeTab, setMobileDrawerOpen } = useAppShell();
    41â†’
    42â†’  const toggleVoiceMode = () => {
    43â†’    // å¾ªç¯åˆ‡æ¢ï¼šwarm â†’ sarcastic â†’ wise â†’ warm
    44â†’    if (voiceMode === "warm") {
    45â†’      setVoiceMode("sarcastic");
    46â†’    } else if (voiceMode === "sarcastic") {
    47â†’      setVoiceMode("wise");
    48â†’    } else {
    49â†’      setVoiceMode("warm");
    50â†’    }
    51â†’  };
    52â†’
    53â†’  const voiceModeDisplay = {
    54â†’    warm: "ğŸŒ æ¸©æš–",
    55â†’    sarcastic: "ğŸ˜ˆ åæ§½",
    56â†’    wise: "ğŸ§™ ç¿æ™º",
    57â†’  };
    58â†’
    59â†’  return (
    60â†’    <header
    61â†’      className={cn(
    62â†’        "h-14 flex items-center justify-between px-4",
    63â†’        "bg-card/80 backdrop-blur-sm border-b border-border",
    64â†’        "safe-area-pt", // iOS safe area
    65â†’        className
    66â†’      )}
    67â†’    >
    68â†’      {/* Left: Menu Button (Chat tab only) + Logo + Skill Name */}
    69â†’      <div className="flex items-center gap-2">
    70â†’        {activeTab === "chat" && (
    71â†’          <button
    72â†’            onClick={() => setMobileDrawerOpen(true)}
    73â†’            className="p-1.5 -ml-1.5 rounded-md hover:bg-muted text-muted-foreground"
    74â†’            aria-label="æ‰“å¼€å¯¹è¯å†å²"
    75â†’          >
    76â†’            <Menu className="w-5 h-5" />
    77â†’          </button>
    78â†’        )}
    79â†’        <VibeGlyph
    80â†’          size="sm"
    81â†’          skill={skill}
    82â†’          showAura={false}
    83â†’          animate={false}
    84â†’        />
    85â†’        <span className="font-serif font-semibold text-foreground">
    86â†’          {SKILL_NAMES[skill]}
    87â†’        </span>
    88â†’      </div>
    89â†’
    90â†’      {/* Right: Notification Bell + Voice Mode Toggle */}
    91â†’      <div className="flex items-center gap-2">
    92â†’        <NotificationBell />
    93â†’        <button
    94â†’          onClick={toggleVoiceMode}
    95â†’          className={cn(
    96â†’            "px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200",
    97â†’            voiceMode === "warm" && "bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300",
    98â†’            voiceMode === "sarcastic" && "bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300",
    99â†’            voiceMode === "wise" && "bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300"
   100â†’          )}
   101â†’        >
   102â†’          {voiceModeDisplay[voiceMode]}
   103â†’        </button>
   104â†’      </div>
   105â†’    </header>
   106â†’  );
   107â†’}
   108â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
