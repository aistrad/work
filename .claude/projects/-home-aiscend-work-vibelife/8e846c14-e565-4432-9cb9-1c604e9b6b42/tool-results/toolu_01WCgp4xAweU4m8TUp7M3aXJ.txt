     1â†’/**
     2â†’ * Onboarding Flow Types - v3.0
     3â†’ *
     4â†’ * ç”¨æˆ·æµç¨‹é˜¶æ®µå®šä¹‰å’ŒçŠ¶æ€ç±»å‹
     5â†’ * æ”¯æŒå¤šå˜ä½“å…¥å£ï¼šbazi / zodiac / jungastro / dankoe
     6â†’ */
     7â†’
     8â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     9â†’// å˜ä½“ç±»å‹
    10â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    11â†’
    12â†’export type VariantId = 'bazi' | 'zodiac' | 'jungastro' | 'dankoe'
    13â†’
    14â†’export interface VariantLanding {
    15â†’  headline: string
    16â†’  subheadline: string
    17â†’  cta: string
    18â†’  skip_birth_info: boolean
    19â†’}
    20â†’
    21â†’export interface VariantConfig {
    22â†’  id: string
    23â†’  name: string
    24â†’  description: string
    25â†’  requires: Array<{ skill: string; compute: boolean }>
    26â†’  landing: VariantLanding
    27â†’  theme: {
    28â†’    skill: string
    29â†’    primary_color: string
    30â†’    icon: string
    31â†’  }
    32â†’}
    33â†’
    34â†’export const VARIANT_DEFAULTS: Record<VariantId, VariantLanding> = {
    35â†’  bazi: {
    36â†’    headline: 'å‘Šè¯‰æˆ‘ä½ çš„ç”Ÿæ—¥',
    37â†’    subheadline: '90ç§’ Â· å…«å­—å‘½ç† Â· ä¸‰ä¸ªç²¾å‡†æ´å¯Ÿ',
    38â†’    cta: 'çœ‹çœ‹æˆ‘çš„å‘½ç›˜',
    39â†’    skip_birth_info: false,
    40â†’  },
    41â†’  zodiac: {
    42â†’    headline: 'å‘Šè¯‰æˆ‘ä½ çš„ç”Ÿæ—¥',
    43â†’    subheadline: '90ç§’ Â· å æ˜Ÿå­¦ Â· å¤ªé˜³æœˆäº®ä¸Šå‡è§£è¯»',
    44â†’    cta: 'çœ‹çœ‹æˆ‘çš„æ˜Ÿç›˜',
    45â†’    skip_birth_info: false,
    46â†’  },
    47â†’  jungastro: {
    48â†’    headline: 'å‘Šè¯‰æˆ‘ä½ çš„ç”Ÿæ—¥',
    49â†’    subheadline: '90ç§’ Â· è£æ ¼å æ˜Ÿ Â· æ¢ç´¢å†…å¿ƒæ·±å¤„',
    50â†’    cta: 'å¼€å§‹å†…åœ¨ä¹‹æ—…',
    51â†’    skip_birth_info: false,
    52â†’  },
    53â†’  dankoe: {
    54â†’    headline: 'å‡†å¤‡å¥½é‡ç½®ä½ çš„äººç”Ÿå—ï¼Ÿ',
    55â†’    subheadline: '10åˆ†é’Ÿ Â· Dan Koe æ–¹æ³• Â· å¿«é€Ÿæ‰¾åˆ°æ–¹å‘',
    56â†’    cta: 'å¼€å§‹é‡ç½®',
    57â†’    skip_birth_info: true,
    58â†’  },
    59â†’}
    60â†’
    61â†’// SkillType from core: "bazi" | "zodiac" | "mbti" | "attach" | "career" | "lifecoach"
    62â†’export type ThemeSkill = 'bazi' | 'zodiac' | 'lifecoach'
    63â†’
    64â†’export const VARIANT_THEMES: Record<VariantId, { skill: ThemeSkill; icon: string }> = {
    65â†’  bazi: { skill: 'bazi', icon: 'ğŸŒ²' },
    66â†’  zodiac: { skill: 'zodiac', icon: 'âœ¨' },
    67â†’  jungastro: { skill: 'zodiac', icon: 'ğŸŒ‘' },  // jungastro uses zodiac theme
    68â†’  dankoe: { skill: 'lifecoach', icon: 'ğŸ”¥' },
    69â†’}
    70â†’
    71â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    72â†’// æµç¨‹æ­¥éª¤
    73â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    74â†’
    75â†’export type OnboardingStep =
    76â†’  | 'landing'        // Phase 1: ç›¸é‡ - ç”Ÿæ—¥è¾“å…¥ï¼ˆdankoe è·³è¿‡ï¼‰
    77â†’  | 'loading'        // Phase 2: æ´å¯Ÿ - è®¡ç®—ï¼ˆdankoe è·³è¿‡ï¼‰
    78â†’  | 'embeddedChat'   // Phase 3: é¦–æ¬¡ç›¸é‡ - åµŒå…¥å¼å¯¹è¯
    79â†’  | 'conversion'     // Phase 4: æœŸå¾… - ä»˜è´¹å¼•å¯¼
    80â†’
    81â†’export type PersonaType = 'warm' | 'sharp' | 'wise'
    82â†’
    83â†’export interface PersonaConfig {
    84â†’  id: PersonaType
    85â†’  name: string
    86â†’  nameEn: string
    87â†’  emotionValue: number // -100 to 100
    88â†’  description: string
    89â†’  sampleText: string
    90â†’  icon: string
    91â†’}
    92â†’
    93â†’export const PERSONAS: Record<PersonaType, PersonaConfig> = {
    94â†’  warm: {
    95â†’    id: 'warm',
    96â†’    name: 'æš–å¿ƒé—ºèœœ',
    97â†’    nameEn: 'Bestie',
    98â†’    emotionValue: 80,
    99â†’    description: 'ç†è§£ä½ ã€æ”¯æŒä½ ï¼Œç”¨æ¸©æš–çš„æ–¹å¼é™ªä¼´ä½ ',
   100â†’    sampleText: 'æˆ‘ç†è§£ä½ æœ€è¿‘å‹åŠ›å¾ˆå¤§ï¼Œè¿™æ˜¯æ­£å¸¸çš„...',
   101â†’    icon: 'ğŸŒ¸',
   102â†’  },
   103â†’  sharp: {
   104â†’    id: 'sharp',
   105â†’    name: 'æ¯’èˆŒæŸå‹',
   106â†’    nameEn: 'Roaster',
   107â†’    emotionValue: -20,
   108â†’    description: 'ç›´è¨€ä¸è®³ï¼Œè¯´ä½ éœ€è¦å¬ä½†å¯èƒ½ä¸æƒ³å¬çš„è¯',
   109â†’    sampleText: 'å¾—äº†å§ï¼Œä½ çœŸæ­£æƒ³è¦çš„å…¶å®æ˜¯...',
   110â†’    icon: 'âš¡',
   111â†’  },
   112â†’  wise: {
   113â†’    id: 'wise',
   114â†’    name: 'äººç”Ÿå¯¼å¸ˆ',
   115â†’    nameEn: 'Mentor',
   116â†’    emotionValue: 50,
   117â†’    description: 'æ·±åº¦åˆ†æï¼Œä»å‘½ç†è§’åº¦ç»™ä½ ç†æ€§å»ºè®®',
   118â†’    sampleText: 'ä»å‘½ç›˜æ¥çœ‹ï¼Œä½ ç›®å‰å¤„äºä¸€ä¸ªè½¬æŠ˜æœŸ...',
   119â†’    icon: 'ğŸŒ™',
   120â†’  },
   121â†’}
   122â†’
   123â†’export type ConcernType = 'love' | 'career' | 'self' | 'health' | 'wealth'
   124â†’
   125â†’export interface ConcernConfig {
   126â†’  id: ConcernType
   127â†’  label: string
   128â†’  icon: string
   129â†’}
   130â†’
   131â†’export const CONCERNS: ConcernConfig[] = [
   132â†’  { id: 'love', label: 'æ„Ÿæƒ…', icon: 'ğŸ’•' },
   133â†’  { id: 'career', label: 'äº‹ä¸š', icon: 'ğŸ’¼' },
   134â†’  { id: 'self', label: 'è‡ªæˆ‘', icon: 'ğŸŒŸ' },
   135â†’  { id: 'health', label: 'å¥åº·', icon: 'ğŸŒ¿' },
   136â†’  { id: 'wealth', label: 'è´¢è¿', icon: 'ğŸ’°' },
   137â†’]
   138â†’
   139â†’export interface BirthInfo {
   140â†’  year: number
   141â†’  month: number
   142â†’  day: number
   143â†’  hour: number | null  // å¯é€‰
   144â†’  isLunar?: boolean    // æ˜¯å¦å†œå†
   145â†’  gender?: 'male' | 'female'
   146â†’}
   147â†’
   148â†’export interface OnboardingState {
   149â†’  variant: VariantId
   150â†’  variantConfig: VariantConfig | null
   151â†’  step: OnboardingStep
   152â†’  birthInfo: BirthInfo | null
   153â†’  concerns: ConcernType[]
   154â†’  gender: string | null  // 'male' | 'female' | 'private'
   155â†’  persona: PersonaType | null
   156â†’  baziData: BaziData | null
   157â†’  interviewAnswers: InterviewAnswer[]
   158â†’  letterContent: string | null
   159â†’}
   160â†’
   161â†’export interface BaziData {
   162â†’  yearPillar: { stem: string; branch: string }
   163â†’  monthPillar: { stem: string; branch: string }
   164â†’  dayPillar: { stem: string; branch: string }
   165â†’  hourPillar: { stem: string; branch: string } | null
   166â†’  dayMaster: string
   167â†’  dayMasterElement: string
   168â†’  insight: string
   169â†’  fortune: {
   170â†’    score: number
   171â†’    luckyColor: string
   172â†’    luckyNumber: number
   173â†’    advice: string
   174â†’  }
   175â†’  // æ˜Ÿåº§æ•°æ®
   176â†’  sunSign?: string
   177â†’  moonSign?: string
   178â†’  risingSign?: string
   179â†’}
   180â†’
   181â†’export interface InterviewAnswer {
   182â†’  questionId: string
   183â†’  questionText: string
   184â†’  selectedOptions: string[]
   185â†’  openAnswer: string
   186â†’}
   187â†’
   188â†’export interface InterviewQuestion {
   189â†’  id: string
   190â†’  questionText: string
   191â†’  reasoning: string  // æ¨ç†è¿‡ç¨‹å±•ç¤º
   192â†’  options: Array<{
   193â†’    id: string
   194â†’    text: string
   195â†’  }>
   196â†’  allowMultiple: boolean
   197â†’  showOpenInput: boolean
   198â†’  openInputPlaceholder?: string
   199â†’}
   200â†’
   201â†’// è®¡ç®—æ­¥éª¤
   202â†’export interface CalculationStep {
   203â†’  id: string
   204â†’  label: string
   205â†’  status: 'pending' | 'loading' | 'done'
   206â†’}
   207â†’
   208â†’export const CALCULATION_STEPS: Omit<CalculationStep, 'status'>[] = [
   209â†’  { id: 'paipan', label: 'æ’ç›˜å®Œæˆ' },
   210â†’  { id: 'wuxing', label: 'åˆ†æäº”è¡Œå¼ºå¼±' },
   211â†’  { id: 'dayun', label: 'è®¡ç®—å¤§è¿æµå¹´' },
   212â†’  { id: 'fortune', label: 'ç”Ÿæˆä»Šæ—¥è¿åŠ¿' },
   213â†’  { id: 'kline', label: 'ç»˜åˆ¶äººç”Ÿ K çº¿' },
   214â†’]
   215â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
