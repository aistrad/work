     1→version: "3.0"
     2→skill_id: lifecoach
     3→
     4→tools:
     5→  # ═══════════════════════════════════════════════════════════════════════════
     6→  # 数据工具 (通用 - 所有方法论共享)
     7→  # ═══════════════════════════════════════════════════════════════════════════
     8→  - name: read_lifecoach_state
     9→    description: |
    10→      读取用户的人生地图状态。支持读取以下部分：
    11→      - system: 系统配置（方法论选择）
    12→      - north_star: 北极星（愿景、反愿景、使命、原则）
    13→      - goals: 核心目标/角色目标
    14→      - roadmap: 路线图（年度、季度）
    15→      - current: 当前焦点（月度项目、周大石头、每日行动）
    16→      - identity: 身份设计
    17→      - progress: 进度追踪
    18→      - journal: 复盘日志/功过格
    19→    type: data
    20→    when_to_call: 每次对话开始时，或需要了解用户当前状态时
    21→    parameters:
    22→      - name: sections
    23→        type: array
    24→        description: 要读取的部分
    25→        default: ["system", "north_star", "current", "progress"]
    26→
    27→  - name: write_lifecoach_state
    28→    description: 写入用户的人生地图状态。支持局部更新，深度合并。
    29→    type: data
    30→    when_to_call: 完成愿景设计、目标设定、计划制定后保存状态
    31→    parameters:
    32→      - name: section
    33→        type: string
    34→        required: true
    35→        enum: [system, north_star, goals, roadmap, current, identity, progress]
    36→        description: 要写入的部分
    37→      - name: data
    38→        type: object
    39→        required: true
    40→        description: 要写入的数据
    41→
    42→  - name: add_journal_entry
    43→    description: 添加日志条目（复盘/功过格/洞察）
    44→    type: data
    45→    when_to_call: 用户完成复盘或有重要洞察时
    46→    parameters:
    47→      - name: entry_type
    48→        type: string
    49→        required: true
    50→        enum: [daily, weekly, monthly, insight, milestone]
    51→        description: 日志类型
    52→      - name: content
    53→        type: string
    54→        description: 日志内容
    55→      - name: wins
    56→        type: array
    57→        description: 胜利/善行
    58→      - name: struggles
    59→        type: array
    60→        description: 挑战/过错
    61→      - name: merits
    62→        type: array
    63→        description: 功过格-功（了凡四训）
    64→      - name: demerits
    65→        type: array
    66→        description: 功过格-过（了凡四训）
    67→
    68→  - name: update_progress
    69→    description: 更新进度/签到
    70→    type: data
    71→    when_to_call: 用户完成每日行动或签到时
    72→    parameters:
    73→      - name: action_type
    74→        type: string
    75→        required: true
    76→        enum: [daily_checkin, task_complete, milestone_reached]
    77→        description: 行动类型
    78→      - name: notes
    79→        type: string
    80→        description: 备注
    81→
    82→  # ═══════════════════════════════════════════════════════════════════════════
    83→  # 展示工具 - 公用卡片（所有方法论共享）
    84→  # ═══════════════════════════════════════════════════════════════════════════
    85→  - name: show_protocol_invitation
    86→    description: |
    87→      展示协议邀请卡片，引导用户进入协议专属页面。
    88→
    89→      何时调用：
    90→      - 用户表达想做"人生重构"、"快速重置"、"用 Dan Koe 方法"
    91→      - 智能路由匹配到协议规则（dankoe, covey, yangming, liaofan）
    92→
    93→      重要：匹配到协议规则时必须调用此工具！不要用文字描述协议！
    94→    type: display
    95→    card_type: protocol_invitation
    96→    when_to_call: |
    97→      - 用户想开始一个结构化的协议流程时
    98→      - 路由匹配到 dankoe/covey/yangming/liaofan 规则时
    99→      - 用户说"人生重构"、"快速重置"、"帮我规划"等
   100→    parameters:
   101→      - name: protocol_id
   102→        type: string
   103→        required: true
   104→        enum: [dankoe, covey, yangming, liaofan]
   105→        description: 协议 ID
   106→      - name: title
   107→        type: string
   108→        required: true
   109→        description: 协议标题
   110→      - name: description
   111→        type: string
   112→        required: true
   113→        description: 协议描述
   114→      - name: estimated_time
   115→        type: string
   116→        description: 预计时长（如 "10分钟"）
   117→      - name: total_steps
   118→        type: integer
   119→        description: 总步骤数
   120→
   121→  - name: show_skill_intro
   122→    description: |
   123→      展示 Skill 介绍卡片。用于首次使用或用户想了解功能时。
   124→      卡片包含：功能介绍、快速开始提示、订阅状态。
   125→    type: display
   126→    card_type: skill_intro
   127→    when_to_call: |
   128→      - 用户首次使用此 Skill 时
   129→      - 用户问"这个能做什么"、"有什么功能"时
   130→      - 用户说"介绍一下"、"帮助"时
   131→    parameters:
   132→      - name: variant
   133→        type: string
   134→        enum: [full, compact, mini]
   135→        default: compact
   136→        description: 卡片变体（full=完整版, compact=精简版, mini=迷你版）
   137→      - name: reason
   138→        type: string
   139→        description: 展示原因（如"首次使用"、"功能介绍"）
   140→
   141→  - name: show_action_plan
   142→    description: 展示行动计划卡片（公用）
   143→    type: display
   144→    card_type: action_plan
   145→    when_to_call: 为用户设计具体行动后
   146→    parameters:
   147→      - name: long_term_goal
   148→        type: string
   149→        description: 长期目标
   150→      - name: medium_term_goal
   151→        type: string
   152→        description: 中期目标
   153→      - name: daily_actions
   154→        type: array
   155→        required: true
   156→        description: 每日行动列表
   157→      - name: first_step
   158→        type: string
   159→        description: 立即可做的第一步
   160→
   161→  - name: show_progress_streak
   162→    description: 展示进度统计卡片（公用）
   163→    type: display
   164→    card_type: progress_streak
   165→    when_to_call: 用户签到后或查看进度时
   166→    parameters:
   167→      - name: current_streak
   168→        type: integer
   169→        required: true
   170→        description: 当前连续天数
   171→      - name: longest_streak
   172→        type: integer
   173→        description: 最长连续天数
   174→      - name: total_checkins
   175→        type: integer
   176→        description: 总签到次数
   177→      - name: completion_rate
   178→        type: number
   179→        description: 完成率 0-100
   180→      - name: framework_stats
   181→        type: object
   182→        description: 方法论特定统计
   183→
   184→  # ═══════════════════════════════════════════════════════════════════════════
   185→  # 展示工具 - 方法论专属卡片（每个方法论一个）
   186→  # ═══════════════════════════════════════════════════════════════════════════
   187→
   188→  # Dan Koe 专属卡片
   189→  - name: show_dankoe
   190→    description: |
   191→      展示 Dan Koe 方法论卡片
   192→      整合：愿景、反愿景、身份、目标层级、游戏化框架
   193→    type: display
   194→    card_type: dankoe
   195→    when_to_call: 完成 Dan Koe 流程后展示整体设计
   196→    parameters:
   197→      - name: vision
   198→        type: object
   199→        required: true
   200→        description: |
   201→          愿景信息 {
   202→            statement: 一句话愿景,
   203→            scene: 3年后的周二场景,
   204→            identity: 新身份 "我是那种..."
   205→          }
   206→      - name: anti_vision
   207→        type: object
   208→        required: true
   209→        description: |
   210→          反愿景信息 {
   211→            statement: 一句话反愿景,
   212→            scene: 5年后的周二场景
   213→          }
   214→      - name: game_elements
   215→        type: object
   216→        required: true
   217→        description: |
   218→          游戏化元素 {
   219→            main_mission: 一年目标/主线任务,
   220→            current_boss: 月度项目/Boss战,
   221→            daily_quests: 每日杠杆/任务,
   222→            rules: 约束条件/游戏规则
   223→          }
   224→
   225→  # Covey 专属卡片
   226→  - name: show_covey
   227→    description: |
   228→      展示 Covey 方法论卡片
   229→      整合：使命宣言、角色目标、大石头、平衡度
   230→    type: display
   231→    card_type: covey
   232→    when_to_call: 完成 Covey 流程后展示整体设计
   233→    parameters:
   234→      - name: mission
   235→        type: string
   236→        description: 使命宣言
   237→      - name: principles
   238→        type: array
   239→        description: 核心原则
   240→      - name: roles
   241→        type: array
   242→        required: true
   243→        description: |
   244→          角色列表，每个包含 {
   245→            id: 角色ID,
   246→            name: 角色名,
   247→            icon: 图标,
   248→            year_target: 年度目标,
   249→            weekly_rocks: 本周大石头,
   250→            score: 本周得分 0-10
   251→          }
   252→      - name: balance_score
   253→        type: number
   254→        description: 整体平衡分数 0-100
   255→      - name: insight
   256→        type: string
   257→        description: 平衡洞察
   258→
   259→  # 王阳明 专属卡片
   260→  - name: show_yangming
   261→    description: |
   262→      展示王阳明方法论卡片
   263→      整合：良知、私欲、知行差距、日课
   264→    type: display
   265→    card_type: yangming
   266→    when_to_call: 完成王阳明流程后展示整体设计
   267→    parameters:
   268→      - name: aspiration
   269→        type: string
   270→        required: true
   271→        description: 志向（良知指引的方向）
   272→      - name: conscience_voice
   273→        type: string
   274→        required: true
   275→        description: 良知的声音（内心知道应该做什么）
   276→      - name: desire_obstacles
   277→        type: array
   278→        description: 私欲/习气（阻碍知行合一的）
   279→      - name: daily_practice
   280→        type: object
   281→        description: |
   282→          日课 {
   283→            morning_intention: 晨起立志,
   284→            practice_focus: 事上磨练重点,
   285→            evening_reflection: 晚间省察
   286→          }
   287→      - name: recent_reflections
   288→        type: array
   289→        description: 近期省察记录摘要
   290→
   291→  # 了凡四训 专属卡片
   292→  - name: show_liaofan
   293→    description: |
   294→      展示了凡四训方法论卡片
   295→      整合：立命志向、功过统计、改命进度
   296→    type: display
   297→    card_type: liaofan
   298→    when_to_call: 完成了凡四训流程后展示整体设计
   299→    parameters:
   300→      - name: fate_transform
   301→        type: object
   302→        required: true
   303→        description: |
   304→          改命信息 {
   305→            original_fate: 原命轨迹,
   306→            new_fate: 立命志向
   307→          }
   308→      - name: merit_stats
   309→        type: object
   310→        required: true
   311→        description: |
   312→          功过统计 {
   313→            total_merits: 累计功,
   314→            total_demerits: 累计过,
   315→            net_karma: 净值,
   316→            trend: improving/stable/declining
   317→          }
   318→      - name: category_breakdown
   319→        type: object
   320→        description: "按类别统计 {与人为善: 5, 舍财作福: 3, ...}"
   321→      - name: recent_entries
   322→        type: array
   323→        description: 近期功过记录
   324→      - name: milestones
   325→        type: array
   326→        description: 改命里程碑
   327→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
