     1â†’/**
     2â†’ * ZodiacTransitCard - å¤©è±¡æ¨è¿å¡ç‰‡
     3â†’ *
     4â†’ * ä» show-transit.tsx æå–çš„çº¯æ¸²æŸ“ç»„ä»¶
     5â†’ * é€šè¿‡ CardRegistry æ³¨å†Œï¼Œç”± card_type: "zodiac_transit" è§¦å‘
     6â†’ */
     7â†’
     8â†’"use client";
     9â†’
    10â†’import { registerCard } from "@/skills/CardRegistry";
    11â†’
    12â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    13â†’// Types
    14â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    15â†’
    16â†’interface Transit {
    17â†’  planet: string;
    18â†’  sign: string;
    19â†’  aspect: string;
    20â†’  natalPlanet: string;
    21â†’  influence: "positive" | "neutral" | "challenging";
    22â†’  description: string;
    23â†’  startDate: string;
    24â†’  endDate: string;
    25â†’  isActive: boolean;
    26â†’}
    27â†’
    28â†’interface MajorEvent {
    29â†’  event: string;
    30â†’  date: string;
    31â†’  description: string;
    32â†’}
    33â†’
    34â†’interface ZodiacTransitData {
    35â†’  date?: string;
    36â†’  transits?: Transit[];
    37â†’  majorEvents?: MajorEvent[];
    38â†’  major_events?: MajorEvent[];
    39â†’  overallEnergy?: string;
    40â†’  overall_energy?: string;
    41â†’  advice?: string;
    42â†’}
    43â†’
    44â†’interface ZodiacTransitCardProps {
    45â†’  data: ZodiacTransitData;
    46â†’  cardProps?: Record<string, unknown>;
    47â†’}
    48â†’
    49â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    50â†’// Helpers
    51â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    52â†’
    53â†’function getInfluenceStyle(influence: string): string {
    54â†’  const styles: Record<string, string> = {
    55â†’    positive: "bg-green-100/50 dark:bg-green-900/20 text-green-800 dark:text-green-200",
    56â†’    neutral: "bg-slate-100/50 dark:bg-slate-800/50 text-slate-800 dark:text-slate-200",
    57â†’    challenging: "bg-orange-100/50 dark:bg-orange-900/20 text-orange-800 dark:text-orange-200",
    58â†’  };
    59â†’  return styles[influence] || styles.neutral;
    60â†’}
    61â†’
    62â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    63â†’// Component
    64â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    65â†’
    66â†’function ZodiacTransitCard({ data }: ZodiacTransitCardProps) {
    67â†’  // å…¼å®¹ snake_case å’Œ camelCase
    68â†’  const transits = data.transits || [];
    69â†’  const majorEvents = data.majorEvents || data.major_events || [];
    70â†’  const overallEnergy = data.overallEnergy || data.overall_energy || "";
    71â†’  const advice = data.advice || "";
    72â†’  const date = data.date || "";
    73â†’
    74â†’  const activeTransits = transits.filter((t) => t.isActive);
    75â†’
    76â†’  return (
    77â†’    <div className="transit-card bg-gradient-to-br from-violet-50 to-fuchsia-50 dark:from-violet-950/30 dark:to-fuchsia-950/30 rounded-xl border border-violet-200 dark:border-violet-800 p-4 my-2 animate-fade-in">
    78â†’      {/* Header */}
    79â†’      <div className="flex items-center justify-between mb-4">
    80â†’        <h3 className="text-lg font-semibold text-violet-900 dark:text-violet-100 flex items-center gap-2">
    81â†’          <span>ğŸ”®</span>
    82â†’          <span>å¤©è±¡æ¨è¿</span>
    83â†’        </h3>
    84â†’        <span className="text-sm text-violet-700 dark:text-violet-300">{date}</span>
    85â†’      </div>
    86â†’
    87â†’      {/* Overall Energy */}
    88â†’      {overallEnergy && (
    89â†’        <div className="bg-white/60 dark:bg-black/30 rounded-lg p-3 mb-4">
    90â†’          <div className="text-sm font-medium mb-1">æ•´ä½“èƒ½é‡</div>
    91â†’          <p className="text-sm text-muted-foreground">{overallEnergy}</p>
    92â†’        </div>
    93â†’      )}
    94â†’
    95â†’      {/* Active Transits */}
    96â†’      {activeTransits.length > 0 && (
    97â†’        <div className="mb-4">
    98â†’          <div className="text-sm font-medium mb-2">å½“å‰è¡Œæ˜Ÿè¿‡å¢ƒ</div>
    99â†’          <div className="space-y-2">
   100â†’            {activeTransits.slice(0, 5).map((transit, index) => (
   101â†’              <div
   102â†’                key={index}
   103â†’                className={`p-2 rounded-lg text-sm ${getInfluenceStyle(transit.influence)}`}
   104â†’              >
   105â†’                <div className="flex items-center justify-between">
   106â†’                  <span className="font-medium">
   107â†’                    {transit.planet} {transit.aspect} {transit.natalPlanet}
   108â†’                  </span>
   109â†’                  <span className="text-xs opacity-70">è‡³ {transit.endDate}</span>
   110â†’                </div>
   111â†’                <p className="text-xs mt-1 opacity-80">{transit.description}</p>
   112â†’              </div>
   113â†’            ))}
   114â†’          </div>
   115â†’        </div>
   116â†’      )}
   117â†’
   118â†’      {/* Major Events */}
   119â†’      {majorEvents.length > 0 && (
   120â†’        <div className="mb-4">
   121â†’          <div className="text-sm font-medium mb-2">é‡è¦å¤©è±¡</div>
   122â†’          <div className="space-y-1">
   123â†’            {majorEvents.map((event, index) => (
   124â†’              <div
   125â†’                key={index}
   126â†’                className="flex items-center gap-2 text-sm bg-violet-100/50 dark:bg-violet-900/20 rounded p-2"
   127â†’              >
   128â†’                <span className="text-violet-600">â˜…</span>
   129â†’                <span>{event.event}</span>
   130â†’                <span className="text-xs text-muted-foreground ml-auto">{event.date}</span>
   131â†’              </div>
   132â†’            ))}
   133â†’          </div>
   134â†’        </div>
   135â†’      )}
   136â†’
   137â†’      {/* Advice */}
   138â†’      {advice && (
   139â†’        <div className="bg-gradient-to-r from-violet-100 to-fuchsia-100 dark:from-violet-900/30 dark:to-fuchsia-900/30 rounded-lg p-3">
   140â†’          <div className="text-sm font-medium mb-1">å»ºè®®</div>
   141â†’          <p className="text-sm text-muted-foreground">{advice}</p>
   142â†’        </div>
   143â†’      )}
   144â†’    </div>
   145â†’  );
   146â†’}
   147â†’
   148â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   149â†’// Register to CardRegistry
   150â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   151â†’
   152â†’registerCard("zodiac_transit", ZodiacTransitCard);
   153â†’
   154â†’export default ZodiacTransitCard;
   155â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
