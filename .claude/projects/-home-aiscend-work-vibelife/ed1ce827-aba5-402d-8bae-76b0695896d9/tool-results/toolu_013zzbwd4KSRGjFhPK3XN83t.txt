     1â†’/**
     2â†’ * BaziDailyFortuneCard - ä»Šæ—¥è¿åŠ¿å¡ç‰‡
     3â†’ *
     4â†’ * ä» show-daily-fortune.tsx æå–çš„çº¯æ¸²æŸ“ç»„ä»¶
     5â†’ * é€šè¿‡ CardRegistry æ³¨å†Œï¼Œç”± card_type: "bazi_daily_fortune" è§¦å‘
     6â†’ */
     7â†’
     8â†’"use client";
     9â†’
    10â†’import { registerCard } from "@/skills/CardRegistry";
    11â†’
    12â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    13â†’// Types
    14â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    15â†’
    16â†’interface Interaction {
    17â†’  type: string;
    18â†’  description: string;
    19â†’}
    20â†’
    21â†’interface Advice {
    22â†’  do: string[];
    23â†’  avoid: string[];
    24â†’}
    25â†’
    26â†’interface BaziDailyFortuneData {
    27â†’  date?: string;
    28â†’  dayPillar?: string;
    29â†’  day_pillar?: string;
    30â†’  dayMaster?: string;
    31â†’  day_master?: string;
    32â†’  interactions?: Interaction[];
    33â†’  luckyElements?: string[];
    34â†’  lucky_elements?: string[];
    35â†’  advice?: Advice;
    36â†’  overallScore?: number;
    37â†’  overall_score?: number;
    38â†’  summary?: string;
    39â†’}
    40â†’
    41â†’interface BaziDailyFortuneCardProps {
    42â†’  data: BaziDailyFortuneData;
    43â†’  cardProps?: Record<string, unknown>;
    44â†’}
    45â†’
    46â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    47â†’// Component
    48â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    49â†’
    50â†’function BaziDailyFortuneCard({ data }: BaziDailyFortuneCardProps) {
    51â†’  // å…¼å®¹ snake_case å’Œ camelCase
    52â†’  const date = data.date || "";
    53â†’  const dayPillar = data.dayPillar || data.day_pillar || "";
    54â†’  const interactions = data.interactions || [];
    55â†’  const luckyElements = data.luckyElements || data.lucky_elements || [];
    56â†’  const advice = data.advice || { do: [], avoid: [] };
    57â†’  const overallScore = data.overallScore || data.overall_score || 5;
    58â†’  const summary = data.summary || "";
    59â†’
    60â†’  const scoreColor = overallScore >= 7 ? "text-green-500" : overallScore >= 4 ? "text-yellow-500" : "text-red-500";
    61â†’  const scoreBg = overallScore >= 7 ? "bg-green-500" : overallScore >= 4 ? "bg-yellow-500" : "bg-red-500";
    62â†’
    63â†’  return (
    64â†’    <div className="daily-fortune-card bg-amber-50 dark:bg-amber-950/30 rounded-xl border border-amber-200 dark:border-amber-800 p-4 my-2 animate-fade-in">
    65â†’      {/* Header */}
    66â†’      <div className="flex items-center justify-between mb-4">
    67â†’        <div>
    68â†’          <div className="text-sm text-muted-foreground">{date}</div>
    69â†’          <div className="font-medium flex items-center gap-2">
    70â†’            <span>ğŸ›ï¸</span>
    71â†’            <span>æ—¥æŸ± {dayPillar}</span>
    72â†’          </div>
    73â†’        </div>
    74â†’        <div className="text-center">
    75â†’          <div className={`text-3xl font-bold ${scoreColor}`}>{overallScore}</div>
    76â†’          <div className="text-xs text-muted-foreground">è¿åŠ¿æŒ‡æ•°</div>
    77â†’        </div>
    78â†’      </div>
    79â†’
    80â†’      {/* Score Bar */}
    81â†’      <div className="h-2 bg-gray-200 dark:bg-gray-700 rounded-full mb-4 overflow-hidden">
    82â†’        <div
    83â†’          className={`h-full ${scoreBg} transition-all duration-500`}
    84â†’          style={{ width: `${overallScore * 10}%` }}
    85â†’        />
    86â†’      </div>
    87â†’
    88â†’      {/* Interactions */}
    89â†’      {interactions.length > 0 && (
    90â†’        <div className="mb-4">
    91â†’          <div className="text-sm font-medium mb-2">ä»Šæ—¥ä¸å‘½ç›˜ä½œç”¨</div>
    92â†’          <div className="space-y-1">
    93â†’            {interactions.map((item, i) => (
    94â†’              <div key={i} className="flex items-center gap-2 text-sm">
    95â†’                <span className="px-2 py-0.5 bg-amber-200 dark:bg-amber-800 rounded text-xs">{item.type}</span>
    96â†’                <span>{item.description}</span>
    97â†’              </div>
    98â†’            ))}
    99â†’          </div>
   100â†’        </div>
   101â†’      )}
   102â†’
   103â†’      {/* Lucky Elements */}
   104â†’      {luckyElements.length > 0 && (
   105â†’        <div className="mb-4">
   106â†’          <div className="text-sm font-medium mb-2">ä»Šæ—¥å‰åˆ©äº”è¡Œ</div>
   107â†’          <div className="flex gap-2">
   108â†’            {luckyElements.map((el, i) => (
   109â†’              <span key={i} className="px-3 py-1 bg-green-100 dark:bg-green-900 rounded-full text-sm">
   110â†’                {el}
   111â†’              </span>
   112â†’            ))}
   113â†’          </div>
   114â†’        </div>
   115â†’      )}
   116â†’
   117â†’      {/* Advice */}
   118â†’      {(advice.do.length > 0 || advice.avoid.length > 0) && (
   119â†’        <div className="grid grid-cols-2 gap-4 mb-4">
   120â†’          {advice.do.length > 0 && (
   121â†’            <div>
   122â†’              <div className="text-sm font-medium text-green-600 mb-1">å®œ</div>
   123â†’              <ul className="text-sm space-y-1">
   124â†’                {advice.do.map((item, i) => (
   125â†’                  <li key={i} className="flex items-center gap-1">
   126â†’                    <span className="text-green-500">âœ“</span> {item}
   127â†’                  </li>
   128â†’                ))}
   129â†’              </ul>
   130â†’            </div>
   131â†’          )}
   132â†’          {advice.avoid.length > 0 && (
   133â†’            <div>
   134â†’              <div className="text-sm font-medium text-red-600 mb-1">å¿Œ</div>
   135â†’              <ul className="text-sm space-y-1">
   136â†’                {advice.avoid.map((item, i) => (
   137â†’                  <li key={i} className="flex items-center gap-1">
   138â†’                    <span className="text-red-500">âœ—</span> {item}
   139â†’                  </li>
   140â†’                ))}
   141â†’              </ul>
   142â†’            </div>
   143â†’          )}
   144â†’        </div>
   145â†’      )}
   146â†’
   147â†’      {/* Summary */}
   148â†’      {summary && (
   149â†’        <div className="text-sm text-muted-foreground border-t border-amber-200 dark:border-amber-800 pt-3">
   150â†’          {summary}
   151â†’        </div>
   152â†’      )}
   153â†’    </div>
   154â†’  );
   155â†’}
   156â†’
   157â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   158â†’// Register to CardRegistry
   159â†’// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   160â†’
   161â†’registerCard("bazi_daily_fortune", BaziDailyFortuneCard);
   162â†’
   163â†’export default BaziDailyFortuneCard;
   164â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
