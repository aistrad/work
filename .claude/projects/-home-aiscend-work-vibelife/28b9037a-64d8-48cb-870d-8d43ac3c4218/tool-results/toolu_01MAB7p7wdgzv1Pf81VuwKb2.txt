     1â†’# Skill Store å¹³å°åŒ–æ¶æ„è®¾è®¡
     2â†’
     3â†’> ä»å¹³å°è‡ªå»º Skill â†’ ç”¨æˆ·åˆ›å»º Skill â†’ Skill Store ç”Ÿæ€
     4â†’
     5â†’## ä¸€ã€æ„¿æ™¯
     6â†’
     7â†’```
     8â†’Phase 1: ç”¨æˆ·ç§æœ‰ Skillï¼ˆä¸ªäººåŠ©æ‰‹å®šåˆ¶ï¼‰
     9â†’    â†“
    10â†’Phase 2: Skill Storeï¼ˆåˆ›ä½œè€…å‘å¸ƒï¼Œç”¨æˆ·è®¢é˜…ï¼‰
    11â†’    â†“
    12â†’Phase 3: Skill ç”Ÿæ€ï¼ˆAPI å¼€æ”¾ï¼Œç¬¬ä¸‰æ–¹é›†æˆï¼‰
    13â†’```
    14â†’
    15â†’---
    16â†’
    17â†’## äºŒã€å½“å‰æ¶æ„ vs å¹³å°åŒ–éœ€æ±‚
    18â†’
    19â†’| ç»´åº¦ | å½“å‰æ¶æ„ | å¹³å°åŒ–éœ€æ±‚ | Gap |
    20â†’|------|----------|------------|-----|
    21â†’| **å­˜å‚¨** | æ–‡ä»¶ç³»ç»Ÿ (`skills/`) | æ•°æ®åº“ + å¯¹è±¡å­˜å‚¨ | é‡æ„ |
    22â†’| **å‘ç°** | ç›®å½•æ‰«æ | æ³¨å†Œè¡¨æŸ¥è¯¢ | é‡æ„ |
    23â†’| **æ‰€æœ‰æƒ** | å¹³å°å•ä¸€ | å¤šç§Ÿæˆ·ï¼ˆç”¨æˆ·/åˆ›ä½œè€…ï¼‰ | æ–°å¢ |
    24â†’| **ç‰ˆæœ¬** | Git | ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ | æ–°å¢ |
    25â†’| **è¿è¡Œæ—¶** | ç›´æ¥æ‰§è¡Œ | æ²™ç®±éš”ç¦» | æ–°å¢ |
    26â†’| **åˆ†å‘** | æ—  | Store + å®‰è£… | æ–°å¢ |
    27â†’| **è®¡è´¹** | Skill è®¢é˜… | åˆ›ä½œè€…åˆ†æˆ | æ‰©å±• |
    28â†’| **å®¡æ ¸** | æ—  | ä»£ç å®¡æ ¸ + å†…å®¹å®¡æ ¸ | æ–°å¢ |
    29â†’
    30â†’---
    31â†’
    32â†’## ä¸‰ã€æ ¸å¿ƒæ¶æ„è®¾è®¡
    33â†’
    34â†’### 3.1 æ•´ä½“æ¶æ„
    35â†’
    36â†’```
    37â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    38â†’â”‚                           Skill Platform Architecture                         â”‚
    39â†’â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    40â†’â”‚                                                                               â”‚
    41â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    42â†’â”‚  â”‚                           Skill Registry (æ ¸å¿ƒ)                          â”‚ â”‚
    43â†’â”‚  â”‚                                                                          â”‚ â”‚
    44â†’â”‚  â”‚   skills è¡¨                    skill_versions è¡¨                         â”‚ â”‚
    45â†’â”‚  â”‚   â”œâ”€â”€ id (UUID)               â”œâ”€â”€ id                                    â”‚ â”‚
    46â†’â”‚  â”‚   â”œâ”€â”€ owner_id                â”œâ”€â”€ skill_id                              â”‚ â”‚
    47â†’â”‚  â”‚   â”œâ”€â”€ owner_type (user/org)   â”œâ”€â”€ version (semver)                      â”‚ â”‚
    48â†’â”‚  â”‚   â”œâ”€â”€ slug (å”¯ä¸€æ ‡è¯†)          â”œâ”€â”€ config (JSONB)                        â”‚ â”‚
    49â†’â”‚  â”‚   â”œâ”€â”€ visibility              â”‚   â”œâ”€â”€ name, triggers, category          â”‚ â”‚
    50â†’â”‚  â”‚   â”‚   (private/public/paid)   â”‚   â”œâ”€â”€ requires_birth_info, etc.         â”‚ â”‚
    51â†’â”‚  â”‚   â”œâ”€â”€ category                â”‚   â””â”€â”€ skill_data, includes              â”‚ â”‚
    52â†’â”‚  â”‚   â”œâ”€â”€ status                  â”œâ”€â”€ prompt_content (ä¸“å®¶èº«ä»½ç­‰)            â”‚ â”‚
    53â†’â”‚  â”‚   â”‚   (draft/review/active)   â”œâ”€â”€ rules (JSONB)                         â”‚ â”‚
    54â†’â”‚  â”‚   â”œâ”€â”€ pricing                 â”œâ”€â”€ tools (JSONB)                         â”‚ â”‚
    55â†’â”‚  â”‚   â”‚   (free/monthly/one-time) â”œâ”€â”€ handlers_url (å¯¹è±¡å­˜å‚¨)               â”‚ â”‚
    56â†’â”‚  â”‚   â””â”€â”€ stats                   â”œâ”€â”€ status (draft/active/deprecated)      â”‚ â”‚
    57â†’â”‚  â”‚       (installs, rating)      â””â”€â”€ created_at                            â”‚ â”‚
    58â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    59â†’â”‚                                        â”‚                                      â”‚
    60â†’â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
    61â†’â”‚            â–¼                           â–¼                           â–¼         â”‚
    62â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
    63â†’â”‚  â”‚  Skill Studio   â”‚     â”‚   Runtime Engine    â”‚     â”‚   Skill Store   â”‚    â”‚
    64â†’â”‚  â”‚  (åˆ›ä½œè€…å·¥å…·)    â”‚     â”‚   (æ‰§è¡Œå¼•æ“)         â”‚     â”‚   (å‘ç°åˆ†å‘)     â”‚    â”‚
    65â†’â”‚  â”‚                 â”‚     â”‚                     â”‚     â”‚                 â”‚    â”‚
    66â†’â”‚  â”‚  - åœ¨çº¿ç¼–è¾‘å™¨   â”‚     â”‚  - Skill Loader     â”‚     â”‚  - åˆ†ç±»æµè§ˆ     â”‚    â”‚
    67â†’â”‚  â”‚  - ç‰ˆæœ¬ç®¡ç†     â”‚     â”‚  - Sandbox Executor â”‚     â”‚  - æœç´¢æ’åº     â”‚    â”‚
    68â†’â”‚  â”‚  - æµ‹è¯•æ²™ç®±     â”‚     â”‚  - Tool Registry    â”‚     â”‚  - è¯„åˆ†è¯„è®º     â”‚    â”‚
    69â†’â”‚  â”‚  - å‘å¸ƒå®¡æ ¸     â”‚     â”‚  - Data Isolation   â”‚     â”‚  - å®‰è£…ç®¡ç†     â”‚    â”‚
    70â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
    71â†’â”‚                                        â”‚                                      â”‚
    72â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    73â†’â”‚  â”‚                         Supporting Services                             â”‚   â”‚
    74â†’â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
    75â†’â”‚  â”‚  â”‚  Review  â”‚  â”‚ Billing  â”‚  â”‚ Analyticsâ”‚  â”‚  Search  â”‚  â”‚  CDN/    â”‚ â”‚   â”‚
    76â†’â”‚  â”‚  â”‚  System  â”‚  â”‚  Split   â”‚  â”‚  Stats   â”‚  â”‚  Index   â”‚  â”‚  Storage â”‚ â”‚   â”‚
    77â†’â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
    78â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    79â†’â”‚                                                                               â”‚
    80â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    81â†’```
    82â†’
    83â†’### 3.2 æ•°æ®æ¨¡å‹
    84â†’
    85â†’```sql
    86â†’-- Skill ä¸»è¡¨
    87â†’CREATE TABLE skills (
    88â†’    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    89â†’    slug VARCHAR(100) UNIQUE NOT NULL,  -- e.g., "my-career-advisor"
    90â†’
    91â†’    -- æ‰€æœ‰æƒ
    92â†’    owner_id UUID NOT NULL,
    93â†’    owner_type VARCHAR(20) NOT NULL,  -- 'user' | 'org' | 'platform'
    94â†’
    95â†’    -- å…ƒä¿¡æ¯
    96â†’    display_name VARCHAR(200) NOT NULL,
    97â†’    short_desc TEXT,
    98â†’    icon_url VARCHAR(500),
    99â†’    category VARCHAR(50),
   100â†’    tags TEXT[],
   101â†’
   102â†’    -- å¯è§æ€§å’ŒçŠ¶æ€
   103â†’    visibility VARCHAR(20) DEFAULT 'private',  -- 'private' | 'public' | 'unlisted'
   104â†’    status VARCHAR(20) DEFAULT 'draft',  -- 'draft' | 'review' | 'active' | 'suspended'
   105â†’
   106â†’    -- å®šä»·ï¼ˆå…¬å¼€ Skillï¼‰
   107â†’    pricing_type VARCHAR(20),  -- 'free' | 'monthly' | 'one_time'
   108â†’    price_cents INT,
   109â†’
   110â†’    -- ç»Ÿè®¡
   111â†’    install_count INT DEFAULT 0,
   112â†’    rating_avg DECIMAL(2,1),
   113â†’    rating_count INT DEFAULT 0,
   114â†’
   115â†’    -- å½“å‰æ´»è·ƒç‰ˆæœ¬
   116â†’    active_version_id UUID,
   117â†’
   118â†’    created_at TIMESTAMPTZ DEFAULT NOW(),
   119â†’    updated_at TIMESTAMPTZ DEFAULT NOW()
   120â†’);
   121â†’
   122â†’-- Skill ç‰ˆæœ¬è¡¨
   123â†’CREATE TABLE skill_versions (
   124â†’    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
   125â†’    skill_id UUID REFERENCES skills(id),
   126â†’    version VARCHAR(20) NOT NULL,  -- semver: "1.0.0"
   127â†’
   128â†’    -- é…ç½®ï¼ˆåŸ routing.yaml å†…å®¹ï¼‰
   129â†’    config JSONB NOT NULL,
   130â†’    -- {
   131â†’    --   "name": "èŒåœºæ—¶æœº",
   132â†’    --   "triggers": ["èŒåœºæ—¶æœº", "è·³æ§½"],
   133â†’    --   "requires_birth_info": true,
   134â†’    --   "skill_data": ["bazi", "zodiac"],
   135â†’    --   "includes": ["bazi", "zodiac"]
   136â†’    -- }
   137â†’
   138â†’    -- Prompt å†…å®¹ï¼ˆåŸ SKILL.md bodyï¼‰
   139â†’    prompt_content TEXT,
   140â†’
   141â†’    -- è§„åˆ™æ–‡ä»¶ï¼ˆåŸ rules/*.mdï¼‰
   142â†’    rules JSONB,  -- {"basic-reading": "...", "career": "..."}
   143â†’
   144â†’    -- å·¥å…·å®šä¹‰ï¼ˆåŸ tools/tools.yamlï¼‰
   145â†’    tools JSONB,
   146â†’
   147â†’    -- Handler ä»£ç ï¼ˆå¯¹è±¡å­˜å‚¨ URLï¼‰
   148â†’    handlers_url VARCHAR(500),
   149â†’    handlers_hash VARCHAR(64),  -- ä»£ç  hashï¼Œç”¨äºéªŒè¯
   150â†’
   151â†’    -- çŠ¶æ€
   152â†’    status VARCHAR(20) DEFAULT 'draft',  -- 'draft' | 'active' | 'deprecated'
   153â†’    review_status VARCHAR(20),  -- 'pending' | 'approved' | 'rejected'
   154â†’    review_notes TEXT,
   155â†’
   156â†’    created_at TIMESTAMPTZ DEFAULT NOW(),
   157â†’
   158â†’    UNIQUE(skill_id, version)
   159â†’);
   160â†’
   161â†’-- ç”¨æˆ·å®‰è£…çš„ Skill
   162â†’CREATE TABLE user_skill_installs (
   163â†’    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
   164â†’    user_id UUID NOT NULL,
   165â†’    skill_id UUID REFERENCES skills(id),
   166â†’    version_id UUID REFERENCES skill_versions(id),
   167â†’
   168â†’    -- çŠ¶æ€
   169â†’    status VARCHAR(20) DEFAULT 'active',  -- 'active' | 'disabled'
   170â†’
   171â†’    -- è‡ªå®šä¹‰é…ç½®ï¼ˆç”¨æˆ·å¯è¦†ç›–çš„éƒ¨åˆ†ï¼‰
   172â†’    custom_config JSONB,
   173â†’
   174â†’    -- è®¢é˜…ä¿¡æ¯ï¼ˆä»˜è´¹ Skillï¼‰
   175â†’    subscription_id UUID,
   176â†’    expires_at TIMESTAMPTZ,
   177â†’
   178â†’    installed_at TIMESTAMPTZ DEFAULT NOW(),
   179â†’
   180â†’    UNIQUE(user_id, skill_id)
   181â†’);
   182â†’
   183â†’-- Skill è¯„ä»·
   184â†’CREATE TABLE skill_reviews (
   185â†’    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
   186â†’    skill_id UUID REFERENCES skills(id),
   187â†’    user_id UUID NOT NULL,
   188â†’    rating INT CHECK (rating >= 1 AND rating <= 5),
   189â†’    content TEXT,
   190â†’    created_at TIMESTAMPTZ DEFAULT NOW(),
   191â†’
   192â†’    UNIQUE(skill_id, user_id)
   193â†’);
   194â†’```
   195â†’
   196â†’### 3.3 Skill æ ‡è¯†ç¬¦è®¾è®¡
   197â†’
   198â†’```
   199â†’å¹³å° Skill:   platform:bazi
   200â†’ç”¨æˆ·ç§æœ‰:     user:{user_id}:{slug}
   201â†’å…¬å¼€ Skill:   store:{creator_slug}/{skill_slug}
   202â†’
   203â†’ç¤ºä¾‹:
   204â†’- platform:bazi                    # å¹³å°å…«å­— Skill
   205â†’- user:abc123:my-career-advisor    # ç”¨æˆ·ç§æœ‰
   206â†’- store:master-li/fortune-teller   # Store å…¬å¼€
   207â†’
   208â†’åœ¨å¯¹è¯ä¸­ä½¿ç”¨:
   209â†’- activate_skill(skill="platform:bazi")
   210â†’- activate_skill(skill="store:master-li/fortune-teller")
   211â†’```
   212â†’
   213â†’---
   214â†’
   215â†’## å››ã€routing.yaml å‡çº§æ–¹æ¡ˆ
   216â†’
   217â†’### 4.1 ä»æ–‡ä»¶é…ç½®åˆ°æ•°æ®åº“é…ç½®
   218â†’
   219â†’**å½“å‰**ï¼š`routing.yaml` æ˜¯é™æ€æ–‡ä»¶
   220â†’
   221â†’**å‡çº§**ï¼šrouting.yaml åªå®šä¹‰å¹³å° Skillï¼Œç”¨æˆ·/Store Skill å­˜æ•°æ®åº“
   222â†’
   223â†’```yaml
   224â†’# routing.yaml - åªä¿ç•™å¹³å° Skill
   225â†’skills:
   226â†’  bazi:
   227â†’    type: platform  # æ ‡è®°ä¸ºå¹³å° Skill
   228â†’    name: å…«å­—å‘½ç†
   229â†’    # ... é…ç½®ä¸å˜
   230â†’```
   231â†’
   232â†’### 4.2 Skill Loader å‡çº§
   233â†’
   234â†’```python
   235â†’class SkillLoader:
   236â†’    """ç»Ÿä¸€ Skill åŠ è½½å™¨ï¼Œæ”¯æŒå¤šæ¥æº"""
   237â†’
   238â†’    async def load_skill(self, skill_ref: str, user_id: UUID) -> SkillConfig:
   239â†’        """
   240â†’        åŠ è½½ Skill é…ç½®
   241â†’
   242â†’        skill_ref æ ¼å¼:
   243â†’        - "bazi" â†’ å…¼å®¹æ—§æ ¼å¼ï¼Œç­‰åŒäº "platform:bazi"
   244â†’        - "platform:bazi" â†’ å¹³å° Skill
   245â†’        - "user:abc123:my-skill" â†’ ç”¨æˆ·ç§æœ‰ Skill
   246â†’        - "store:creator/skill" â†’ Store Skill
   247â†’        """
   248â†’        source, identifier = self._parse_skill_ref(skill_ref)
   249â†’
   250â†’        if source == "platform":
   251â†’            return self._load_from_routing_yaml(identifier)
   252â†’
   253â†’        elif source == "user":
   254â†’            user_id, slug = identifier.split(":", 1)
   255â†’            return await self._load_from_db(
   256â†’                owner_type="user",
   257â†’                owner_id=user_id,
   258â†’                slug=slug
   259â†’            )
   260â†’
   261â†’        elif source == "store":
   262â†’            creator, slug = identifier.split("/", 1)
   263â†’            return await self._load_from_db(
   264â†’                owner_type="creator",
   265â†’                creator_slug=creator,
   266â†’                slug=slug
   267â†’            )
   268â†’
   269â†’    async def _load_from_db(self, **filters) -> SkillConfig:
   270â†’        """ä»æ•°æ®åº“åŠ è½½ Skill é…ç½®"""
   271â†’        skill = await db.fetch_one("""
   272â†’            SELECT s.*, v.config, v.prompt_content, v.rules, v.tools, v.handlers_url
   273â†’            FROM skills s
   274â†’            JOIN skill_versions v ON s.active_version_id = v.id
   275â†’            WHERE ...
   276â†’        """)
   277â†’
   278â†’        return SkillConfig(
   279â†’            id=skill["slug"],
   280â†’            name=skill["config"]["name"],
   281â†’            triggers=skill["config"].get("triggers", []),
   282â†’            requires_birth_info=skill["config"].get("requires_birth_info", False),
   283â†’            skill_data=skill["config"].get("skill_data", []),
   284â†’            includes=skill["config"].get("includes", []),
   285â†’            prompt_content=skill["prompt_content"],
   286â†’            rules=skill["rules"],
   287â†’            tools=skill["tools"],
   288â†’            handlers_url=skill["handlers_url"],
   289â†’        )
   290â†’```
   291â†’
   292â†’### 4.3 Tool Registry å‡çº§
   293â†’
   294â†’```python
   295â†’class ToolRegistry:
   296â†’    """æ”¯æŒåŠ¨æ€å·¥å…·åŠ è½½"""
   297â†’
   298â†’    async def load_skill_tools(self, skill_ref: str, user_id: UUID):
   299â†’        """åŠ è½½ Skill çš„å·¥å…·"""
   300â†’        skill = await skill_loader.load_skill(skill_ref, user_id)
   301â†’
   302â†’        # å¹³å° Skillï¼šä»æ–‡ä»¶ç³»ç»ŸåŠ è½½ handler
   303â†’        if skill.source == "platform":
   304â†’            return self._load_from_filesystem(skill.id)
   305â†’
   306â†’        # ç”¨æˆ·/Store Skillï¼šä»å¯¹è±¡å­˜å‚¨åŠ è½½ handler
   307â†’        else:
   308â†’            return await self._load_from_storage(
   309â†’                skill.handlers_url,
   310â†’                skill.tools
   311â†’            )
   312â†’
   313â†’    async def _load_from_storage(self, handlers_url: str, tool_defs: dict):
   314â†’        """
   315â†’        ä»å¯¹è±¡å­˜å‚¨åŠ è½½ handler ä»£ç 
   316â†’        åœ¨æ²™ç®±ä¸­æ‰§è¡Œ
   317â†’        """
   318â†’        code = await object_storage.download(handlers_url)
   319â†’
   320â†’        # æ²™ç®±æ‰§è¡Œï¼ˆRestrictedPython æˆ– Dockerï¼‰
   321â†’        sandbox = Sandbox()
   322â†’        handlers = sandbox.execute(code)
   323â†’
   324â†’        return handlers
   325â†’```
   326â†’
   327â†’---
   328â†’
   329â†’## äº”ã€Skill Studioï¼ˆåˆ›ä½œè€…å·¥å…·ï¼‰
   330â†’
   331â†’### 5.1 Web ç¼–è¾‘å™¨
   332â†’
   333â†’```typescript
   334â†’// åˆ›ä½œè€…ç¼–è¾‘ç•Œé¢
   335â†’interface SkillEditor {
   336â†’  // åŸºç¡€é…ç½®
   337â†’  config: {
   338â†’    name: string;
   339â†’    shortDesc: string;
   340â†’    triggers: string[];
   341â†’    category: string;
   342â†’
   343â†’    // SOP é…ç½®
   344â†’    requiresBirthInfo: boolean;
   345â†’    requiresCompute: boolean;
   346â†’    computeTool: string;
   347â†’
   348â†’    // ä¾èµ–é…ç½®
   349â†’    skillData: string[];
   350â†’    includes: string[];
   351â†’  };
   352â†’
   353â†’  // Prompt å†…å®¹
   354â†’  promptContent: string;  // Markdown ç¼–è¾‘å™¨
   355â†’
   356â†’  // Rules æ–‡ä»¶
   357â†’  rules: Record<string, string>;  // å¤šæ–‡ä»¶ç¼–è¾‘å™¨
   358â†’
   359â†’  // å·¥å…·å®šä¹‰
   360â†’  tools: ToolDefinition[];  // YAML/å¯è§†åŒ–ç¼–è¾‘å™¨
   361â†’
   362â†’  // Handler ä»£ç 
   363â†’  handlers: string;  // Python ä»£ç ç¼–è¾‘å™¨
   364â†’}
   365â†’```
   366â†’
   367â†’### 5.2 æµ‹è¯•æ²™ç®±
   368â†’
   369â†’```python
   370â†’class SkillTestSandbox:
   371â†’    """Skill æµ‹è¯•ç¯å¢ƒ"""
   372â†’
   373â†’    async def test_conversation(
   374â†’        self,
   375â†’        skill_config: SkillConfig,
   376â†’        test_messages: List[Dict],
   377â†’        mock_user: MockUser
   378â†’    ) -> TestResult:
   379â†’        """
   380â†’        åœ¨éš”ç¦»ç¯å¢ƒä¸­æµ‹è¯• Skill
   381â†’        - ä½¿ç”¨ mock ç”¨æˆ·æ•°æ®
   382â†’        - ä¸å½±å“çœŸå®æ•°æ®
   383â†’        - è®°å½•æ‰€æœ‰å·¥å…·è°ƒç”¨
   384â†’        """
   385â†’        pass
   386â†’```
   387â†’
   388â†’### 5.3 å‘å¸ƒæµç¨‹
   389â†’
   390â†’```
   391â†’åˆ›ä½œ â†’ æµ‹è¯• â†’ æäº¤å®¡æ ¸ â†’ å®¡æ ¸é€šè¿‡ â†’ ä¸Šæ¶
   392â†’  â”‚       â”‚        â”‚           â”‚          â”‚
   393â†’  â”‚       â”‚        â”‚           â”‚          â””â”€ å¯åœ¨ Store æœç´¢åˆ°
   394â†’  â”‚       â”‚        â”‚           â””â”€ è‡ªåŠ¨åŒ– + äººå·¥å®¡æ ¸
   395â†’  â”‚       â”‚        â””â”€ è§¦å‘å®¡æ ¸æµç¨‹
   396â†’  â”‚       â””â”€ æ²™ç®±æµ‹è¯•é€šè¿‡
   397â†’  â””â”€ åœ¨ Studio ä¸­ç¼–è¾‘
   398â†’```
   399â†’
   400â†’---
   401â†’
   402â†’## å…­ã€Runtime å®‰å…¨éš”ç¦»
   403â†’
   404â†’### 6.1 Handler æ²™ç®±æ‰§è¡Œ
   405â†’
   406â†’```python
   407â†’class SecureSandbox:
   408â†’    """
   409â†’    å®‰å…¨æ²™ç®±ï¼Œé™åˆ¶ç”¨æˆ·ä»£ç èƒ½åŠ›
   410â†’
   411â†’    å…è®¸:
   412â†’    - æ•°æ®è½¬æ¢å’Œè®¡ç®—
   413â†’    - è°ƒç”¨ç™½åå• API
   414â†’    - è¯»å– context æ•°æ®
   415â†’
   416â†’    ç¦æ­¢:
   417â†’    - æ–‡ä»¶ç³»ç»Ÿè®¿é—®
   418â†’    - ç½‘ç»œè¯·æ±‚ï¼ˆé™¤ç™½åå•ï¼‰
   419â†’    - ç³»ç»Ÿè°ƒç”¨
   420â†’    - å¯¼å…¥å±é™©æ¨¡å—
   421â†’    """
   422â†’
   423â†’    ALLOWED_MODULES = {
   424â†’        'json', 'datetime', 'math', 're', 'collections',
   425â†’        'typing', 'dataclasses', 'enum'
   426â†’    }
   427â†’
   428â†’    ALLOWED_APIS = {
   429â†’        'search_db',      # çŸ¥è¯†æ£€ç´¢
   430â†’        'get_profile',    # è·å–ç”¨æˆ· profileï¼ˆåªè¯»ï¼‰
   431â†’        'get_skill_data', # è·å– skill_dataï¼ˆåªè¯»ï¼‰
   432â†’        'show_card',      # å±•ç¤ºå¡ç‰‡
   433â†’    }
   434â†’
   435â†’    def execute(self, code: str, context: ToolContext) -> Any:
   436â†’        """åœ¨æ²™ç®±ä¸­æ‰§è¡Œä»£ç """
   437â†’        # ä½¿ç”¨ RestrictedPython æˆ– Docker å®¹å™¨
   438â†’        pass
   439â†’```
   440â†’
   441â†’### 6.2 æ•°æ®éš”ç¦»
   442â†’
   443â†’```python
   444â†’class IsolatedContext:
   445â†’    """
   446â†’    éš”ç¦»çš„æ‰§è¡Œä¸Šä¸‹æ–‡
   447â†’    - ç”¨æˆ· Skill åªèƒ½è®¿é—®è‡ªå·±å£°æ˜çš„æ•°æ®
   448â†’    - ä¸èƒ½è®¿é—®å…¶ä»–ç”¨æˆ·æ•°æ®
   449â†’    - ä¸èƒ½ä¿®æ”¹å¹³å° Skill æ•°æ®
   450â†’    """
   451â†’
   452â†’    def __init__(self, skill: SkillConfig, user_id: UUID):
   453â†’        self.skill = skill
   454â†’        self.user_id = user_id
   455â†’
   456â†’        # åªåŠ è½½å£°æ˜çš„ skill_data
   457â†’        self.allowed_skill_data = skill.skill_data
   458â†’
   459â†’    async def get_skill_data(self, skill_id: str) -> Dict:
   460â†’        if skill_id not in self.allowed_skill_data:
   461â†’            raise PermissionError(f"Skill {self.skill.id} cannot access {skill_id} data")
   462â†’        return await load_skill_data(self.user_id, skill_id)
   463â†’```
   464â†’
   465â†’---
   466â†’
   467â†’## ä¸ƒã€è®¡è´¹ä¸åˆ†æˆ
   468â†’
   469â†’### 7.1 æ”¶å…¥åˆ†æˆæ¨¡å‹
   470â†’
   471â†’```
   472â†’ç”¨æˆ·æ”¯ä»˜ 100 å…ƒè®¢é˜… Store Skill
   473â†’    â”‚
   474â†’    â”œâ”€ å¹³å°æŠ½æˆ 30%: 30 å…ƒ
   475â†’    â”‚   â”œâ”€ è¿è¥æˆæœ¬
   476â†’    â”‚   â”œâ”€ å®¡æ ¸æˆæœ¬
   477â†’    â”‚   â””â”€ åŸºç¡€è®¾æ–½
   478â†’    â”‚
   479â†’    â””â”€ åˆ›ä½œè€…æ”¶å…¥ 70%: 70 å…ƒ
   480â†’        â””â”€ å¦‚æœ Skill ä½¿ç”¨äº†å¹³å° Skill (includes: [bazi])
   481â†’           â””â”€ å¹³å° Skill ä½¿ç”¨è´¹: æŒ‰è°ƒç”¨é‡è®¡ç®—ï¼ˆå¯é€‰ï¼‰
   482â†’```
   483â†’
   484â†’### 7.2 è®¡è´¹è¡¨
   485â†’
   486â†’```sql
   487â†’CREATE TABLE creator_earnings (
   488â†’    id UUID PRIMARY KEY,
   489â†’    creator_id UUID NOT NULL,
   490â†’    skill_id UUID REFERENCES skills(id),
   491â†’
   492â†’    -- æœŸé—´
   493â†’    period_start DATE,
   494â†’    period_end DATE,
   495â†’
   496â†’    -- æ”¶å…¥
   497â†’    gross_revenue DECIMAL(10,2),
   498â†’    platform_fee DECIMAL(10,2),
   499â†’    net_revenue DECIMAL(10,2),
   500â†’
   501â†’    -- çŠ¶æ€
   502â†’    status VARCHAR(20),  -- 'pending' | 'paid'
   503â†’    paid_at TIMESTAMPTZ
   504â†’);
   505â†’```
   506â†’
   507â†’---
   508â†’
   509â†’## å…«ã€å®æ–½è·¯çº¿å›¾
   510â†’
   511â†’### Phase 1: ç”¨æˆ·ç§æœ‰ Skillï¼ˆMVPï¼‰
   512â†’
   513â†’**ç›®æ ‡**ï¼šç”¨æˆ·å¯ä»¥åˆ›å»ºè‡ªå·±çš„ç§æœ‰ Skill
   514â†’
   515â†’**èŒƒå›´**ï¼š
   516â†’- [ ] Skill æ•°æ®åº“å­˜å‚¨
   517â†’- [ ] åŸºç¡€ Skill Studioï¼ˆWeb ç¼–è¾‘å™¨ï¼‰
   518â†’- [ ] çº¯é…ç½®å‹ Skillï¼ˆæ— è‡ªå®šä¹‰ handlerï¼‰
   519â†’- [ ] ç”¨æˆ· Skill åˆ—è¡¨ç®¡ç†
   520â†’
   521â†’**ä¸åŒ…å«**ï¼š
   522â†’- Store åŠŸèƒ½
   523â†’- ä»˜è´¹åŠŸèƒ½
   524â†’- è‡ªå®šä¹‰ handler
   525â†’- å®¡æ ¸ç³»ç»Ÿ
   526â†’
   527â†’### Phase 2: Skill Storeï¼ˆå…¬å¼€åˆ†å‘ï¼‰
   528â†’
   529â†’**ç›®æ ‡**ï¼šåˆ›ä½œè€…å¯ä»¥å‘å¸ƒ Skill ä¾›å…¶ä»–ç”¨æˆ·ä½¿ç”¨
   530â†’
   531â†’**èŒƒå›´**ï¼š
   532â†’- [ ] Store æµè§ˆå’Œæœç´¢
   533â†’- [ ] å®‰è£…å’Œå¸è½½
   534â†’- [ ] è¯„åˆ†è¯„è®º
   535â†’- [ ] å…è´¹ Skill å‘å¸ƒ
   536â†’- [ ] åŸºç¡€å®¡æ ¸æµç¨‹
   537â†’
   538â†’### Phase 3: ä»˜è´¹ Skill + Handler
   539â†’
   540â†’**ç›®æ ‡**ï¼šå®Œæ•´çš„å•†ä¸šåŒ–èƒ½åŠ›
   541â†’
   542â†’**èŒƒå›´**ï¼š
   543â†’- [ ] ä»˜è´¹ Skill è®¢é˜…
   544â†’- [ ] åˆ›ä½œè€…åˆ†æˆç»“ç®—
   545â†’- [ ] è‡ªå®šä¹‰ handlerï¼ˆæ²™ç®±æ‰§è¡Œï¼‰
   546â†’- [ ] å®Œæ•´å®¡æ ¸ç³»ç»Ÿï¼ˆä»£ç å®¡æ ¸ï¼‰
   547â†’
   548â†’---
   549â†’
   550â†’## ä¹ã€routing.yaml å…¼å®¹å‡çº§
   551â†’
   552â†’### å½“å‰æ ¼å¼
   553â†’
   554â†’```yaml
   555â†’skills:
   556â†’  bazi:
   557â†’    name: å…«å­—å‘½ç†
   558â†’    triggers: [å…«å­—, å‘½ç†]
   559â†’    # ...
   560â†’```
   561â†’
   562â†’### å‡çº§åæ ¼å¼
   563â†’
   564â†’```yaml
   565â†’# æ ‡è®°å¹³å° Skill
   566â†’platform_skills:
   567â†’  bazi:
   568â†’    name: å…«å­—å‘½ç†
   569â†’    triggers: [å…«å­—, å‘½ç†]
   570â†’    # ... é…ç½®ä¸å˜
   571â†’
   572â†’# åŠ¨æ€ Skill æ¥æºé…ç½®
   573â†’skill_sources:
   574â†’  - type: database
   575â†’    filter:
   576â†’      visibility: public
   577â†’      status: active
   578â†’```
   579â†’
   580â†’### å…¼å®¹é€»è¾‘
   581â†’
   582â†’```python
   583â†’def get_available_skills(user_id: UUID) -> List[SkillConfig]:
   584â†’    """è·å–ç”¨æˆ·å¯ç”¨çš„æ‰€æœ‰ Skill"""
   585â†’    skills = []
   586â†’
   587â†’    # 1. å¹³å° Skillï¼ˆä» routing.yamlï¼‰
   588â†’    skills.extend(load_platform_skills())
   589â†’
   590â†’    # 2. ç”¨æˆ·ç§æœ‰ Skillï¼ˆä»æ•°æ®åº“ï¼‰
   591â†’    skills.extend(await load_user_skills(user_id))
   592â†’
   593â†’    # 3. ç”¨æˆ·å®‰è£…çš„ Store Skillï¼ˆä»æ•°æ®åº“ï¼‰
   594â†’    skills.extend(await load_installed_skills(user_id))
   595â†’
   596â†’    return skills
   597â†’```
   598â†’
   599â†’---
   600â†’
   601â†’## åã€å®‰å…¨è€ƒè™‘
   602â†’
   603â†’| é£é™© | ç¼“è§£æªæ–½ |
   604â†’|------|----------|
   605â†’| æ¶æ„ä»£ç  | æ²™ç®±æ‰§è¡Œ + ä»£ç å®¡æ ¸ |
   606â†’| æ•°æ®æ³„éœ² | æ•°æ®éš”ç¦» + æƒé™æ§åˆ¶ |
   607â†’| æ»¥ç”¨ API | é€Ÿç‡é™åˆ¶ + ç”¨é‡ç›‘æ§ |
   608â†’| å†…å®¹è¿è§„ | å†…å®¹å®¡æ ¸ + ä¸¾æŠ¥æœºåˆ¶ |
   609â†’| çŸ¥è¯†äº§æƒ | åŸåˆ›å£°æ˜ + ä¾µæƒå¤„ç† |
   610â†’
   611â†’---
   612â†’
   613â†’## åä¸€ã€Skill Studio è¯¦ç»†è®¾è®¡
   614â†’
   615â†’### 11.1 åˆ›å»º Skill æµç¨‹
   616â†’
   617â†’```
   618â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   619â†’â”‚                           Skill Studio å·¥ä½œæµ                                â”‚
   620â†’â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   621â†’â”‚                                                                              â”‚
   622â†’â”‚  Step 1: åŸºç¡€ä¿¡æ¯                                                            â”‚
   623â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   624â†’â”‚  â”‚  Skill åç§°: [æˆ‘çš„èŒåœºé¡¾é—®_______________]                              â”‚ â”‚
   625â†’â”‚  â”‚  ç®€çŸ­æè¿°:   [èåˆå‘½ç†å’ŒèŒä¸šè§„åˆ’çš„å’¨è¯¢å¸ˆ_]                               â”‚ â”‚
   626â†’â”‚  â”‚  åˆ†ç±»:       [â—‹èŒä¸š â—‹æƒ…æ„Ÿ â—‹å‘½ç† â—‹ç”Ÿæ´»]                                  â”‚ â”‚
   627â†’â”‚  â”‚  å¯è§æ€§:     [â—ç§æœ‰ â—‹å…¬å¼€ â—‹Storeå‘å¸ƒ]                                   â”‚ â”‚
   628â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   629â†’â”‚                                                                              â”‚
   630â†’â”‚  Step 2: è§¦å‘é…ç½®                                                            â”‚
   631â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   632â†’â”‚  â”‚  è§¦å‘è¯: [èŒåœºé¡¾é—®] [èŒä¸šå’¨è¯¢] [è·³æ§½å»ºè®®] [+æ·»åŠ ]                        â”‚ â”‚
   633â†’â”‚  â”‚                                                                         â”‚ â”‚
   634â†’â”‚  â”‚  â˜‘ éœ€è¦å‡ºç”Ÿä¿¡æ¯        æ’ç›˜å·¥å…·: [calculate_bazi    â–¼]                  â”‚ â”‚
   635â†’â”‚  â”‚  â˜‘ éœ€è¦è®¡ç®—/æ’ç›˜       æ”¶é›†å·¥å…·: [request_info      â–¼]                  â”‚ â”‚
   636â†’â”‚  â”‚                                                                         â”‚ â”‚
   637â†’â”‚  â”‚  ä¾èµ–æ•°æ®: [â˜‘ bazi] [â˜‘ zodiac] [â˜ tarot] [â˜ career]                    â”‚ â”‚
   638â†’â”‚  â”‚  åŒ…å«å·¥å…·: [â˜‘ bazi] [â˜‘ zodiac] [â˜ tarot] [â˜‘ career]                    â”‚ â”‚
   639â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   640â†’â”‚                                                                              â”‚
   641â†’â”‚  Step 3: ä¸“å®¶èº«ä»½ (Prompt)                                                   â”‚
   642â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   643â†’â”‚  â”‚  # ä¸“å®¶èº«ä»½                                                             â”‚ â”‚
   644â†’â”‚  â”‚                                                                         â”‚ â”‚
   645â†’â”‚  â”‚  ä½ æ˜¯ä¸€ä½èåˆä¸œæ–¹å‘½ç†æ™ºæ…§å’Œç°ä»£èŒä¸šè§„åˆ’çš„é¡¾é—®ã€‚ä½ ç²¾é€šå…«å­—å‘½ç†           â”‚ â”‚
   646â†’â”‚  â”‚  çš„æ ¼å±€åˆ†æï¼ŒåŒæ—¶äº†è§£èŒåœºå‘å±•è§„å¾‹ã€‚ä½ çš„ä½¿å‘½æ˜¯å¸®åŠ©ç”¨æˆ·æ‰¾åˆ°æœ€              â”‚ â”‚
   647â†’â”‚  â”‚  é€‚åˆè‡ªå·±çš„èŒä¸šæ–¹å‘å’Œå‘å±•æ—¶æœºã€‚                                          â”‚ â”‚
   648â†’â”‚  â”‚                                                                         â”‚ â”‚
   649â†’â”‚  â”‚  ## æœåŠ¡åŸåˆ™                                                            â”‚ â”‚
   650â†’â”‚  â”‚  1. å…ˆäº†è§£ç”¨æˆ·çš„èŒä¸šèƒŒæ™¯å’Œå›°æƒ‘                                          â”‚ â”‚
   651â†’â”‚  â”‚  2. ç»“åˆå‘½ç†åˆ†æèŒä¸šé€‚åˆåº¦                                              â”‚ â”‚
   652â†’â”‚  â”‚  3. ç»™å‡ºå¯æ“ä½œçš„å»ºè®®                                                    â”‚ â”‚
   653â†’â”‚  â”‚  ...                                                                    â”‚ â”‚
   654â†’â”‚  â”‚                                               [é¢„è§ˆ] [ä½¿ç”¨æ¨¡æ¿]         â”‚ â”‚
   655â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   656â†’â”‚                                                                              â”‚
   657â†’â”‚  Step 4: è§„åˆ™æ–‡ä»¶ (å¯é€‰)                                                     â”‚
   658â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   659â†’â”‚  â”‚  rules/                                                                 â”‚ â”‚
   660â†’â”‚  â”‚  â”œâ”€â”€ career-analysis.md    [ç¼–è¾‘] [åˆ é™¤]                               â”‚ â”‚
   661â†’â”‚  â”‚  â”œâ”€â”€ timing-advice.md      [ç¼–è¾‘] [åˆ é™¤]                               â”‚ â”‚
   662â†’â”‚  â”‚  â””â”€â”€ [+ æ·»åŠ è§„åˆ™æ–‡ä»¶]                                                   â”‚ â”‚
   663â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   664â†’â”‚                                                                              â”‚
   665â†’â”‚  Step 5: è‡ªå®šä¹‰å·¥å…· (é«˜çº§)                                                   â”‚
   666â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   667â†’â”‚  â”‚  â˜ å¯ç”¨è‡ªå®šä¹‰å·¥å…·                                                       â”‚ â”‚
   668â†’â”‚  â”‚                                                                         â”‚ â”‚
   669â†’â”‚  â”‚  [å±•å¼€åæ˜¾ç¤º YAML ç¼–è¾‘å™¨ + Python ä»£ç ç¼–è¾‘å™¨]                           â”‚ â”‚
   670â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   671â†’â”‚                                                                              â”‚
   672â†’â”‚                        [ä¿å­˜è‰ç¨¿]  [æµ‹è¯•]  [å‘å¸ƒ]                            â”‚
   673â†’â”‚                                                                              â”‚
   674â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   675â†’```
   676â†’
   677â†’### 11.2 æµ‹è¯•å¯¹è¯ç•Œé¢
   678â†’
   679â†’```
   680â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   681â†’â”‚  Skill æµ‹è¯• - æˆ‘çš„èŒåœºé¡¾é—® (v0.1.0-draft)                       [è¿”å›ç¼–è¾‘]  â”‚
   682â†’â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   683â†’â”‚                                                                              â”‚
   684â†’â”‚  æµ‹è¯•ç”¨æˆ·é…ç½®:                                                               â”‚
   685â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   686â†’â”‚  â”‚  å‡ºç”Ÿä¿¡æ¯: 1990-01-15 14:30 åŒ—äº¬     [ä¿®æ”¹]                             â”‚ â”‚
   687â†’â”‚  â”‚  å·²æœ‰æ•°æ®: [â˜‘ bazi chart] [â˜‘ zodiac chart]     [æ¸…é™¤æ•°æ®]              â”‚ â”‚
   688â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   689â†’â”‚                                                                              â”‚
   690â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   691â†’â”‚  â”‚                                                                         â”‚ â”‚
   692â†’â”‚  â”‚  ğŸ¤– ä½ å¥½ï¼æˆ‘æ˜¯ä½ çš„èŒåœºé¡¾é—®ã€‚çœ‹åˆ°ä½ æ˜¯ç”²æœ¨æ—¥ä¸»ï¼Œå¤©ç”Ÿæœ‰é¢†å¯¼åŠ›å’Œ           â”‚ â”‚
   693â†’â”‚  â”‚     åˆ›æ–°ç²¾ç¥ã€‚ä½ ç°åœ¨æœ‰ä»€ä¹ˆèŒä¸šä¸Šçš„å›°æƒ‘æƒ³èŠèŠå—ï¼Ÿ                        â”‚ â”‚
   694â†’â”‚  â”‚                                                                         â”‚ â”‚
   695â†’â”‚  â”‚  ğŸ‘¤ æˆ‘æƒ³çŸ¥é“ä»Šå¹´é€‚ä¸é€‚åˆè·³æ§½                                           â”‚ â”‚
   696â†’â”‚  â”‚                                                                         â”‚ â”‚
   697â†’â”‚  â”‚  ğŸ¤– [è°ƒç”¨å·¥å…·: show_bazi_fortune]                                      â”‚ â”‚
   698â†’â”‚  â”‚     æ ¹æ®ä½ çš„å…«å­—ï¼Œä»Šå¹´æ˜¯åºšè¾°å¹´ï¼Œå¯¹ä½ çš„ç”²æœ¨æ—¥ä¸»æ¥è¯´...                  â”‚ â”‚
   699â†’â”‚  â”‚                                                                         â”‚ â”‚
   700â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   701â†’â”‚                                                                              â”‚
   702â†’â”‚  è°ƒè¯•é¢æ¿:                                                                   â”‚
   703â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   704â†’â”‚  â”‚  Tool Calls:                                                            â”‚ â”‚
   705â†’â”‚  â”‚  1. show_bazi_fortune(chart_id=...) â†’ success                          â”‚ â”‚
   706â†’â”‚  â”‚                                                                         â”‚ â”‚
   707â†’â”‚  â”‚  Context:                                                               â”‚ â”‚
   708â†’â”‚  â”‚  - skill_data.bazi: {chart: {...}, features: [...]}                    â”‚ â”‚
   709â†’â”‚  â”‚  - skill_data.zodiac: {chart: {...}}                                   â”‚ â”‚
   710â†’â”‚  â”‚                                                                         â”‚ â”‚
   711â†’â”‚  â”‚  Tokens: prompt=1,234 completion=567 total=1,801                       â”‚ â”‚
   712â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   713â†’â”‚                                                                              â”‚
   714â†’â”‚  [è¾“å…¥æµ‹è¯•æ¶ˆæ¯...___________________________________] [å‘é€]                 â”‚
   715â†’â”‚                                                                              â”‚
   716â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   717â†’```
   718â†’
   719â†’### 11.3 API è®¾è®¡
   720â†’
   721â†’```yaml
   722â†’# Skill CRUD
   723â†’POST   /api/v1/skills                    # åˆ›å»º Skill
   724â†’GET    /api/v1/skills                    # åˆ—å‡ºæˆ‘çš„ Skill
   725â†’GET    /api/v1/skills/{skill_id}         # è·å– Skill è¯¦æƒ…
   726â†’PUT    /api/v1/skills/{skill_id}         # æ›´æ–° Skill
   727â†’DELETE /api/v1/skills/{skill_id}         # åˆ é™¤ Skill
   728â†’
   729â†’# ç‰ˆæœ¬ç®¡ç†
   730â†’POST   /api/v1/skills/{skill_id}/versions           # åˆ›å»ºæ–°ç‰ˆæœ¬
   731â†’GET    /api/v1/skills/{skill_id}/versions           # åˆ—å‡ºæ‰€æœ‰ç‰ˆæœ¬
   732â†’GET    /api/v1/skills/{skill_id}/versions/{version} # è·å–ç‰¹å®šç‰ˆæœ¬
   733â†’POST   /api/v1/skills/{skill_id}/activate/{version} # æ¿€æ´»ç‰ˆæœ¬
   734â†’
   735â†’# æµ‹è¯•
   736â†’POST   /api/v1/skills/{skill_id}/test               # æµ‹è¯•å¯¹è¯
   737â†’POST   /api/v1/skills/{skill_id}/validate           # éªŒè¯é…ç½®
   738â†’
   739â†’# å‘å¸ƒ
   740â†’POST   /api/v1/skills/{skill_id}/submit-review      # æäº¤å®¡æ ¸
   741â†’GET    /api/v1/skills/{skill_id}/review-status      # å®¡æ ¸çŠ¶æ€
   742â†’
   743â†’# Store
   744â†’GET    /api/v1/store/skills                         # æµè§ˆ Store
   745â†’GET    /api/v1/store/skills/{slug}                  # Skill è¯¦æƒ…é¡µ
   746â†’POST   /api/v1/store/skills/{slug}/install          # å®‰è£…
   747â†’DELETE /api/v1/store/skills/{slug}/uninstall        # å¸è½½
   748â†’POST   /api/v1/store/skills/{slug}/review           # è¯„ä»·
   749â†’
   750â†’# ç”¨æˆ·å®‰è£…çš„ Skill
   751â†’GET    /api/v1/me/installed-skills                  # æˆ‘å®‰è£…çš„ Skill
   752â†’PUT    /api/v1/me/installed-skills/{skill_id}       # æ›´æ–°é…ç½®
   753â†’```
   754â†’
   755â†’### 11.4 Skill é…ç½® Schema
   756â†’
   757â†’```typescript
   758â†’interface SkillConfig {
   759â†’  // åŸºç¡€ä¿¡æ¯
   760â†’  name: string;
   761â†’  slug: string;
   762â†’  shortDesc: string;
   763â†’  category: 'astrology' | 'self-awareness' | 'professional' | 'relationship' | 'lifestyle';
   764â†’  tags: string[];
   765â†’
   766â†’  // è§¦å‘é…ç½®
   767â†’  triggers: string[];
   768â†’
   769â†’  // SOP é…ç½®
   770â†’  requiresBirthInfo: boolean;
   771â†’  requiresCompute: boolean;
   772â†’  computeTool?: string;
   773â†’  collectTool?: string;
   774â†’
   775â†’  // ä¾èµ–é…ç½®
   776â†’  skillData: string[];   // éœ€è¦åŠ è½½çš„ skill_data
   777â†’  includes: string[];    // éœ€è¦åŒ…å«å·¥å…·çš„ Skill
   778â†’  globalTools: string[]; // éœ€è¦çš„å…¨å±€å·¥å…·
   779â†’
   780â†’  // Prompt å†…å®¹
   781â†’  promptContent: string;
   782â†’
   783â†’  // è§„åˆ™æ–‡ä»¶
   784â†’  rules: Record<string, string>;
   785â†’
   786â†’  // è‡ªå®šä¹‰å·¥å…·ï¼ˆé«˜çº§ï¼‰
   787â†’  customTools?: {
   788â†’    definitions: ToolDefinition[];
   789â†’    handlers: string;  // Python ä»£ç 
   790â†’  };
   791â†’}
   792â†’
   793â†’interface ToolDefinition {
   794â†’  name: string;
   795â†’  description: string;
   796â†’  toolType: 'collect' | 'compute' | 'display' | 'action';
   797â†’  cardType?: string;
   798â†’  parameters: ParameterDefinition[];
   799â†’}
   800â†’```
   801â†’
   802â†’---
   803â†’
   804â†’## åäºŒã€Store è¯¦ç»†è®¾è®¡
   805â†’
   806â†’### 12.1 Store é¦–é¡µ
   807â†’
   808â†’```
   809â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   810â†’â”‚  Skill Store                                              [æœç´¢ Skill...]   â”‚
   811â†’â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   812â†’â”‚                                                                              â”‚
   813â†’â”‚  çƒ­é—¨æ¨è                                                                    â”‚
   814â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
   815â†’â”‚  â”‚ ğŸ”®         â”‚ â”‚ ğŸ’¼         â”‚ â”‚ â¤ï¸         â”‚ â”‚ ğŸŒŸ         â”‚              â”‚
   816â†’â”‚  â”‚ å¤§å¸ˆè§£ç›˜   â”‚ â”‚ èŒåœºå¯¼èˆª   â”‚ â”‚ æƒ…æ„Ÿé¡¾é—®   â”‚ â”‚ æ¯æ—¥è¿åŠ¿   â”‚              â”‚
   817â†’â”‚  â”‚ â­4.8 1.2k â”‚ â”‚ â­4.6 856  â”‚ â”‚ â­4.7 2.3k â”‚ â”‚ â­4.5 3.1k â”‚              â”‚
   818â†’â”‚  â”‚ å…è´¹       â”‚ â”‚ Â¥29/æœˆ    â”‚ â”‚ Â¥19/æœˆ    â”‚ â”‚ å…è´¹       â”‚              â”‚
   819â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
   820â†’â”‚                                                                              â”‚
   821â†’â”‚  åˆ†ç±»æµè§ˆ                                                                    â”‚
   822â†’â”‚  [å…¨éƒ¨] [å‘½ç†] [èŒä¸š] [æƒ…æ„Ÿ] [ç”Ÿæ´»] [è‡ªæˆ‘æˆé•¿]                              â”‚
   823â†’â”‚                                                                              â”‚
   824â†’â”‚  å‘½ç†ç±» Skill                                                    [æŸ¥çœ‹æ›´å¤š]  â”‚
   825â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   826â†’â”‚  â”‚  ğŸ”® å¤§å¸ˆè§£ç›˜                          by æå¤§å¸ˆ                         â”‚ â”‚
   827â†’â”‚  â”‚  èåˆå¤šæ´¾å‘½ç†çš„æ·±åº¦è§£è¯»ï¼Œ30å¹´å®æˆ˜ç»éªŒ                                   â”‚ â”‚
   828â†’â”‚  â”‚  â­4.8 (1,234 è¯„ä»·)  |  å·²å®‰è£… 1.2k æ¬¡  |  å…è´¹                        â”‚ â”‚
   829â†’â”‚  â”‚                                                          [æŸ¥çœ‹] [å®‰è£…] â”‚ â”‚
   830â†’â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
   831â†’â”‚  â”‚  ğŸ“… æµå¹´è¿åŠ¿å¤§å¸ˆ                      by å‘½ç†ç ”ç©¶æ‰€                     â”‚ â”‚
   832â†’â”‚  â”‚  ç²¾å‡†çš„æµå¹´æµæœˆè¿åŠ¿åˆ†æ                                                 â”‚ â”‚
   833â†’â”‚  â”‚  â­4.6 (567 è¯„ä»·)  |  å·²å®‰è£… 856 æ¬¡  |  Â¥9.9/æœˆ                       â”‚ â”‚
   834â†’â”‚  â”‚                                                          [æŸ¥çœ‹] [è®¢é˜…] â”‚ â”‚
   835â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   836â†’â”‚                                                                              â”‚
   837â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   838â†’```
   839â†’
   840â†’### 12.2 Skill è¯¦æƒ…é¡µ
   841â†’
   842â†’```
   843â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   844â†’â”‚  â† è¿”å› Store                                                               â”‚
   845â†’â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   846â†’â”‚                                                                              â”‚
   847â†’â”‚  ğŸ”® å¤§å¸ˆè§£ç›˜                                                                â”‚
   848â†’â”‚  by æå¤§å¸ˆ | å‘½ç†ç±» | v2.1.0                                                â”‚
   849â†’â”‚                                                                              â”‚
   850â†’â”‚  â­ 4.8 (1,234 è¯„ä»·)  |  ğŸ“¥ 1.2k å®‰è£…  |  ğŸ’¬ æ´»è·ƒ                          â”‚
   851â†’â”‚                                                                              â”‚
   852â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   853â†’â”‚  â”‚  èåˆã€Šæ»´å¤©é«“ã€‹ã€Šç©·é€šå®é‰´ã€‹ã€Šå­å¹³çœŸè¯ ã€‹ä¸‰å¤§ç»å…¸çš„å…«å­—æ·±åº¦è§£è¯»ã€‚        â”‚ â”‚
   854â†’â”‚  â”‚  30å¹´å®æˆ˜ç»éªŒï¼ŒæœåŠ¡è¶…è¿‡10ä¸‡ç”¨æˆ·ã€‚                                       â”‚ â”‚
   855â†’â”‚  â”‚                                                                         â”‚ â”‚
   856â†’â”‚  â”‚  ç‰¹è‰²åŠŸèƒ½ï¼š                                                             â”‚ â”‚
   857â†’â”‚  â”‚  â€¢ æ ¼å±€ç”¨ç¥ç²¾å‡†åˆ†æ                                                     â”‚ â”‚
   858â†’â”‚  â”‚  â€¢ å¤§è¿æµå¹´è¯¦ç»†è§£è¯»                                                     â”‚ â”‚
   859â†’â”‚  â”‚  â€¢ äº‹ä¸šè´¢è¿æ„Ÿæƒ…å…¨æ–¹ä½                                                   â”‚ â”‚
   860â†’â”‚  â”‚  â€¢ æ”¯æŒè¿½é—®æ·±å…¥è®¨è®º                                                     â”‚ â”‚
   861â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   862â†’â”‚                                                                              â”‚
   863â†’â”‚  ä»·æ ¼ï¼šå…è´¹                                           [å®‰è£…åˆ°æˆ‘çš„ Skill]     â”‚
   864â†’â”‚                                                                              â”‚
   865â†’â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
   866â†’â”‚                                                                              â”‚
   867â†’â”‚  ç”¨æˆ·è¯„ä»·                                                                    â”‚
   868â†’â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   869â†’â”‚  â”‚  â­â­â­â­â­ "åˆ†æå¾ˆå‡†ï¼Œè§£é‡Šé€šä¿—æ˜“æ‡‚"                        - ç”¨æˆ·A    â”‚ â”‚
   870â†’â”‚  â”‚  â­â­â­â­â˜† "æ•´ä½“ä¸é”™ï¼Œå¸Œæœ›å¢åŠ åˆç›˜åŠŸèƒ½"                    - ç”¨æˆ·B    â”‚ â”‚
   871â†’â”‚  â”‚  â­â­â­â­â­ "æ¯”å…¶ä»–å‘½ç†APPä¸“ä¸šå¤šäº†"                         - ç”¨æˆ·C    â”‚ â”‚
   872â†’â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   873â†’â”‚                                                                              â”‚
   874â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   875â†’```
   876â†’
   877â†’---
   878â†’
   879â†’## åä¸‰ã€æ€»ç»“
   880â†’
   881â†’### æ ¸å¿ƒæ”¹åŠ¨
   882â†’
   883â†’1. **Skill å­˜å‚¨**ï¼šæ–‡ä»¶ç³»ç»Ÿ â†’ æ•°æ®åº“ + å¯¹è±¡å­˜å‚¨
   884â†’2. **Skill Loader**ï¼šé™æ€åŠ è½½ â†’ å¤šæ¥æºåŠ¨æ€åŠ è½½
   885â†’3. **Tool Registry**ï¼šé™æ€æ³¨å†Œ â†’ æ”¯æŒæ²™ç®±æ‰§è¡Œ
   886â†’4. **routing.yaml**ï¼šå…¨éƒ¨é…ç½® â†’ åªå®šä¹‰å¹³å° Skill
   887â†’
   888â†’### ä¿æŒä¸å˜
   889â†’
   890â†’1. **é…ç½®é©±åŠ¨**ï¼šskill_data + includes æ¨¡å‹
   891â†’2. **LLM è·¯ç”±**ï¼šactivate_skill å·¥å…·
   892â†’3. **å·¥å…·æœºåˆ¶**ï¼š@tool_handler æ¨¡å¼
   893â†’4. **æ•°æ®æ¨¡å‹**ï¼šunified_profiles ç»“æ„
   894â†’
   895â†’### æ–°å¢ç»„ä»¶
   896â†’
   897â†’1. **Skill Registry**ï¼šæ•°æ®åº“å­˜å‚¨ + ç‰ˆæœ¬ç®¡ç†
   898â†’2. **Skill Studio**ï¼šWeb åˆ›ä½œå·¥å…·
   899â†’3. **Skill Store**ï¼šå‘ç°å’Œåˆ†å‘å¹³å°
   900â†’4. **Sandbox**ï¼šå®‰å…¨æ‰§è¡Œç¯å¢ƒ
   901â†’5. **Review System**ï¼šå®¡æ ¸ç³»ç»Ÿ
   902â†’6. **Billing Split**ï¼šåˆ†æˆç»“ç®—
   903â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
