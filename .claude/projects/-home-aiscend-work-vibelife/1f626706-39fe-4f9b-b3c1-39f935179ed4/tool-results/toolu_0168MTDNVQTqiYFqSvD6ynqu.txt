     1→"use client";
     2→
     3→/**
     4→ * Root Page - 根据 skill 上下文显示对应页面
     5→ *
     6→ * 路由逻辑:
     7→ * - 无子域名访问 vibelife.app -> 显示品牌首页（Skill 选择器）
     8→ * - 有子域名或已设置 skill -> 重定向到对应 skill 的 landing page
     9→ */
    10→
    11→import { useEffect, useState } from "react";
    12→import { useRouter } from "next/navigation";
    13→import { useSkill } from "@/providers";
    14→import { motion } from "framer-motion";
    15→import { ArrowRight, Compass, Star, Brain, Heart, Briefcase } from "lucide-react";
    16→import { LuminousPaper, VibeGlyph, BreathAura, type SkillType } from "@/components/core";
    17→
    18→// ═══════════════════════════════════════════════════════════════════════════
    19→// Skill Cards Configuration
    20→// ═══════════════════════════════════════════════════════════════════════════
    21→
    22→const SKILLS: Array<{
    23→  id: SkillType;
    24→  name: string;
    25→  subtitle: string;
    26→  description: string;
    27→  icon: typeof Compass;
    28→  available: boolean;
    29→  gradient: string;
    30→}> = [
    31→  {
    32→    id: "bazi",
    33→    name: "八字命理",
    34→    subtitle: "解读天赋，洞察人生",
    35→    description: "基于出生时间的八字分析，了解你的性格特质、天赋才能和人生机遇",
    36→    icon: Compass,
    37→    available: true,
    38→    gradient: "from-amber-500 to-orange-600",
    39→  },
    40→  {
    41→    id: "zodiac",
    42→    name: "星座占星",
    43→    subtitle: "星辰指引，探索潜能",
    44→    description: "通过星盘解读，发现你的内在动力、情感模式和成长方向",
    45→    icon: Star,
    46→    available: true,
    47→    gradient: "from-purple-500 to-pink-600",
    48→  },
    49→  {
    50→    id: "mbti",
    51→    name: "MBTI 人格",
    52→    subtitle: "发现真我，理解特质",
    53→    description: "科学的人格测评，帮你认识自己的思维方式和行为模式",
    54→    icon: Brain,
    55→    available: false,
    56→    gradient: "from-blue-500 to-cyan-600",
    57→  },
    58→  {
    59→    id: "attach",
    60→    name: "依恋模式",
    61→    subtitle: "理解依恋，改善关系",
    62→    description: "探索你的依恋风格，建立更健康的亲密关系",
    63→    icon: Heart,
    64→    available: false,
    65→    gradient: "from-rose-500 to-red-600",
    66→  },
    67→  {
    68→    id: "career",
    69→    name: "职业发展",
    70→    subtitle: "规划蓝图，找到方向",
    71→    description: "结合你的特质和兴趣，规划适合的职业发展路径",
    72→    icon: Briefcase,
    73→    available: false,
    74→    gradient: "from-emerald-500 to-teal-600",
    75→  },
    76→];
    77→
    78→// ═══════════════════════════════════════════════════════════════════════════
    79→// Root Page Component
    80→// ═══════════════════════════════════════════════════════════════════════════
    81→
    82→export default function RootPage() {
    83→  const router = useRouter();
    84→  const { skill } = useSkill();
    85→  const [showBrandIndex, setShowBrandIndex] = useState(false);
    86→  const [isChecking, setIsChecking] = useState(true);
    87→
    88→  useEffect(() => {
    89→    // 检查是否有子域名或者已经选择了 skill
    90→    const hostname = typeof window !== "undefined" ? window.location.hostname : "";
    91→    const parts = hostname.split(".");
    92→
    93→    // 检测子域名
    94→    const hasSubdomain =
    95→      parts.length >= 2 &&
    96→      ["bazi", "zodiac", "mbti", "attach", "career"].includes(parts[0].toLowerCase());
    97→
    98→    if (hasSubdomain) {
    99→      // 有子域名，重定向到对应的 skill 首页
   100→      const subdomain = parts[0].toLowerCase() as SkillType;
   101→      router.replace(`/${subdomain}`);
   102→    } else {
   103→      // 无子域名，显示品牌首页
   104→      setShowBrandIndex(true);
   105→    }
   106→    setIsChecking(false);
   107→  }, [router]);
   108→
   109→  const handleSkillClick = (selectedSkill: typeof SKILLS[0]) => {
   110→    if (!selectedSkill.available) return;
   111→
   112→    // Set cookie and navigate
   113→    document.cookie = `vibelife-skill=${selectedSkill.id}; path=/; max-age=${60 * 60 * 24 * 365}`;
   114→    router.push(`/${selectedSkill.id}`);
   115→  };
   116→
   117→  // Loading state
   118→  if (isChecking) {
   119→    return (
   120→      <LuminousPaper skill={skill} variant="default" className="min-h-screen">
   121→        <div className="flex items-center justify-center min-h-screen">
   122→          <VibeGlyph size="md" skill={skill} showAura={true} animate={true} />
   123→        </div>
   124→      </LuminousPaper>
   125→    );
   126→  }
   127→
   128→  // 品牌首页 - Skill 选择器
   129→  if (showBrandIndex) {
   130→    return (
   131→      <LuminousPaper skill="bazi" variant="default" className="min-h-screen">
   132→        {/* Background */}
   133→        <BreathAura
   134→          skill="bazi"
   135→          size="xl"
   136→          position="center"
   137→          intensity="low"
   138→          className="opacity-30"
   139→        />
   140→
   141→        <div className="relative z-10 min-h-screen flex flex-col">
   142→          {/* Header */}
   143→          <header className="py-6 px-6">
   144→            <div className="flex items-center gap-2">
   145→              <VibeGlyph size="sm" skill="bazi" showAura={false} />
   146→              <span className="font-serif font-semibold text-foreground">VibeLife</span>
   147→            </div>
   148→          </header>
   149→
   150→          {/* Main Content */}
   151→          <main className="flex-1 flex items-center justify-center px-6 pb-20">
   152→            <div className="max-w-4xl w-full">
   153→              {/* Title */}
   154→              <motion.div
   155→                initial={{ y: 20, opacity: 0 }}
   156→                animate={{ y: 0, opacity: 1 }}
   157→                transition={{ duration: 0.6 }}
   158→                className="text-center mb-12"
   159→              >
   160→                <h1 className="font-serif text-4xl md:text-5xl font-bold text-foreground mb-4">
   161→                  每个人都值得被深度理解
   162→                </h1>
   163→                <p className="text-xl text-muted-foreground max-w-lg mx-auto">
   164→                  东方智慧 × AI 科技，开启自我探索之旅
   165→                </p>
   166→              </motion.div>
   167→
   168→              {/* Skill Cards Grid */}
   169→              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
   170→                {SKILLS.map((skillItem, index) => (
   171→                  <motion.div
   172→                    key={skillItem.id}
   173→                    initial={{ y: 20, opacity: 0 }}
   174→                    animate={{ y: 0, opacity: 1 }}
   175→                    transition={{ delay: 0.1 * (index + 1), duration: 0.5 }}
   176→                    whileHover={skillItem.available ? { scale: 1.02, y: -4 } : undefined}
   177→                    whileTap={skillItem.available ? { scale: 0.98 } : undefined}
   178→                  >
   179→                    <button
   180→                      onClick={() => handleSkillClick(skillItem)}
   181→                      disabled={!skillItem.available}
   182→                      className={`
   183→                        group relative w-full p-6 rounded-2xl border text-left transition-all duration-300 overflow-hidden
   184→                        ${skillItem.available
   185→                          ? "bg-card hover:bg-card/90 border-border hover:border-transparent hover:shadow-xl cursor-pointer"
   186→                          : "bg-muted/30 border-border/30 cursor-not-allowed"
   187→                        }
   188→                      `}
   189→                    >
   190→                      {/* Gradient overlay for available cards */}
   191→                      {skillItem.available && (
   192→                        <div className={`absolute inset-0 bg-gradient-to-br ${skillItem.gradient} opacity-0 group-hover:opacity-5 transition-opacity duration-300`} />
   193→                      )}
   194→
   195→                      <div className="relative z-10">
   196→                        <div className="flex items-start justify-between mb-4">
   197→                          <div className={`
   198→                            w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-300
   199→                            ${skillItem.available
   200→                              ? `bg-gradient-to-br ${skillItem.gradient} text-white shadow-lg group-hover:shadow-xl group-hover:scale-110`
   201→                              : "bg-muted/50 text-muted-foreground/50"}
   202→                          `}>
   203→                            <skillItem.icon className="w-6 h-6" />
   204→                          </div>
   205→                          {skillItem.available ? (
   206→                            <ArrowRight className="w-5 h-5 text-muted-foreground group-hover:text-foreground group-hover:translate-x-1 transition-all duration-300" />
   207→                          ) : (
   208→                            <span className="text-xs font-medium text-white bg-gradient-to-r from-purple-500 to-pink-500 px-3 py-1.5 rounded-full shadow-sm">
   209→                              即将推出
   210→                            </span>
   211→                          )}
   212→                        </div>
   213→                        <h3 className={`font-serif text-xl font-semibold mb-1.5 ${skillItem.available ? "text-foreground" : "text-muted-foreground/70"}`}>
   214→                          {skillItem.name}
   215→                        </h3>
   216→                        <p className={`text-sm font-medium mb-2 ${skillItem.available ? "text-foreground/80" : "text-muted-foreground/50"}`}>
   217→                          {skillItem.subtitle}
   218→                        </p>
   219→                        <p className={`text-xs leading-relaxed ${skillItem.available ? "text-muted-foreground" : "text-muted-foreground/40"}`}>
   220→                          {skillItem.description}
   221→                        </p>
   222→                      </div>
   223→                    </button>
   224→                  </motion.div>
   225→                ))}
   226→              </div>
   227→
   228→              {/* Tagline */}
   229→              <motion.p
   230→                initial={{ opacity: 0 }}
   231→                animate={{ opacity: 1 }}
   232→                transition={{ delay: 0.8, duration: 0.6 }}
   233→                className="mt-12 text-center text-sm text-muted-foreground/60"
   234→              >
   235→                The Living Companion
   236→              </motion.p>
   237→            </div>
   238→          </main>
   239→        </div>
   240→      </LuminousPaper>
   241→    );
   242→  }
   243→
   244→  // Fallback - should not reach here
   245→  return null;
   246→}
   247→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
