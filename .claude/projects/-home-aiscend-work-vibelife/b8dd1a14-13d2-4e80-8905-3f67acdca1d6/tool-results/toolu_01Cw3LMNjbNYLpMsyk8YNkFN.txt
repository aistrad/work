     1→"use client";
     2→
     3→/**
     4→ * Dev Login Page - Development Only
     5→ *
     6→ * Quick login for testing without OAuth.
     7→ * Uses email or vibe_id to authenticate.
     8→ */
     9→
    10→import { useState, useCallback } from "react";
    11→import { useRouter } from "next/navigation";
    12→import { AuthLayout, AuthCard } from "@/components/auth/AuthLayout";
    13→
    14→export default function DevLoginPage() {
    15→  const router = useRouter();
    16→  // 默认测试用户 - 可以在这里修改
    17→  const DEFAULT_TEST_EMAIL = "iaaichina@163.com"; // 修改为你想要的默认邮箱
    18→  const DEFAULT_TEST_VIBE_ID = ""; // 或者使用 Vibe ID: VB-YRZ5YYVR
    19→
    20→  const [email, setEmail] = useState(DEFAULT_TEST_EMAIL);
    21→  const [vibeId, setVibeId] = useState(DEFAULT_TEST_VIBE_ID);
    22→  const [error, setError] = useState("");
    23→  const [loading, setLoading] = useState(false);
    24→
    25→  const handleLogin = useCallback(async () => {
    26→    setError("");
    27→    setLoading(true);
    28→
    29→    try {
    30→      // Use Next.js API route proxy to avoid CORS issues
    31→      const response = await fetch("/api/auth/dev-login", {
    32→        method: "POST",
    33→        headers: {
    34→          "Content-Type": "application/json",
    35→        },
    36→        body: JSON.stringify({
    37→          email: email || undefined,
    38→          vibe_id: vibeId || undefined,
    39→        }),
    40→      });
    41→
    42→      const data = await response.json();
    43→
    44→      if (!response.ok) {
    45→        throw new Error(data.detail || "Login failed");
    46→      }
    47→
    48→      // Store tokens
    49→      localStorage.setItem("access_token", data.access_token);
    50→      localStorage.setItem("refresh_token", data.refresh_token);
    51→      localStorage.setItem("user", JSON.stringify(data.user));
    52→
    53→      // Redirect to home
    54→      router.push("/");
    55→    } catch (err) {
    56→      setError(err instanceof Error ? err.message : "Login failed");
    57→    } finally {
    58→      setLoading(false);
    59→    }
    60→  }, [email, vibeId, router]);
    61→
    62→  return (
    63→    <AuthLayout>
    64→      <AuthCard
    65→        title="Dev Login"
    66→        subtitle="Development environment only"
    67→      >
    68→        {/* Warning Banner */}
    69→        <div className="mb-4 p-3 rounded-lg bg-warning/10 border border-warning/20">
    70→          <p className="text-warning text-sm text-center">
    71→            This login method is only available in development mode
    72→          </p>
    73→        </div>
    74→
    75→        {/* Error Display */}
    76→        {error && (
    77→          <div className="mb-4 p-3 rounded-lg bg-error/10 border border-error/20">
    78→            <p className="text-error text-sm text-center">{error}</p>
    79→          </div>
    80→        )}
    81→
    82→        {/* Email Input */}
    83→        <div className="mb-4">
    84→          <label className="block text-sm font-medium text-text-secondary mb-2">
    85→            Email
    86→          </label>
    87→          <input
    88→            type="email"
    89→            value={email}
    90→            onChange={(e) => setEmail(e.target.value)}
    91→            placeholder="test@vibelife.com"
    92→            className="w-full px-4 py-3 rounded-lg border border-border-default bg-bg-secondary text-text-primary placeholder:text-text-tertiary focus:outline-none focus:ring-2 focus:ring-accent-primary/50"
    93→          />
    94→        </div>
    95→
    96→        {/* Or Divider */}
    97→        <div className="flex items-center my-4">
    98→          <div className="flex-1 border-t border-border-default"></div>
    99→          <span className="px-3 text-sm text-text-tertiary">or</span>
   100→          <div className="flex-1 border-t border-border-default"></div>
   101→        </div>
   102→
   103→        {/* Vibe ID Input */}
   104→        <div className="mb-6">
   105→          <label className="block text-sm font-medium text-text-secondary mb-2">
   106→            Vibe ID
   107→          </label>
   108→          <input
   109→            type="text"
   110→            value={vibeId}
   111→            onChange={(e) => setVibeId(e.target.value)}
   112→            placeholder="VIBE-XXXXXXXX"
   113→            className="w-full px-4 py-3 rounded-lg border border-border-default bg-bg-secondary text-text-primary placeholder:text-text-tertiary focus:outline-none focus:ring-2 focus:ring-accent-primary/50"
   114→          />
   115→        </div>
   116→
   117→        {/* Login Button */}
   118→        <button
   119→          onClick={handleLogin}
   120→          disabled={loading || (!email && !vibeId)}
   121→          className="w-full py-3 px-4 rounded-lg bg-accent-primary text-white font-medium hover:bg-accent-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
   122→        >
   123→          {loading ? "Logging in..." : "Login"}
   124→        </button>
   125→
   126→        {/* Back to OAuth */}
   127→        <div className="mt-4 text-center">
   128→          <a
   129→            href="/auth/login"
   130→            className="text-sm text-accent-primary hover:underline"
   131→          >
   132→            Back to OAuth Login
   133→          </a>
   134→        </div>
   135→      </AuthCard>
   136→    </AuthLayout>
   137→  );
   138→}
   139→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
