     1â†’# æ–°å¢ç»„ä»¶è¯¦è§£
     2â†’
     3â†’> **ç»„ä»¶ç‰ˆæœ¬**: V9.0
     4â†’> **åˆ›å»ºæ—¥æœŸ**: 2026-01-21
     5â†’
     6â†’---
     7â†’
     8â†’## ğŸ“¦ ç»„ä»¶åˆ—è¡¨
     9â†’
    10â†’æœ¬æ¬¡ Dashboard â†’ Chat æ•´åˆæ–°å¢äº† 3 ä¸ªæ ¸å¿ƒç»„ä»¶ï¼š
    11â†’
    12â†’1. **AmbientStatusBar** - ç®€åŒ–ç‰ˆçŠ¶æ€æ¡
    13â†’2. **LifecoachQuickView** - å¯å±•å¼€ Lifecoach å¡ç‰‡
    14â†’3. **ChatEmptyStateWithDashboard** - æ•´åˆå®¹å™¨
    15â†’
    16â†’---
    17â†’
    18â†’## 1. AmbientStatusBar
    19â†’
    20â†’### ğŸ“ ç»„ä»¶è¯´æ˜
    21â†’
    22â†’**æ–‡ä»¶è·¯å¾„**: `apps/web/src/components/chat/AmbientStatusBar.tsx`
    23â†’
    24â†’**åŠŸèƒ½**: æ¨ªå‘å±•ç¤ºç”¨æˆ·çŠ¶æ€æŒ‡æ ‡ï¼ˆè¿ç»­å¤©æ•°ã€èƒ½é‡ã€ç­¾åˆ°çŠ¶æ€ï¼‰ï¼Œæä¾›å¿«é€Ÿç­¾åˆ°å…¥å£
    25â†’
    26â†’**è®¾è®¡ç†å¿µ**:
    27â†’- ç®€åŒ– Dashboard çš„ Ambient å±‚ï¼Œç§»é™¤é‡å¤çš„é—®å€™å’Œåè¨€
    28â†’- èšç„¦æ ¸å¿ƒæŒ‡æ ‡ï¼Œç´§å‡‘å±•ç¤º
    29â†’- ä¸€é”®ç­¾åˆ°ï¼Œå³æ—¶åé¦ˆ
    30â†’
    31â†’---
    32â†’
    33â†’### ğŸ¨ è§†è§‰æ•ˆæœ
    34â†’
    35â†’```
    36â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    37â†’â”‚  ğŸ”¥ğŸ”¥ 2å¤©è¿ç»­ | ğŸ’ª èƒ½é‡ 75% | â–¡ æœªç­¾åˆ°  [å¼€å§‹ä»Šå¤©]  â”‚
    38â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    39â†’```
    40â†’
    41â†’**å·²ç­¾åˆ°çŠ¶æ€**:
    42â†’```
    43â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    44â†’â”‚  ğŸ”¥ğŸ”¥ğŸ”¥ 7å¤©è¿ç»­ | ğŸ’ª èƒ½é‡ 82% | âœ“ å·²ç­¾åˆ°              â”‚
    45â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    46â†’```
    47â†’
    48â†’---
    49â†’
    50â†’### ğŸ”§ Props å®šä¹‰
    51â†’
    52â†’```typescript
    53â†’interface AmbientStatusBarProps {
    54â†’  /** çŠ¶æ€æ•°æ® */
    55â†’  status: StatusData;
    56â†’
    57â†’  /** ç­¾åˆ°å›è°ƒ */
    58â†’  onCheckIn: () => Promise<unknown>;
    59â†’
    60â†’  /** è‡ªå®šä¹‰æ ·å¼ */
    61â†’  className?: string;
    62â†’}
    63â†’
    64â†’interface StatusData {
    65â†’  /** è¿ç»­ç­¾åˆ°å¤©æ•° */
    66â†’  streak: number;
    67â†’
    68â†’  /** ä»Šæ—¥æ˜¯å¦å·²ç­¾åˆ° */
    69â†’  checkedIn: boolean;
    70â†’
    71â†’  /** èƒ½é‡å€¼ï¼ˆå¯é€‰ï¼Œ0-100ï¼‰ */
    72â†’  energy?: number;
    73â†’}
    74â†’```
    75â†’
    76â†’---
    77â†’
    78â†’### âš™ï¸ ä½¿ç”¨ç¤ºä¾‹
    79â†’
    80â†’```typescript
    81â†’import { AmbientStatusBar } from "@/components/chat/AmbientStatusBar";
    82â†’
    83â†’function MyComponent() {
    84â†’  const handleCheckIn = async () => {
    85â†’    await apiClient.post("/dashboard/checkin");
    86â†’    toast.success("ç­¾åˆ°æˆåŠŸï¼");
    87â†’  };
    88â†’
    89â†’  return (
    90â†’    <AmbientStatusBar
    91â†’      status={{
    92â†’        streak: 7,
    93â†’        checkedIn: false,
    94â†’        energy: 75,
    95â†’      }}
    96â†’      onCheckIn={handleCheckIn}
    97â†’      className="w-full"
    98â†’    />
    99â†’  );
   100â†’}
   101â†’```
   102â†’
   103â†’---
   104â†’
   105â†’### ğŸ¯ æ ¸å¿ƒç‰¹æ€§
   106â†’
   107â†’#### 1. ç«ç„°æ•°é‡åŠ¨æ€æ˜¾ç¤º
   108â†’æ ¹æ®è¿ç»­å¤©æ•°æ˜¾ç¤ºä¸åŒæ•°é‡çš„ç«ç„°ï¼š
   109â†’
   110â†’| è¿ç»­å¤©æ•° | ç«ç„°æ•°é‡ | ç¤ºä¾‹ |
   111â†’|---------|---------|------|
   112â†’| < 3 å¤© | 1 ä¸ª | ğŸ”¥ |
   113â†’| 3-6 å¤© | 2 ä¸ª | ğŸ”¥ğŸ”¥ |
   114â†’| 7-13 å¤© | 3 ä¸ª | ğŸ”¥ğŸ”¥ğŸ”¥ |
   115â†’| 14-29 å¤© | 4 ä¸ª | ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ |
   116â†’| â‰¥ 30 å¤© | 5 ä¸ª | ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ |
   117â†’
   118â†’**å®ç°ä»£ç **:
   119â†’```typescript
   120â†’const getFlameCount = (days: number) => {
   121â†’  if (days >= 30) return 5;
   122â†’  if (days >= 14) return 4;
   123â†’  if (days >= 7) return 3;
   124â†’  if (days >= 3) return 2;
   125â†’  return 1;
   126â†’};
   127â†’
   128â†’const flames = "ğŸ”¥".repeat(getFlameCount(streak));
   129â†’```
   130â†’
   131â†’---
   132â†’
   133â†’#### 2. ç­¾åˆ°æŒ‰é’®çŠ¶æ€ç®¡ç†
   134â†’**æœªç­¾åˆ°æ—¶**: æ˜¾ç¤º"å¼€å§‹ä»Šå¤©"æŒ‰é’®
   135â†’**ç­¾åˆ°ä¸­**: æ˜¾ç¤º"ç­¾åˆ°ä¸­..."ï¼ŒæŒ‰é’®ç¦ç”¨
   136â†’**å·²ç­¾åˆ°**: æŒ‰é’®éšè—ï¼Œæ˜¾ç¤º"âœ“ å·²ç­¾åˆ°"
   137â†’
   138â†’**å®ç°ä»£ç **:
   139â†’```typescript
   140â†’const [isCheckingIn, setIsCheckingIn] = useState(false);
   141â†’
   142â†’const handleCheckIn = useCallback(async () => {
   143â†’  if (status.checkedIn || isCheckingIn) return;
   144â†’
   145â†’  setIsCheckingIn(true);
   146â†’  try {
   147â†’    await onCheckIn();
   148â†’  } finally {
   149â†’    setIsCheckingIn(false);
   150â†’  }
   151â†’}, [onCheckIn, status.checkedIn, isCheckingIn]);
   152â†’```
   153â†’
   154â†’---
   155â†’
   156â†’#### 3. èƒ½é‡å€¼å¯é€‰æ˜¾ç¤º
   157â†’å¦‚æœ `energy` ä¸º `undefined`ï¼Œåˆ™ä¸æ˜¾ç¤ºèƒ½é‡æŒ‡æ ‡
   158â†’
   159â†’```typescript
   160â†’{energy !== undefined && (
   161â†’  <div className="flex items-center gap-1.5">
   162â†’    <span className="text-lg">ğŸ’ª</span>
   163â†’    <span className="text-sm font-medium">èƒ½é‡ {energy}%</span>
   164â†’  </div>
   165â†’)}
   166â†’```
   167â†’
   168â†’---
   169â†’
   170â†’### ğŸ¨ æ ·å¼ç³»ç»Ÿ
   171â†’
   172â†’ä½¿ç”¨ CSS å˜é‡ä¿æŒè®¾è®¡ç³»ç»Ÿä¸€è‡´ï¼š
   173â†’
   174â†’```typescript
   175â†’style={{
   176â†’  background: 'var(--bg-card)',
   177â†’  border: '1px solid var(--border-subtle)',
   178â†’}}
   179â†’```
   180â†’
   181â†’**é¢œè‰²æ˜ å°„**:
   182â†’- æ–‡æœ¬: `var(--text-secondary)` / `var(--text-tertiary)`
   183â†’- æˆåŠŸè‰²: `var(--color-success)`ï¼ˆå·²ç­¾åˆ°ï¼‰
   184â†’- ç¦ç”¨è‰²: `var(--text-disabled)`ï¼ˆæœªç­¾åˆ°ï¼‰
   185â†’- æŒ‰é’®æ¸å˜: `var(--accent-primary)` â†’ `var(--accent-secondary)`
   186â†’
   187â†’---
   188â†’
   189â†’### ğŸ“± å“åº”å¼è®¾è®¡
   190â†’
   191â†’**PC ç«¯**:
   192â†’- å·¦å³å¸ƒå±€ï¼Œç­¾åˆ°æŒ‰é’®å³å¯¹é½
   193â†’- æŒ‡æ ‡é¡¹é—´è· `gap-6`
   194â†’
   195â†’**ç§»åŠ¨ç«¯**:
   196â†’- å¯èƒ½éœ€è¦è°ƒæ•´é—´è·ä¸º `gap-3`
   197â†’- ç­¾åˆ°æŒ‰é’®é€‚é…å°å±å¹•
   198â†’
   199â†’---
   200â†’
   201â†’### â™¿ æ— éšœç¢æ”¯æŒ
   202â†’
   203â†’- âœ… æŒ‰é’®æœ‰æ˜ç¡® `disabled` çŠ¶æ€
   204â†’- âœ… é¢œè‰²å¯¹æ¯”åº¦ç¬¦åˆ WCAG AA æ ‡å‡†
   205â†’- âœ… å›¾æ ‡ + æ–‡å­—åŒé‡æç¤º
   206â†’
   207â†’---
   208â†’
   209â†’### ğŸ› å¸¸è§é—®é¢˜
   210â†’
   211â†’**Q1: ç­¾åˆ°åè¿ç»­å¤©æ•°æœªæ›´æ–°ï¼Ÿ**
   212â†’A: ç¡®ä¿ `onCheckIn` æˆåŠŸåé‡æ–°è·å– Dashboard æ•°æ®ï¼š
   213â†’```typescript
   214â†’const handleCheckIn = async () => {
   215â†’  await checkInApi();
   216â†’  await refetchDashboard();  // â† é‡æ–°è·å–æ•°æ®
   217â†’};
   218â†’```
   219â†’
   220â†’**Q2: ç«ç„°æ•°é‡æ˜¾ç¤ºé”™è¯¯ï¼Ÿ**
   221â†’A: æ£€æŸ¥ `streak` å€¼æ˜¯å¦æ­£ç¡®ä¼ é€’ï¼Œç¡®ä¿æ˜¯æ•°å­—ç±»å‹
   222â†’
   223â†’---
   224â†’
   225â†’## 2. LifecoachQuickView
   226â†’
   227â†’### ğŸ“ ç»„ä»¶è¯´æ˜
   228â†’
   229â†’**æ–‡ä»¶è·¯å¾„**: `apps/web/src/components/chat/LifecoachQuickView.tsx`
   230â†’
   231â†’**åŠŸèƒ½**: å¯å±•å¼€/æ”¶èµ·çš„ Lifecoach å¡ç‰‡ï¼ŒæŠ˜å æ—¶æ˜¾ç¤ºæ‘˜è¦ï¼Œå±•å¼€æ—¶æ˜¾ç¤ºå®Œæ•´å†…å®¹
   232â†’
   233â†’**è®¾è®¡ç†å¿µ**:
   234â†’- æŠ˜å çŠ¶æ€ï¼šå¿«é€Ÿæµè§ˆå…³é”®æŒ‡æ ‡
   235â†’- å±•å¼€çŠ¶æ€ï¼šæ·±åº¦æŸ¥çœ‹å’Œæ“ä½œ
   236â†’- åŸåœ°åˆ‡æ¢ï¼šä¿æŒä¸Šä¸‹æ–‡è¿è´¯
   237â†’
   238â†’---
   239â†’
   240â†’### ğŸ¨ è§†è§‰æ•ˆæœ
   241â†’
   242â†’**æŠ˜å çŠ¶æ€**:
   243â†’```
   244â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   245â†’â”‚  ğŸ§­ LIFECOACH                                      â–¼  â”‚
   246â†’â”‚  â­ æˆä¸ºæ›´å¥½çš„è‡ªå·± | ğŸ“Š æœˆåº¦ 60% | â˜€ï¸ æ æ† 2/3 | ... â”‚
   247â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   248â†’```
   249â†’
   250â†’**å±•å¼€çŠ¶æ€**:
   251â†’```
   252â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   253â†’â”‚  ğŸ§­ LIFECOACH                                      â–²  â”‚
   254â†’â”‚                                                        â”‚
   255â†’â”‚  â­ åŒ—ææ˜Ÿï¼šæˆä¸ºæ›´å¥½çš„è‡ªå·±                             â”‚
   256â†’â”‚                                                        â”‚
   257â†’â”‚  ğŸ“Š æœˆåº¦é¡¹ç›®ï¼šå¥åº·è®¡åˆ’                                 â”‚
   258â†’â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 60%                                 â”‚
   259â†’â”‚  å‰©ä½™ 10 å¤©                                            â”‚
   260â†’â”‚                                                        â”‚
   261â†’â”‚  â˜€ï¸ ä»Šæ—¥æ æ†                                           â”‚
   262â†’â”‚  â–¡ æ™¨é—´å†¥æƒ³                                            â”‚
   263â†’â”‚  âœ“ é˜…è¯»30åˆ†é’Ÿ                                          â”‚
   264â†’â”‚  â–¡ è¿åŠ¨1å°æ—¶                                           â”‚
   265â†’â”‚                                                        â”‚
   266â†’â”‚  ğŸ“… æœ¬å‘¨å¤§çŸ³å¤´                                         â”‚
   267â†’â”‚  âœ“ å®Œæˆé¡¹ç›®ææ¡ˆ (work)                                 â”‚
   268â†’â”‚  â–¡ å­¦ä¹ æ–°æŠ€èƒ½ (growth)                                 â”‚
   269â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   270â†’```
   271â†’
   272â†’---
   273â†’
   274â†’### ğŸ”§ Props å®šä¹‰
   275â†’
   276â†’```typescript
   277â†’interface LifecoachQuickViewProps {
   278â†’  /** Lifecoach æ•°æ® */
   279â†’  data: LifecoachData;
   280â†’
   281â†’  /** æ æ†æ‰“å‹¾å›è°ƒ */
   282â†’  onToggleLever: (leverId: string) => Promise<void>;
   283â†’
   284â†’  /** å¤§çŸ³å¤´æ‰“å‹¾å›è°ƒ */
   285â†’  onToggleRock: (rockId: string) => Promise<void>;
   286â†’
   287â†’  /** åŒ—ææ˜Ÿç‚¹å‡»å›è°ƒï¼ˆå¯é€‰ï¼‰ */
   288â†’  onClickNorthStar?: () => void;
   289â†’
   290â†’  /** è‡ªå®šä¹‰æ ·å¼ */
   291â†’  className?: string;
   292â†’}
   293â†’
   294â†’interface LifecoachData {
   295â†’  /** åŒ—ææ˜Ÿæ„¿æ™¯ */
   296â†’  northStar?: string;
   297â†’
   298â†’  /** æœˆåº¦é¡¹ç›® */
   299â†’  monthlyProject?: {
   300â†’    name: string;
   301â†’    progress: number;      // 0-100
   302â†’    daysRemaining: number;
   303â†’  };
   304â†’
   305â†’  /** ä»Šæ—¥æ æ† */
   306â†’  todayLevers: LeverItem[];
   307â†’
   308â†’  /** æœ¬å‘¨å¤§çŸ³å¤´ */
   309â†’  weekRocks: RockItem[];
   310â†’}
   311â†’
   312â†’interface LeverItem {
   313â†’  id: string;
   314â†’  text: string;
   315â†’  completed: boolean;
   316â†’}
   317â†’
   318â†’interface RockItem {
   319â†’  id: string;
   320â†’  text: string;
   321â†’  role: string;  // work, growth, health, etc.
   322â†’  completed: boolean;
   323â†’}
   324â†’```
   325â†’
   326â†’---
   327â†’
   328â†’### âš™ï¸ ä½¿ç”¨ç¤ºä¾‹
   329â†’
   330â†’```typescript
   331â†’import { LifecoachQuickView } from "@/components/chat/LifecoachQuickView";
   332â†’
   333â†’function MyComponent() {
   334â†’  const handleToggleLever = async (leverId: string) => {
   335â†’    await apiClient.patch(`/dashboard/lever/${leverId}`);
   336â†’    await refetchDashboard();
   337â†’  };
   338â†’
   339â†’  const handleToggleRock = async (rockId: string) => {
   340â†’    await apiClient.patch(`/dashboard/rock/${rockId}`);
   341â†’    await refetchDashboard();
   342â†’  };
   343â†’
   344â†’  const handleNorthStarClick = () => {
   345â†’    console.log("æŸ¥çœ‹åŒ—ææ˜Ÿè¯¦æƒ…");
   346â†’  };
   347â†’
   348â†’  return (
   349â†’    <LifecoachQuickView
   350â†’      data={{
   351â†’        northStar: "æˆä¸ºæ›´å¥½çš„è‡ªå·±",
   352â†’        monthlyProject: {
   353â†’          name: "å¥åº·è®¡åˆ’",
   354â†’          progress: 60,
   355â†’          daysRemaining: 10,
   356â†’        },
   357â†’        todayLevers: [
   358â†’          { id: "1", text: "æ™¨é—´å†¥æƒ³", completed: false },
   359â†’          { id: "2", text: "é˜…è¯»30åˆ†é’Ÿ", completed: true },
   360â†’        ],
   361â†’        weekRocks: [
   362â†’          { id: "1", text: "å®Œæˆé¡¹ç›®ææ¡ˆ", role: "work", completed: true },
   363â†’        ],
   364â†’      }}
   365â†’      onToggleLever={handleToggleLever}
   366â†’      onToggleRock={handleToggleRock}
   367â†’      onClickNorthStar={handleNorthStarClick}
   368â†’      className="w-full"
   369â†’    />
   370â†’  );
   371â†’}
   372â†’```
   373â†’
   374â†’---
   375â†’
   376â†’### ğŸ¯ æ ¸å¿ƒç‰¹æ€§
   377â†’
   378â†’#### 1. çŠ¶æ€åˆ‡æ¢
   379â†’ä½¿ç”¨ `useState` ç®¡ç†å±•å¼€/æ”¶èµ·çŠ¶æ€ï¼š
   380â†’
   381â†’```typescript
   382â†’const [isExpanded, setIsExpanded] = useState(false);
   383â†’```
   384â†’
   385â†’**æŠ˜å  â†’ å±•å¼€**: ç‚¹å‡»æ•´ä¸ªå¡ç‰‡
   386â†’**å±•å¼€ â†’ æŠ˜å **: ç‚¹å‡»å³ä¸Šè§’ `â–²` æŒ‰é’®
   387â†’
   388â†’---
   389â†’
   390â†’#### 2. å®Œæ•´å¡ç‰‡å¤ç”¨
   391â†’å±•å¼€çŠ¶æ€å¤ç”¨ `LifecoachCard` ç»„ä»¶ï¼š
   392â†’
   393â†’```typescript
   394â†’if (isExpanded) {
   395â†’  return (
   396â†’    <div className="relative">
   397â†’      <button onClick={() => setIsExpanded(false)} className="absolute top-4 right-4 z-10">
   398â†’        <ChevronUp />
   399â†’      </button>
   400â†’      <LifecoachCard
   401â†’        data={data}
   402â†’        onToggleLever={onToggleLever}
   403â†’        onToggleRock={onToggleRock}
   404â†’        onClickNorthStar={onClickNorthStar}
   405â†’      />
   406â†’    </div>
   407â†’  );
   408â†’}
   409â†’```
   410â†’
   411â†’---
   412â†’
   413â†’#### 3. æ‘˜è¦è®¡ç®—
   414â†’æŠ˜å çŠ¶æ€åŠ¨æ€è®¡ç®—å®Œæˆè¿›åº¦ï¼š
   415â†’
   416â†’```typescript
   417â†’const completedLevers = data.todayLevers.filter((l) => l.completed).length;
   418â†’const completedRocks = data.weekRocks.filter((r) => r.completed).length;
   419â†’const monthlyProgress = data.monthlyProject?.progress || 0;
   420â†’```
   421â†’
   422â†’---
   423â†’
   424â†’#### 4. å“åº”å¼æ‘˜è¦
   425â†’æ‘˜è¦æ–‡å­—è¿‡é•¿æ—¶è‡ªåŠ¨æˆªæ–­ï¼š
   426â†’
   427â†’```typescript
   428â†’<span className="truncate max-w-[200px]">
   429â†’  {data.northStar}
   430â†’</span>
   431â†’```
   432â†’
   433â†’---
   434â†’
   435â†’### ğŸ¨ æ ·å¼ç³»ç»Ÿ
   436â†’
   437â†’**æŠ˜å çŠ¶æ€**:
   438â†’- èƒŒæ™¯: `var(--bg-card)`
   439â†’- è¾¹æ¡†: `var(--border-subtle)`
   440â†’- Hover: `hover:shadow-md`ï¼ˆæç¤ºå¯ç‚¹å‡»ï¼‰
   441â†’
   442â†’**å±•å¼€çŠ¶æ€**:
   443â†’- ç›¸å¯¹å®šä½: `position: relative`
   444â†’- æ”¶èµ·æŒ‰é’®: `absolute top-4 right-4`
   445â†’- Z-index: `z-10`ï¼ˆç¡®ä¿æŒ‰é’®åœ¨æœ€ä¸Šå±‚ï¼‰
   446â†’
   447â†’---
   448â†’
   449â†’### ğŸ“± å“åº”å¼è®¾è®¡
   450â†’
   451â†’**PC ç«¯**:
   452â†’- æ‘˜è¦æ¨ªå‘æ’åˆ—: `flex flex-wrap gap-x-4`
   453â†’- æœ€å¤§å®½åº¦æ— é™åˆ¶
   454â†’
   455â†’**ç§»åŠ¨ç«¯**:
   456â†’- æ‘˜è¦è‡ªåŠ¨æ¢è¡Œ
   457â†’- æŒ‡æ ‡é¡¹é—´è·è°ƒæ•´ä¸º `gap-x-2`
   458â†’- åŒ—ææ˜Ÿæ–‡å­—æˆªæ–­å®½åº¦è°ƒæ•´
   459â†’
   460â†’---
   461â†’
   462â†’### â™¿ æ— éšœç¢æ”¯æŒ
   463â†’
   464â†’- âœ… æŒ‰é’®æœ‰æ˜ç¡® `aria-label`
   465â†’- âœ… å±•å¼€/æ”¶èµ·æœ‰è§†è§‰åé¦ˆï¼ˆå›¾æ ‡ â–¼/â–²ï¼‰
   466â†’- âœ… å¯é”®ç›˜æ“ä½œï¼ˆEnter/Spaceï¼‰
   467â†’
   468â†’---
   469â†’
   470â†’### ğŸ› å¸¸è§é—®é¢˜
   471â†’
   472â†’**Q1: å±•å¼€åç‚¹å‡»å¡ç‰‡å†…å®¹ä¼šæ”¶èµ·ï¼Ÿ**
   473â†’A: ç¡®ä¿æ”¶èµ·æŒ‰é’®ä½¿ç”¨ç»å¯¹å®šä½ï¼Œä¸ä¸å¡ç‰‡å†…å®¹é‡å 
   474â†’
   475â†’**Q2: æ‘˜è¦æ–‡å­—è¢«æˆªæ–­çœ‹ä¸å…¨ï¼Ÿ**
   476â†’A: è°ƒæ•´ `max-w-[200px]` æˆ–ä½¿ç”¨ tooltip æ˜¾ç¤ºå®Œæ•´æ–‡å­—
   477â†’
   478â†’**Q3: æ‰“å‹¾åçŠ¶æ€æœªæ›´æ–°ï¼Ÿ**
   479â†’A: ç¡®ä¿ `onToggleLever` æˆåŠŸåé‡æ–°è·å–æ•°æ®
   480â†’
   481â†’---
   482â†’
   483â†’## 3. ChatEmptyStateWithDashboard
   484â†’
   485â†’### ğŸ“ ç»„ä»¶è¯´æ˜
   486â†’
   487â†’**æ–‡ä»¶è·¯å¾„**: `apps/web/src/components/chat/ChatEmptyStateWithDashboard.tsx`
   488â†’
   489â†’**åŠŸèƒ½**: Chat ç©ºçŠ¶æ€å®¹å™¨ï¼Œæ•´åˆæ‰€æœ‰ Dashboard ç»„ä»¶
   490â†’
   491â†’**è®¾è®¡ç†å¿µ**:
   492â†’- å‚ç›´å¸ƒå±€ï¼Œå±…ä¸­æ˜¾ç¤º
   493â†’- ç»„ä»¶é¡ºåºï¼šDailyGreeting â†’ VibeGlyph â†’ AmbientStatusBar â†’ LifecoachQuickView â†’ MySkillsCarousel
   494â†’- å“åº”å¼é€‚é…ï¼Œç§»åŠ¨ç«¯å‹å¥½
   495â†’
   496â†’---
   497â†’
   498â†’### ğŸ¨ è§†è§‰æ•ˆæœ
   499â†’
   500â†’```
   501â†’â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   502â†’â”‚            [DailyGreeting]               â”‚
   503â†’â”‚  é—®å€™ã€æ—¥æœŸã€èŠ‚æ°”ã€è¿åŠ¿ã€ä»Šæ—¥ä¸€æ­¥       â”‚
   504â†’â”‚                                          â”‚
   505â†’â”‚            [VibeGlyph]                   â”‚
   506â†’â”‚  å‘¼å¸å…‰æ™• + è„‰å†²ç¯                       â”‚
   507â†’â”‚                                          â”‚
   508â†’â”‚          [AmbientStatusBar]              â”‚
   509â†’â”‚  è¿ç»­å¤©æ•° | èƒ½é‡ | ç­¾åˆ°                  â”‚
   510â†’â”‚                                          â”‚
   511â†’â”‚         [LifecoachQuickView]             â”‚
   512â†’â”‚  åŒ—ææ˜Ÿ | æœˆåº¦ | æ æ† | å¤§çŸ³å¤´           â”‚
   513â†’â”‚                                          â”‚
   514â†’â”‚          [MySkillsCarousel]              â”‚
   515â†’â”‚  Skills æ¨ªæ»‘å¡ç‰‡                         â”‚
   516â†’â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   517â†’```
   518â†’
   519â†’---
   520â†’
   521â†’### ğŸ”§ Props å®šä¹‰
   522â†’
   523â†’```typescript
   524â†’interface ChatEmptyStateWithDashboardProps {
   525â†’  /** å½“å‰ Skill */
   526â†’  skill: SkillType;
   527â†’
   528â†’  /** Dashboard æ•°æ® */
   529â†’  dashboardData?: DashboardDTO | null;
   530â†’
   531â†’  /** åŠ è½½çŠ¶æ€ */
   532â†’  isDashboardLoading?: boolean;
   533â†’
   534â†’  /** å¿«é€Ÿ Prompt å›è°ƒ */
   535â†’  onQuickPrompt?: (prompt: string) => void;
   536â†’
   537â†’  /** ç­¾åˆ°å›è°ƒ */
   538â†’  onCheckIn: () => Promise<void>;
   539â†’
   540â†’  /** æ æ†æ‰“å‹¾å›è°ƒ */
   541â†’  onToggleLever: (leverId: string) => Promise<void>;
   542â†’
   543â†’  /** å¤§çŸ³å¤´æ‰“å‹¾å›è°ƒ */
   544â†’  onToggleRock: (rockId: string) => Promise<void>;
   545â†’
   546â†’  /** DailyGreeting æ•°æ® */
   547â†’  dailyGreeting: DailyGreetingData;
   548â†’
   549â†’  /** è‡ªå®šä¹‰æ ·å¼ */
   550â†’  className?: string;
   551â†’}
   552â†’```
   553â†’
   554â†’---
   555â†’
   556â†’### âš™ï¸ ä½¿ç”¨ç¤ºä¾‹
   557â†’
   558â†’```typescript
   559â†’import { ChatEmptyStateWithDashboard } from "@/components/chat/ChatEmptyStateWithDashboard";
   560â†’
   561â†’function ChatContainer() {
   562â†’  const { dashboard, isLoading, checkIn, toggleLever, toggleRock } = useDashboard();
   563â†’  const dailyData = useDailyGreeting(skill);
   564â†’
   565â†’  const handleQuickPrompt = (prompt: string) => {
   566â†’    sendMessage(prompt);
   567â†’  };
   568â†’
   569â†’  return (
   570â†’    <div className="h-full">
   571â†’      {messages.length === 0 ? (
   572â†’        <ChatEmptyStateWithDashboard
   573â†’          skill="bazi"
   574â†’          dashboardData={dashboard}
   575â†’          isDashboardLoading={isLoading}
   576â†’          onQuickPrompt={handleQuickPrompt}
   577â†’          onCheckIn={checkIn}
   578â†’          onToggleLever={toggleLever}
   579â†’          onToggleRock={toggleRock}
   580â†’          dailyGreeting={{
   581â†’            greeting: dailyData.greeting,
   582â†’            solarTerm: dailyData.solarTerm,
   583â†’            // ... å…¶ä»–å­—æ®µ
   584â†’          }}
   585â†’        />
   586â†’      ) : (
   587â†’        <MessageList messages={messages} />
   588â†’      )}
   589â†’    </div>
   590â†’  );
   591â†’}
   592â†’```
   593â†’
   594â†’---
   595â†’
   596â†’### ğŸ¯ æ ¸å¿ƒç‰¹æ€§
   597â†’
   598â†’#### 1. Skills å¡ç‰‡ç‚¹å‡»æ˜ å°„
   599â†’ç‚¹å‡» Skills å¡ç‰‡è‡ªåŠ¨å‘é€é¢„è®¾ promptï¼š
   600â†’
   601â†’```typescript
   602â†’const handleSkillCardClick = useCallback(
   603â†’  (skillId: string) => {
   604â†’    const promptMap: Record<string, string> = {
   605â†’      bazi: "å¸®æˆ‘çœ‹çœ‹ä»Šæ—¥è¿åŠ¿",
   606â†’      zodiac: "æŸ¥çœ‹æˆ‘çš„æ˜Ÿç›˜è¿åŠ¿",
   607â†’      tarot: "å¸®æˆ‘æŠ½ä¸€å¼ å¡”ç½—ç‰Œ",
   608â†’      career: "åˆ†ææˆ‘çš„èŒä¸šå‘å±•",
   609â†’      lifecoach: "æŸ¥çœ‹æˆ‘çš„äººç”Ÿä»ªè¡¨ç›˜",
   610â†’    };
   611â†’    const prompt = promptMap[skillId] || `åˆ‡æ¢åˆ° ${skillId}`;
   612â†’    onQuickPrompt?.(prompt);
   613â†’  },
   614â†’  [onQuickPrompt]
   615â†’);
   616â†’```
   617â†’
   618â†’---
   619â†’
   620â†’#### 2. åŠ è½½çŠ¶æ€å¤„ç†
   621â†’Dashboard æ•°æ®åŠ è½½æ—¶æ˜¾ç¤ºéª¨æ¶å±ï¼š
   622â†’
   623â†’```typescript
   624â†’{isDashboardLoading ? (
   625â†’  <DashboardLoadingSkeleton />
   626â†’) : dashboardData ? (
   627â†’  <DashboardComponents />
   628â†’) : null}
   629â†’```
   630â†’
   631â†’**éª¨æ¶å±ç»„ä»¶**:
   632â†’```typescript
   633â†’function DashboardLoadingSkeleton() {
   634â†’  return (
   635â†’    <div className="w-full space-y-4">
   636â†’      <Skeleton className="h-16 w-full rounded-lg" />
   637â†’      <Skeleton className="h-24 w-full rounded-lg" />
   638â†’      <Skeleton className="h-32 w-full rounded-lg" />
   639â†’    </div>
   640â†’  );
   641â†’}
   642â†’```
   643â†’
   644â†’---
   645â†’
   646â†’#### 3. VibeGlyph åŠ¨æ•ˆ
   647â†’å±…ä¸­æ˜¾ç¤º VibeGlyphï¼Œå¸¦è„‰å†²ç¯å’Œå‘¼å¸å…‰æ™•ï¼š
   648â†’
   649â†’```typescript
   650â†’<div className="relative flex items-center justify-center">
   651â†’  {/* è„‰å†²ç¯ */}
   652â†’  <div className="absolute w-16 h-16 rounded-full border border-skill-primary/20 animate-pulse-slow" />
   653â†’  <div className="absolute w-24 h-24 rounded-full border border-skill-primary/10 animate-pulse-slower" />
   654â†’
   655â†’  {/* å‘¼å¸å…‰æ™• */}
   656â†’  <BreathAura skill={skill} size="sm" position="center" intensity="medium" className="opacity-40" />
   657â†’
   658â†’  {/* ä¸­å¿ƒå›¾æ ‡ */}
   659â†’  <VibeGlyph size="sm" skill={skill} showAura={true} animate={true} className="relative z-10" />
   660â†’</div>
   661â†’```
   662â†’
   663â†’---
   664â†’
   665â†’#### 4. æ¡ä»¶æ¸²æŸ“
   666â†’ä»…å½“æœ‰ Skills æ•°æ®æ—¶æ˜¾ç¤ºæ¨ªæ»‘å¡ç‰‡ï¼š
   667â†’
   668â†’```typescript
   669â†’{dashboardData.mySkills && dashboardData.mySkills.length > 0 && (
   670â†’  <div className="w-full">
   671â†’    <h3 className="text-sm font-semibold mb-3">æˆ‘çš„ Skills</h3>
   672â†’    <SkillCarousel skills={dashboardData.mySkills} onCardClick={handleSkillCardClick} />
   673â†’  </div>
   674â†’)}
   675â†’```
   676â†’
   677â†’---
   678â†’
   679â†’### ğŸ¨ æ ·å¼ç³»ç»Ÿ
   680â†’
   681â†’**å®¹å™¨å¸ƒå±€**:
   682â†’```typescript
   683â†’className="flex flex-col items-center w-full md:max-w-xl mx-auto px-4 py-6 space-y-6"
   684â†’```
   685â†’
   686â†’- `flex flex-col`: å‚ç›´å¸ƒå±€
   687â†’- `items-center`: æ°´å¹³å±…ä¸­
   688â†’- `md:max-w-xl`: PC ç«¯æœ€å¤§å®½åº¦ 672px
   689â†’- `mx-auto`: å·¦å³å±…ä¸­
   690â†’- `space-y-6`: ç»„ä»¶é—´è· 24px
   691â†’
   692â†’---
   693â†’
   694â†’### ğŸ“± å“åº”å¼è®¾è®¡
   695â†’
   696â†’**PC ç«¯** (â‰¥768px):
   697â†’- æœ€å¤§å®½åº¦: `672px`
   698â†’- ç»„ä»¶é—´è·: `24px`
   699â†’- æ°´å¹³å†…è¾¹è·: `16px`
   700â†’
   701â†’**ç§»åŠ¨ç«¯** (<768px):
   702â†’- å…¨å®½æ˜¾ç¤º
   703â†’- ç»„ä»¶é—´è·: `24px`ï¼ˆä¿æŒä¸å˜ï¼‰
   704â†’- æ°´å¹³å†…è¾¹è·: `16px`
   705â†’
   706â†’---
   707â†’
   708â†’### â™¿ æ— éšœç¢æ”¯æŒ
   709â†’
   710â†’- âœ… è¯­ä¹‰åŒ– HTML ç»“æ„
   711â†’- âœ… æ ‡é¢˜å±‚çº§æ­£ç¡®ï¼ˆh3ï¼‰
   712â†’- âœ… é¢œè‰²å¯¹æ¯”åº¦ç¬¦åˆæ ‡å‡†
   713â†’- âœ… å¯é”®ç›˜å¯¼èˆª
   714â†’
   715â†’---
   716â†’
   717â†’### ğŸ› å¸¸è§é—®é¢˜
   718â†’
   719â†’**Q1: Dashboard æ•°æ®æœªæ˜¾ç¤ºï¼Ÿ**
   720â†’A: æ£€æŸ¥ `dashboardData` æ˜¯å¦æ­£ç¡®ä¼ é€’ï¼Œç¡®ä¿ä¸æ˜¯ `null` æˆ– `undefined`
   721â†’
   722â†’**Q2: Skills å¡ç‰‡ç‚¹å‡»æ— ååº”ï¼Ÿ**
   723â†’A: ç¡®ä¿ `onQuickPrompt` å›è°ƒå·²æ­£ç¡®ä¼ é€’
   724â†’
   725â†’**Q3: ç»„ä»¶é—´è·è¿‡å¤§ï¼Ÿ**
   726â†’A: è°ƒæ•´ `space-y-6` ä¸ºæ›´å°çš„å€¼ï¼ˆå¦‚ `space-y-4`ï¼‰
   727â†’
   728â†’---
   729â†’
   730â†’## ğŸ“Š ç»„ä»¶å¯¹æ¯”
   731â†’
   732â†’| ç‰¹æ€§ | AmbientStatusBar | LifecoachQuickView | ChatEmptyStateWithDashboard |
   733â†’|------|-----------------|--------------------|-----------------------------|
   734â†’| **ç”¨é€”** | çŠ¶æ€å±•ç¤º + ç­¾åˆ° | Lifecoach æ‘˜è¦ + è¯¦æƒ… | æ•´åˆå®¹å™¨ |
   735â†’| **äº¤äº’** | ç­¾åˆ°æŒ‰é’® | å±•å¼€/æ”¶èµ· + æ‰“å‹¾ | Skills ç‚¹å‡» |
   736â†’| **çŠ¶æ€** | ç®€å• | åŒçŠ¶æ€åˆ‡æ¢ | å¤æ‚ï¼ˆå­ç»„ä»¶èšåˆï¼‰ |
   737â†’| **æ•°æ®ä¾èµ–** | StatusData | LifecoachData | DashboardDTO + DailyGreeting |
   738â†’| **å¤æ‚åº¦** | ä½ | ä¸­ | é«˜ |
   739â†’
   740â†’---
   741â†’
   742â†’## ğŸ”— ç»„ä»¶å…³ç³»å›¾
   743â†’
   744â†’```
   745â†’ChatEmptyStateWithDashboard (å®¹å™¨)
   746â†’â”œâ”€ DailyGreeting (ä¿ç•™åŸç»„ä»¶)
   747â†’â”œâ”€ VibeGlyph (ä¿ç•™åŸç»„ä»¶)
   748â†’â”œâ”€ AmbientStatusBar (æ–°ç»„ä»¶)
   749â†’â”‚  â””â”€ ä½¿ç”¨ StatusData
   750â†’â”œâ”€ LifecoachQuickView (æ–°ç»„ä»¶)
   751â†’â”‚  â”œâ”€ æŠ˜å çŠ¶æ€: è‡ªå®šä¹‰æ‘˜è¦
   752â†’â”‚  â””â”€ å±•å¼€çŠ¶æ€: å¤ç”¨ LifecoachCard
   753â†’â””â”€ MySkillsCarousel (å¤ç”¨ Dashboard ç»„ä»¶)
   754â†’   â””â”€ ç‚¹å‡»å‘é€é¢„è®¾ prompt
   755â†’```
   756â†’
   757â†’---
   758â†’
   759â†’## ğŸ› ï¸ ç»´æŠ¤å»ºè®®
   760â†’
   761â†’### æ·»åŠ æ–°ç»„ä»¶
   762â†’1. åœ¨ `ChatEmptyStateWithDashboard` ä¸­æ·»åŠ æ¸²æŸ“é€»è¾‘
   763â†’2. æ›´æ–° `DashboardDTO` ç±»å‹å®šä¹‰
   764â†’3. ä¼ é€’å¿…è¦çš„ props å’Œå›è°ƒ
   765â†’
   766â†’### ä¿®æ”¹äº¤äº’
   767â†’1. åœ¨å¯¹åº”ç»„ä»¶ä¸­ä¿®æ”¹å›è°ƒé€»è¾‘
   768â†’2. æ›´æ–°çˆ¶ç»„ä»¶çš„ prop ä¼ é€’
   769â†’3. æ›´æ–°æ–‡æ¡£å’Œæµ‹è¯•ç”¨ä¾‹
   770â†’
   771â†’### æ€§èƒ½ä¼˜åŒ–
   772â†’1. ä½¿ç”¨ `memo` åŒ…è£¹ç»„ä»¶
   773â†’2. ä½¿ç”¨ `useCallback` ç¼“å­˜å›è°ƒ
   774â†’3. ä½¿ç”¨ `useMemo` ç¼“å­˜è®¡ç®—å€¼
   775â†’
   776â†’---
   777â†’
   778â†’**ç»„ä»¶æ–‡æ¡£å®Œæˆ**
   779â†’
   780â†’ç»´æŠ¤è€…: Claude Sonnet 4.5
   781â†’åˆ›å»ºæ—¥æœŸ: 2026-01-21
   782â†’

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
