     1→# VibeLife 完整系统架构设计文档
     2→## The Living Companion Ecosystem
     3→
     4→**Version**: 1.0  
     5→**Date**: January 2026  
     6→**Domain**: vibelife.app
     7→
     8→---
     9→
    10→# 第一部分：战略架构总览
    11→
    12→## 1.1 核心战略定位
    13→
    14→```
    15→╔═══════════════════════════════════════════════════════════════════════════════╗
    16→║                                                                               ║
    17→║                              VIBELIFE                                         ║
    18→║                     THE LIVING COMPANION ECOSYSTEM                            ║
    19→║                                                                               ║
    20→║   ─────────────────────────────────────────────────────────────────────────   ║
    21→║                                                                               ║
    22→║   "每个人都值得被深度理解，每种成长都需要专业陪伴"                             ║
    23→║                                                                               ║
    24→║   ─────────────────────────────────────────────────────────────────────────   ║
    25→║                                                                               ║
    26→║   战略路径：                                                                  ║
    27→║                                                                               ║
    28→║   Phase 1: SKILL CONSTELLATION                                                ║
    29→║   ┌─────────────────────────────────────────────────────────────────────────┐ ║
    30→║   │                                                                         │ ║
    31→║   │    ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐    │ ║
    32→║   │    │  ASTRA  │  │  BAZI   │  │  MBTI   │  │ ATTACH  │  │ CAREER  │    │ ║
    33→║   │    │ .vibe   │  │ .vibe   │  │ .vibe   │  │ .vibe   │  │ .vibe   │    │ ║
    34→║   │    │ life.app│  │ life.app│  │ life.app│  │ life.app│  │ life.app│    │ ║
    35→║   │    └────┬────┘  └────┬────┘  └────┬────┘  └────┬────┘  └────┬────┘    │ ║
    36→║   │         │            │            │            │            │          │ ║
    37→║   │         └────────────┴─────┬──────┴────────────┴────────────┘          │ ║
    38→║   │                            │                                           │ ║
    39→║   │                   ┌────────▼────────┐                                  │ ║
    40→║   │                   │   VIBE ENGINE   │                                  │ ║
    41→║   │                   │   统一智能引擎   │                                  │ ║
    42→║   │                   └────────┬────────┘                                  │ ║
    43→║   │                            │                                           │ ║
    44→║   │                   ┌────────▼────────┐                                  │ ║
    45→║   │                   │    VIBE ID      │                                  │ ║
    46→║   │                   │   统一身份系统   │                                  │ ║
    47→║   │                   └─────────────────┘                                  │ ║
    48→║   │                                                                         │ ║
    49→║   │   "先去中心化做流量和能力验证"                                          │ ║
    50→║   └─────────────────────────────────────────────────────────────────────────┘ ║
    51→║                                                                               ║
    52→║   Phase 2: VIBELIFE CONSTELLATION HUB                                         ║
    53→║   ┌─────────────────────────────────────────────────────────────────────────┐ ║
    54→║   │                                                                         │ ║
    55→║   │                    ┌─────────────────────────┐                          │ ║
    56→║   │                    │                         │                          │ ║
    57→║   │                    │     VIBELIFE.APP        │                          │ ║
    58→║   │                    │     统一 AI Agent       │                          │ ║
    59→║   │                    │     Vibe Persona        │                          │ ║
    60→║   │                    │                         │                          │ ║
    61→║   │                    └───────────┬─────────────┘                          │ ║
    62→║   │                                │                                        │ ║
    63→║   │      ┌─────────┬─────────┬─────┴─────┬─────────┬─────────┐             │ ║
    64→║   │      ▼         ▼         ▼           ▼         ▼         ▼             │ ║
    65→║   │   [Astra]  [BaZi]    [MBTI]    [Attach]  [Career]   [...]             │ ║
    66→║   │                                                                         │ ║
    67→║   │   "再中心化做生态和长期留存"                                            │ ║
    68→║   └─────────────────────────────────────────────────────────────────────────┘ ║
    69→║                                                                               ║
    70→╚═══════════════════════════════════════════════════════════════════════════════╝
    71→```
    72→
    73→## 1.2 系统架构全景图
    74→
    75→```
    76→╔═══════════════════════════════════════════════════════════════════════════════╗
    77→║                                                                               ║
    78→║                    VIBELIFE SYSTEM ARCHITECTURE                               ║
    79→║                                                                               ║
    80→╠═══════════════════════════════════════════════════════════════════════════════╣
    81→║                                                                               ║
    82→║   ┌─────────────────────────────────────────────────────────────────────────┐ ║
    83→║   │                                                                         │ ║
    84→║   │   L1: SKILL CONSTELLATION LAYER (独立站群)                              │ ║
    85→║   │   ═══════════════════════════════════════════════════════════════════   │ ║
    86→║   │                                                                         │ ║
    87→║   │   ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐         │ ║
    88→║   │   │  ASTRA  │ │  BAZI   │ │  MBTI   │ │ ATTACH  │ │ CAREER  │         │ ║
    89→║   │   │ 星座占星 │ │ 八字命理 │ │ 人格测评 │ │ 依恋分析 │ │ 职业发展 │         │ ║
    90→║   │   │         │ │         │ │         │ │         │ │         │         │ ║
    91→║   │   │ astra.  │ │ bazi.   │ │ mbti.   │ │ attach. │ │ career. │         │ ║
    92→║   │   │ vibelife│ │ vibelife│ │ vibelife│ │ vibelife│ │ vibelife│         │ ║
    93→║   │   │ .app    │ │ .app    │ │ .app    │ │ .app    │ │ .app    │         │ ║
    94→║   │   └────┬────┘ └────┬────┘ └────┬────┘ └────┬────┘ └────┬────┘         │ ║
    95→║   │        │           │           │           │           │              │ ║
    96→║   │        └───────────┴───────────┴───────────┴───────────┘              │ ║
    97→║   │                               │                                        │ ║
    98→║   │   统一模板引擎 │ 共享组件库 │ 一致用户体验 │ 统一商业化                │ ║
    99→║   │                                                                         │ ║
   100→║   └─────────────────────────────────┬───────────────────────────────────────┘ ║
   101→║                                     │                                         ║
   102→║                                     ▼                                         ║
   103→║   ┌─────────────────────────────────────────────────────────────────────────┐ ║
   104→║   │                                                                         │ ║
   105→║   │   L2: EXPERIENCE LAYER (体验标准层)                                     │ ║
   106→║   │   ═══════════════════════════════════════════════════════════════════   │ ║
   107→║   │                                                                         │ ║
   108→║   │   ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐   │ ║
   109→║   │   │ THE LANDING │  │   STREAM    │  │  INSIGHT    │  │  JOURNEY    │   │ ║
   110→║   │   │  零摩擦入口  │  │  对话之流   │  │  洞察卡片   │  │  成长轨迹   │   │ ║
   111→║   │   │             │  │             │  │             │  │             │   │ ║
   112→║   │   │ • 即问即答   │  │ • 沉浸对话  │  │ • 可视化   │  │ • 长期追踪  │   │ ║
   113→║   │   │ • 渐进注册   │  │ • 主动关怀  │  │ • 深度解读  │  │ • 演化记录  │   │ ║
   114→║   │   │ • 价值前置   │  │ • 情绪感知  │  │ • 行动建议  │  │ • 个人成长  │   │ ║
   115→║   │   └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘   │ ║
   116→║   │                                                                         │ ║
   117→║   │   INSIGHT → INTERACT → EVOLVE → EDUCATE                                 │ ║
   118→║   │   看见      陪伴        演化      觉知                                   │ ║
   119→║   │                                                                         │ ║
   120→║   └─────────────────────────────────┬───────────────────────────────────────┘ ║
   121→║                                     │                                         ║
   122→║                                     ▼                                         ║
   123→║   ┌─────────────────────────────────────────────────────────────────────────┐ ║
   124→║   │                                                                         │ ║
   125→║   │   L3: SKILL AGENT LAYER (智能代理层)                                    │ ║
   126→║   │   ═══════════════════════════════════════════════════════════════════   │ ║
   127→║   │                                                                         │ ║
   128→║   │   ┌─────────────────────────────────────────────────────────────────┐   │ ║
   129→║   │   │                     SKILL AGENT RUNTIME                         │   │ ║
   130→║   │   │                                                                 │   │ ║
   131→║   │   │  ┌───────────┐  ┌───────────┐  ┌───────────┐  ┌───────────┐   │   │ ║
   132→║   │   │  │  PERSONA  │  │  SKILL    │  │  TOOL     │  │  CONTEXT  │   │   │ ║
   133→║   │   │  │  ENGINE   │  │  ROUTER   │  │  EXECUTOR │  │  MANAGER  │   │   │ ║
   134→║   │   │  │           │  │           │  │           │  │           │   │   │ ║
   135→║   │   │  │ • 角色人设 │  │ • 意图识别 │  │ • 函数调用 │  │ • 上下文   │   │   │ ║
   136→║   │   │  │ • 风格适配 │  │ • 流程编排 │  │ • 计算执行 │  │ • 记忆管理 │   │   │ ║
   137→║   │   │  │ • 情绪感知 │  │ • 多轮对话 │  │ • 结果整合 │  │ • 会话状态 │   │   │ ║
   138→║   │   │  └───────────┘  └───────────┘  └───────────┘  └───────────┘   │   │ ║
   139→║   │   │                                                                 │   │ ║
   140→║   │   └─────────────────────────────────────────────────────────────────┘   │ ║
   141→║   │                                                                         │ ║
   142→║   └─────────────────────────────────┬───────────────────────────────────────┘ ║
   143→║                                     │                                         ║
   144→║                                     ▼                                         ║
   145→║   ┌─────────────────────────────────────────────────────────────────────────┐ ║
   146→║   │                                                                         │ ║
   147→║   │   L4: KNOWLEDGE LAYER (知识引擎层)                                      │ ║
   148→║   │   ═══════════════════════════════════════════════════════════════════   │ ║
   149→║   │                                                                         │ ║
   150→║   │   ┌─────────────────────────────────────────────────────────────────┐   │ ║
   151→║   │   │                    KNOWLEDGE ENGINE                             │   │ ║
   152→║   │   │                                                                 │   │ ║
   153→║   │   │  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐         │   │ ║
   154→║   │   │  │  KNOWLEDGE  │    │   HYBRID    │    │  KNOWLEDGE  │         │   │ ║
   155→║   │   │  │  PIPELINE   │───▶│  RETRIEVAL  │───▶│   GRADER    │         │   │ ║
   156→║   │   │  │             │    │             │    │             │         │   │ ║
   157→║   │   │  │ • 知识采集   │    │ • 向量检索  │    │ • 相关性评估 │         │   │ ║
   158→║   │   │  │ • 结构化     │    │ • 关键词    │    │ • 质量打分   │         │   │ ║
   159→║   │   │  │ • 嵌入索引   │    │ • 图遍历    │    │ • 重排序     │         │   │ ║
   160→║   │   │  └─────────────┘    └─────────────┘    └─────────────┘         │   │ ║
   161→║   │   │                                                                 │   │ ║
   162→║   │   │  ┌────────────────────────────────────────────────────────┐    │   │ ║
   163→║   │   │  │              SKILL KNOWLEDGE STORES                     │    │   │ ║
   164→║   │   │  │                                                         │    │   │ ║
   165→║   │   │  │  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐       │    │   │ ║
   166→║   │   │  │  │  ASTRA  │ │  BAZI   │ │  MBTI   │ │ ATTACH  │  ...  │    │   │ ║
   167→║   │   │  │  │   KB    │ │   KB    │ │   KB    │ │   KB    │       │    │   │ ║
   168→║   │   │  │  └─────────┘ └─────────┘ └─────────┘ └─────────┘       │    │   │ ║
   169→║   │   │  └────────────────────────────────────────────────────────┘    │   │ ║
   170→║   │   │                                                                 │   │ ║
   171→║   │   └─────────────────────────────────────────────────────────────────┘   │ ║
   172→║   │                                                                         │ ║
   173→║   └─────────────────────────────────┬───────────────────────────────────────┘ ║
   174→║                                     │                                         ║
   175→║                                     ▼                                         ║
   176→║   ┌─────────────────────────────────────────────────────────────────────────┐ ║
   177→║   │                                                                         │ ║
   178→║   │   L5: VIBE ENGINE (核心智能引擎)                                        │ ║
   179→║   │   ═══════════════════════════════════════════════════════════════════   │ ║
   180→║   │                                                                         │ ║
   181→║   │   ┌─────────────────────────────────────────────────────────────────┐   │ ║
   182→║   │   │                                                                 │   │ ║
   183→║   │   │  ┌───────────┐  ┌───────────┐  ┌───────────┐  ┌───────────┐   │   │ ║
   184→║   │   │  │    LLM    │  │  EMOTION  │  │  PATTERN  │  │  USER     │   │   │ ║
   185→║   │   │  │ ORCHESTR. │  │  SENSING  │  │ DETECTION │  │  MODEL    │   │   │ ║
   186→║   │   │  └───────────┘  └───────────┘  └───────────┘  └───────────┘   │   │ ║
   187→║   │   │                                                                 │   │ ║
   188→║   │   │  ┌───────────┐  ┌───────────┐  ┌───────────┐  ┌───────────┐   │   │ ║
   189→║   │   │  │ PROACTIVE │  │  INSIGHT  │  │   VIBE    │  │  GROWTH   │   │   │ ║
   190→║   │   │  │   AGENT   │  │ GENERATOR │  │   SCORE   │  │  TRACKER  │   │   │ ║
   191→║   │   │  └───────────┘  └───────────┘  └───────────┘  └───────────┘   │   │ ║
   192→║   │   │                                                                 │   │ ║
   193→║   │   └─────────────────────────────────────────────────────────────────┘   │ ║
   194→║   │                                                                         │ ║
   195→║   └─────────────────────────────────┬───────────────────────────────────────┘ ║
   196→║                                     │                                         ║
   197→║                                     ▼                                         ║
   198→║   ┌─────────────────────────────────────────────────────────────────────────┐ ║
   199→║   │                                                                         │ ║
   200→║   │   L6: IDENTITY & DATA LAYER (身份与数据层)                              │ ║

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
