     1→"use client";
     2→
     3→import { ButtonHTMLAttributes, forwardRef, memo } from "react";
     4→import { cn } from "@/lib/utils";
     5→
     6→// ═══════════════════════════════════════════════════════════════════════════
     7→// Button - v7.1 Linear 风格设计系统
     8→// 克制、精致、流畅 + Spring 动效
     9→// Vercel rule: rerender-memo
    10→// ═══════════════════════════════════════════════════════════════════════════
    11→
    12→export interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {
    13→  variant?: "primary" | "secondary" | "ghost" | "danger" | "premium";
    14→  size?: "sm" | "md" | "lg";
    15→  isLoading?: boolean;
    16→}
    17→
    18→export const Button = memo(forwardRef<HTMLButtonElement, ButtonProps>(
    19→  (
    20→    {
    21→      className,
    22→      variant = "primary",
    23→      size = "md",
    24→      isLoading,
    25→      children,
    26→      disabled,
    27→      ...props
    28→    },
    29→    ref
    30→  ) => {
    31→    const baseStyles = cn(
    32→      "inline-flex items-center justify-center gap-2",
    33→      "font-sans font-medium",
    34→      "rounded-lg",
    35→      "transition-all duration-fast ease-out-expo",
    36→      "focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-accent",
    37→      "disabled:pointer-events-none disabled:opacity-50",
    38→      // v7.1 Spring 动效
    39→      "active:scale-[0.97] hover:scale-[1.01]"
    40→    );
    41→
    42→    const variants = {
    43→      // Primary: v7.1 高级灰棕
    44→      primary: cn(
    45→        "bg-accent-primary text-text-inverse",
    46→        "hover:bg-accent-hover",
    47→        "shadow-card hover:shadow-card-hover"
    48→      ),
    49→      // Secondary: 无边框设计 + 多层阴影
    50→      secondary: cn(
    51→        "bg-bg-card text-text-primary",
    52→        "shadow-card",
    53→        "hover:bg-bg-card-hover hover:shadow-card-hover"
    54→      ),
    55→      // Ghost: 透明背景
    56→      ghost: cn(
    57→        "bg-transparent text-text-secondary",
    58→        "hover:bg-bg-secondary hover:text-text-primary"
    59→      ),
    60→      // Danger: 危险操作
    61→      danger: cn(
    62→        "bg-error text-text-inverse",
    63→        "hover:bg-error/90",
    64→        "shadow-card"
    65→      ),
    66→      // Premium: 金色高级感
    67→      premium: cn(
    68→        "bg-gradient-to-r from-gold-600 to-gold-500 text-white",
    69→        "hover:from-gold-700 hover:to-gold-600",
    70→        "shadow-card hover:shadow-card-hover"
    71→      ),
    72→    };
    73→
    74→    const sizes = {
    75→      sm: "px-3 py-1.5 text-sm h-8",
    76→      md: "px-4 py-2 text-base h-10",
    77→      lg: "px-6 py-3 text-lg h-12",
    78→    };
    79→
    80→    return (
    81→      <button
    82→        ref={ref}
    83→        className={cn(
    84→          baseStyles,
    85→          variants[variant],
    86→          sizes[size],
    87→          className
    88→        )}
    89→        disabled={disabled || isLoading}
    90→        {...props}
    91→      >
    92→        {isLoading && (
    93→          <svg
    94→            className="animate-spin h-4 w-4"
    95→            fill="none"
    96→            viewBox="0 0 24 24"
    97→          >
    98→            <circle
    99→              className="opacity-25"
   100→              cx="12"
   101→              cy="12"
   102→              r="10"
   103→              stroke="currentColor"
   104→              strokeWidth="4"
   105→            />
   106→            <path
   107→              className="opacity-75"
   108→              fill="currentColor"
   109→              d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"
   110→            />
   111→          </svg>
   112→        )}
   113→        {children}
   114→      </button>
   115→    );
   116→  }
   117→));
   118→
   119→Button.displayName = "Button";
   120→
   121→// ═══════════════════════════════════════════════════════════════════════════
   122→// IconButton - 图标按钮
   123→// ═══════════════════════════════════════════════════════════════════════════
   124→
   125→export interface IconButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {
   126→  variant?: "primary" | "secondary" | "ghost";
   127→  size?: "sm" | "md" | "lg";
   128→}
   129→
   130→export const IconButton = memo(forwardRef<HTMLButtonElement, IconButtonProps>(
   131→  ({ className, variant = "ghost", size = "md", children, ...props }, ref) => {
   132→    const variants = {
   133→      primary: "bg-accent-primary text-text-inverse hover:bg-accent-hover shadow-card",
   134→      secondary: "bg-bg-card text-text-primary shadow-card hover:bg-bg-card-hover hover:shadow-card-hover",
   135→      ghost: "text-text-secondary hover:text-text-primary hover:bg-bg-secondary",
   136→    };
   137→
   138→    const sizes = {
   139→      sm: "w-8 h-8",
   140→      md: "w-10 h-10",
   141→      lg: "w-12 h-12",
   142→    };
   143→
   144→    return (
   145→      <button
   146→        ref={ref}
   147→        className={cn(
   148→          "inline-flex items-center justify-center rounded-lg",
   149→          "transition-all duration-fast ease-out-expo",
   150→          "focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent",
   151→          "disabled:pointer-events-none disabled:opacity-50",
   152→          "active:scale-95 hover:scale-105",
   153→          variants[variant],
   154→          sizes[size],
   155→          className
   156→        )}
   157→        {...props}
   158→      >
   159→        {children}
   160→      </button>
   161→    );
   162→  }
   163→));
   164→
   165→IconButton.displayName = "IconButton";
   166→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
