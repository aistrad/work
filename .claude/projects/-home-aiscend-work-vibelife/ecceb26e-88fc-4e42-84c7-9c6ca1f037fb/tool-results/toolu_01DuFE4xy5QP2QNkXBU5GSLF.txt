# Web Interface Guidelines - Rules Extraction

## Accessibility
- **Icon-only buttons**: Require `aria-label`
- **Form controls**: Need `<label>` or `aria-label`
- **Interactive elements**: Must support keyboard handlers (`onKeyDown`/`onKeyUp`)
- **Semantic HTML**: Use `<button>` for actions, `<a>`/`<Link>` for navigation (avoid `<div onClick>`)
- **Images**: Require `alt` text (or `alt=""` if decorative)
- **Decorative icons**: Need `aria-hidden="true"`
- **Async updates**: Use `aria-live="polite"` for toasts/validation
- **Headings**: Maintain hierarchy `<h1>`–`<h6>`; include skip link
- **Heading anchors**: Add `scroll-margin-top`

## Focus States
- **Visible focus**: Implement `focus-visible:ring-*` or equivalent
- **Never remove focus**: Avoid `outline-none` without replacement
- **Use `:focus-visible`**: Prevents focus ring on click
- **Compound controls**: Group focus with `:focus-within`

## Forms
- **Input attributes**: Require `autocomplete`, meaningful `name`, correct `type` (`email`, `tel`, `url`, `number`)
- **Paste prevention**: Never block paste with `onPaste` + `preventDefault`
- **Clickable labels**: Use `htmlFor` or wrapping control
- **Spellcheck**: Disable on emails/codes/usernames (`spellCheck={false}`)
- **Checkboxes/radios**: Single hit target shared by label + control
- **Submit button**: Stays enabled until request; spinner during submission
- **Error handling**: Place errors inline; focus first on submit
- **Placeholders**: End with `…` showing example pattern
- **Navigation safety**: Warn before leaving with unsaved changes

## Animation
- **Reduced motion**: Honor `prefers-reduced-motion` preference
- **Compositor-friendly**: Animate only `transform`/`opacity`
- **Property lists**: Never use `transition: all`
- **SVG transforms**: Apply to `<g>` wrapper with proper `transform-origin`
- **Interruptible**: Respond to user input during animation

## Typography
- **Ellipsis**: Use `…` not `...`
- **Quotes**: Curly quotes `"` `"` not straight `"`
- **Spacing**: Non-breaking spaces in measurements/shortcuts
- **Loading states**: End with `…` ("Loading…", "Saving…")
- **Numbers**: Apply `font-variant-numeric: tabular-nums`
- **Headings**: Use `text-wrap: balance` or `text-pretty`

## Content Handling
- **Long text**: Truncate with `truncate`, `line-clamp-*`, or `break-words`
- **Flex children**: Add `min-w-0` for text truncation
- **Empty states**: Handle empty strings/arrays properly
- **UGC**: Anticipate short, average, very long inputs

## Images
- **Dimensions**: Explicit `width`/`height` (prevents CLS)
- **Below-fold**: Use `loading="lazy"`
- **Critical images**: Add `priority` or `fetchpriority="high"`

## Performance
- **Large lists**: Virtualize lists >50 items
- **Layout reads**: Avoid in render (`getBoundingClientRect`, `offsetHeight`)
- **Batch operations**: Group DOM reads/writes
- **Inputs**: Prefer uncontrolled; controlled must be cheap per keystroke
- **Preconnect**: Add `<link rel="preconnect">` for CDNs
- **Fonts**: Critical fonts use `preload` with `font-display: swap`

## Navigation & State
- **URL state**: Filters, tabs, pagination, panels in query params
- **Links**: Use `<a>`/`<Link>` (supports Cmd/Ctrl+click)
- **Deep-linking**: Sync stateful UI to URL
- **Destructive actions**: Require confirmation or undo window

## Touch & Interaction
- **Touch delay**: Set `touch-action: manipulation`
- **Tap highlight**: Define `-webkit-tap-highlight-color` intentionally
- **Modals**: Use `overscroll-behavior: contain`
- **Drag**: Disable text selection, add `inert` to dragged elements
- **AutoFocus**: Use sparingly, desktop-only

## Safe Areas & Layout
- **Notches**: Use `env(safe-area-inset-*)`
- **Scrollbars**: Manage `overflow-x-hidden`
- **Layout**: Prefer flexbox/grid over JS measurement

## Dark Mode & Theming
- **Color scheme**: Set `color-scheme: dark` on `<html>`
- **Theme color**: `<meta name="theme-color">` matches background
- **Native select**: Explicit `background-color` and `color`

## Locale & i18n
- **Dates/times**: Use `Intl.DateTimeFormat`
- **Numbers/currency**: Use `Intl.NumberFormat`
- **Language detection**: Via `Accept-Language`/`navigator.languages`

## Hydration Safety
- **Controlled inputs**: Paired with `onChange` (or use `defaultValue`)
- **Date rendering**: Guard against server/client mismatches
- **Suppression**: Use `suppressHydrationWarning` sparingly

## Hover & Interactive States
- **Visual feedback**: Buttons/links need `hover:` state
- **Contrast**: Interactive states more prominent than resting state

## Content & Copy
- **Voice**: Active voice preferred
- **Capitalization**: Title Case for headings/buttons
- **Numbers**: Use numerals ("8" not "eight")
- **Button labels**: Specific ("Save API Key" not "Continue")
- **Error messages**: Include fix/next step
- **Perspective**: Second person; avoid first person

## Anti-patterns (Flag These)
- Zoom disabling via viewport meta
- Paste prevention
- `transition: all`
- `outline-none` without replacement
- Inline `onClick` navigation
- Click handlers on `<div>` (use `<button>`)
- Images without dimensions
- Large unmemoized `.map()` iterations
- Unlabeled form inputs
- Icon buttons without `aria-label`
- Hardcoded date/number formats
- Unjustified `autoFocus`