/**
 * 注册所有 Skill 卡片组件
 *
 * v6.2 架构：卡片组件通过 CardRegistry 注册，由 card_type 触发渲染
 * 导入卡片文件会自动注册到 CardRegistry (side effect)
 */

import { registerCard, CARD_TYPES } from './CardRegistry';

// 通用卡片（有独立的 default export）
import CollectFormCard from './shared/CollectFormCard';
import InsightCard from './shared/InsightCard';
import ReportCard from './panels/ReportPanel';
import SkillServicesCard from './shared/SkillServicesCard';
import ServiceRecommendationCard from './shared/ServiceRecommendationCard';

// Bazi 卡片 - 导入即注册
import './bazi/cards';

// Zodiac 卡片 - 导入即注册
import './zodiac/cards';

// VibeID 卡片
import { ShowVibeID } from './vibe-id/tools/show-vibe-id';

/**
 * 初始化卡片注册表
 * 在应用启动时调用
 */
export function initializeCardRegistry(): void {
  // 通用卡片
  registerCard(CARD_TYPES.COLLECT_FORM, CollectFormCard);
  registerCard(CARD_TYPES.INSIGHT_CARD, InsightCard);
  registerCard(CARD_TYPES.REPORT_CARD, ReportCard);
  registerCard(CARD_TYPES.SKILL_SERVICES, SkillServicesCard);
  registerCard(CARD_TYPES.SERVICE_RECOMMENDATION, ServiceRecommendationCard);

  // VibeID 卡片
  registerCard(CARD_TYPES.VIBE_ID, ShowVibeID);
  registerCard(CARD_TYPES.VIBE_ID_RADAR, ShowVibeID);

  console.log('[CardRegistry] Initialized with cards:', [
    // 通用卡片
    CARD_TYPES.COLLECT_FORM,
    CARD_TYPES.INSIGHT_CARD,
    CARD_TYPES.REPORT_CARD,
    CARD_TYPES.SKILL_SERVICES,
    CARD_TYPES.SERVICE_RECOMMENDATION,
    // Bazi 卡片 (通过 import side effect 注册)
    CARD_TYPES.BAZI_CHART,
    CARD_TYPES.BAZI_FORTUNE,
    CARD_TYPES.BAZI_KLINE,
    CARD_TYPES.BAZI_DAILY_FORTUNE,
    // Zodiac 卡片 (通过 import side effect 注册)
    CARD_TYPES.ZODIAC_CHART,
    CARD_TYPES.ZODIAC_TRANSIT,
    CARD_TYPES.ZODIAC_SYNASTRY,
    CARD_TYPES.ZODIAC_LUNAR_PHASE,
    // VibeID 卡片
    CARD_TYPES.VIBE_ID,
    CARD_TYPES.VIBE_ID_RADAR,
  ]);
}

export default initializeCardRegistry;
