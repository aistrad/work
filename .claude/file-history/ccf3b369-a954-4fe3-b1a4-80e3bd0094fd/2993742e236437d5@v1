"use client";

/**
 * MobileTabBar - ç§»åŠ¨ç«¯åº•éƒ¨å¯¼èˆªæ 
 * Based on: vibelife spec v3.0
 *
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚  Chat  â”‚  Chart â”‚ Journeyâ”‚   Me   â”‚
 * â”‚   ğŸ’¬   â”‚   ğŸ“Š   â”‚   ğŸ›¤   â”‚   ğŸ‘¤   â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 */

import { cn } from "@/lib/utils";
import {
  MessageSquare,
  LayoutDashboard,
  Clock,
  User,
} from "lucide-react";
import { type TabType } from "./AppShell";

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Types & Config
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

interface MobileTabBarProps {
  activeTab: TabType;
  onTabChange: (tab: TabType) => void;
  className?: string;
}

interface TabItem {
  id: TabType;
  icon: typeof MessageSquare;
  label: string;
}

const TAB_ITEMS: TabItem[] = [
  { id: "chat", icon: MessageSquare, label: "å¯¹è¯" },
  { id: "chart", icon: LayoutDashboard, label: "å›¾è¡¨" },
  { id: "journey", icon: Clock, label: "å›é¡¾" },
  { id: "me", icon: User, label: "æˆ‘çš„" },
];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MobileTabBar Component
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export function MobileTabBar({ activeTab, onTabChange, className }: MobileTabBarProps) {
  return (
    <nav
      className={cn(
        "flex items-center justify-around",
        "h-16 bg-card border-t border-border",
        "safe-area-pb", // iOS safe area
        className
      )}
    >
      {TAB_ITEMS.map((item) => {
        const Icon = item.icon;
        const isActive = activeTab === item.id;

        return (
          <button
            key={item.id}
            onClick={() => onTabChange(item.id)}
            className={cn(
              "flex-1 flex flex-col items-center justify-center gap-1 py-2",
              "transition-colors duration-200",
              isActive
                ? "text-skill-primary"
                : "text-muted-foreground"
            )}
          >
            <Icon
              className={cn(
                "w-5 h-5 transition-transform duration-200",
                isActive && "scale-110"
              )}
            />
            <span
              className={cn(
                "text-xs font-medium",
                isActive && "font-semibold"
              )}
            >
              {item.label}
            </span>

            {/* Active indicator dot */}
            {isActive && (
              <span className="absolute bottom-1 w-1 h-1 rounded-full bg-skill-primary" />
            )}
          </button>
        );
      })}
    </nav>
  );
}
