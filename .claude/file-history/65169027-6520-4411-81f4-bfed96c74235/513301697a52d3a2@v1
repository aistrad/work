# ═══════════════════════════════════════════════════════════════
# VIBELIFE 测试环境配置
# ═══════════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────────
# 环境标识
# ─────────────────────────────────────────────────────────────────
VIBELIFE_ENV=test

# ─────────────────────────────────────────────────────────────────
# 数据库 - PostgreSQL (与生产共用)
# ─────────────────────────────────────────────────────────────────
VIBELIFE_DB_URL=postgresql://postgres:<DB_PASSWORD>@<DB_HOST>:<DB_PORT>/vibelife
VIBELIFE_DB_HOST=<DB_HOST>
VIBELIFE_DB_PORT=<DB_PORT>
VIBELIFE_DB_NAME=vibelife
VIBELIFE_DB_USER=postgres
VIBELIFE_DB_PASSWORD=<DB_PASSWORD>
VIBELIFE_DB_SSLMODE=prefer

# ─────────────────────────────────────────────────────────────────
# JWT & 认证
# ─────────────────────────────────────────────────────────────────
VIBELIFE_JWT_SECRET=<YOUR_JWT_SECRET>
VIBELIFE_ACCESS_TOKEN_EXPIRE_MINUTES=60
VIBELIFE_REFRESH_TOKEN_EXPIRE_DAYS=30

# ─────────────────────────────────────────────────────────────────
# API 配置 (测试环境端口 8100)
# ─────────────────────────────────────────────────────────────────
VIBELIFE_API_PORT=8100
VIBELIFE_API_HOST=0.0.0.0
VIBELIFE_DEV=1
# 测试环境 CORS
VIBELIFE_CORS_ORIGINS=http://<WEB_HOST>:<WEB_PORT>,http://localhost:8232,http://localhost:3000

# ─────────────────────────────────────────────────────────────────
# LLM 服务 - 智谱 GLM (主要)
# ─────────────────────────────────────────────────────────────────
GLM_API_KEY=<YOUR_GLM_API_KEY>
GLM_CHAT_MODEL=glm-4.7
GLM_VISION_MODEL=glm-4.6v
GLM_BASE_URL=https://open.bigmodel.cn/api/anthropic/v1

# ─────────────────────────────────────────────────────────────────
# LLM 服务 - DeepSeek (官方 Anthropic 兼容 API)
# ─────────────────────────────────────────────────────────────────
DEEPSEEK_API_KEY=<YOUR_DEEPSEEK_API_KEY>
DEEPSEEK_MODEL=deepseek-chat
DEEPSEEK_BASE_URL=https://api.deepseek.com/anthropic

# ─────────────────────────────────────────────────────────────────
# LLM 服务 - Claude (主力)
# ─────────────────────────────────────────────────────────────────
CLAUDE_API_KEY=<YOUR_CLAUDE_API_KEY>
CLAUDE_BASE_URL=https://uapi.chat
CLAUDE_MODEL=claude-sonnet-4-20250514

# ─────────────────────────────────────────────────────────────────
# LLM 服务 - Google Gemini (生图默认)
# ─────────────────────────────────────────────────────────────────
GEMINI_API_KEY=<YOUR_GEMINI_API_KEY>
GEMINI_BASE_URL=https://api2.qiandao.mom/v1
GEMINI_CHAT_MODEL=gemini-3-pro-preview
GEMINI_IMAGE_MODEL=gemini-3-pro-image-preview

# ─────────────────────────────────────────────────────────────────
# 向量嵌入 - BAAI/bge-m3 (本地) + PostgreSQL pgvector
# ─────────────────────────────────────────────────────────────────
EMBEDDING_MODEL_NAME=BAAI/bge-m3
EMBEDDING_DIMENSION=1024
EMBEDDING_DEVICE=cuda
EMBEDDING_LOCAL_DIR=${HOME}/.cache/vibelife/models/bge-m3
# 向量存储使用 PostgreSQL pgvector，无需额外配置

# ─────────────────────────────────────────────────────────────────
# 默认提供商配置 (LLM 配置已迁移到 models.yaml)
# ─────────────────────────────────────────────────────────────────
# DEFAULT_LLM_PROVIDER 已废弃，从 config/models.yaml 读取
# DEFAULT_IMAGE_PROVIDER 已废弃，从 config/models.yaml 读取

# ─────────────────────────────────────────────────────────────────
# 前端配置 (测试环境)
# ─────────────────────────────────────────────────────────────────
NEXT_PUBLIC_API_URL=http://<API_HOST>:<API_PORT>
NEXT_PUBLIC_API_BASE=http://<API_HOST>:<API_PORT>/api/v1
NEXT_PUBLIC_WS_URL=ws://<API_HOST>:<API_PORT>/ws

# ─────────────────────────────────────────────────────────────────
# 数据目录配置 (与生产共用)
# ─────────────────────────────────────────────────────────────────
VIBELIFE_DATA_ROOT=/data/vibelife
VIBELIFE_KNOWLEDGE_ROOT=/data/vibelife/knowledge
VIBELIFE_UPLOADS_ROOT=/data/vibelife/uploads
VIBELIFE_CACHE_ROOT=/data/vibelife/cache
VIBELIFE_LOGS_ROOT=/data/vibelife/logs
