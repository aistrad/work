# Plan: 创建 vibeknowledge Claude Skill

## 目标
创建一个 Claude Code skill `vibeknowledge`，封装 VibeLife 知识库的同步和处理流程。

## 文件结构
```
~/.claude/skills/vibeknowledge/
├── SKILL.md          # Skill 主文档
├── workflow.yaml     # Workflow 定义
├── scripts/
│   ├── sync.sh       # 同步脚本
│   └── ingest.sh     # 启动 ingestion worker
└── schemas/
    └── sync.input.json
```

## 创建内容

### 1. SKILL.md
- name: vibeknowledge
- description: VibeLife 知识库管理；用于同步和处理 bazi/zodiac/mbti 等 skill 的知识文档
- Workflows:
  - `sync`: 扫描 knowledge/ 目录，注册新文档
  - `ingest`: 启动后台 worker 处理 pending 文档
  - `stats`: 查看知识库统计

### 2. workflow.yaml
定义 3 个步骤：sync, ingest, stats

### 3. scripts/sync.sh
```bash
cd /home/aiscend/work/vibelife
python -m apps.api.scripts.sync_knowledge "$@"
```

### 4. scripts/ingest.sh
```bash
cd /home/aiscend/work/vibelife
python -m apps.api.workers.ingestion "$@"
```

## 使用方式
```
/vibeknowledge sync --skill bazi     # 同步指定 skill
/vibeknowledge sync --force          # 强制重新处理
/vibeknowledge stats                 # 查看统计
/vibeknowledge ingest                # 启动 worker
```
