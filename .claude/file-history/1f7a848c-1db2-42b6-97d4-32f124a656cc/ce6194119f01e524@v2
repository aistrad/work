# Skill Store å¹³å°åŒ–æ¶æ„è®¾è®¡

> ä»å¹³å°è‡ªå»º Skill â†’ ç”¨æˆ·åˆ›å»º Skill â†’ Skill Store ç”Ÿæ€

## ä¸€ã€æ„¿æ™¯

```
Phase 1: ç”¨æˆ·ç§æœ‰ Skillï¼ˆä¸ªäººåŠ©æ‰‹å®šåˆ¶ï¼‰
    â†“
Phase 2: Skill Storeï¼ˆåˆ›ä½œè€…å‘å¸ƒï¼Œç”¨æˆ·è®¢é˜…ï¼‰
    â†“
Phase 3: Skill ç”Ÿæ€ï¼ˆAPI å¼€æ”¾ï¼Œç¬¬ä¸‰æ–¹é›†æˆï¼‰
```

---

## äºŒã€å½“å‰æ¶æ„ vs å¹³å°åŒ–éœ€æ±‚

| ç»´åº¦ | å½“å‰æ¶æ„ | å¹³å°åŒ–éœ€æ±‚ | Gap |
|------|----------|------------|-----|
| **å­˜å‚¨** | æ–‡ä»¶ç³»ç»Ÿ (`skills/`) | æ•°æ®åº“ + å¯¹è±¡å­˜å‚¨ | é‡æ„ |
| **å‘ç°** | ç›®å½•æ‰«æ | æ³¨å†Œè¡¨æŸ¥è¯¢ | é‡æ„ |
| **æ‰€æœ‰æƒ** | å¹³å°å•ä¸€ | å¤šç§Ÿæˆ·ï¼ˆç”¨æˆ·/åˆ›ä½œè€…ï¼‰ | æ–°å¢ |
| **ç‰ˆæœ¬** | Git | ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ | æ–°å¢ |
| **è¿è¡Œæ—¶** | ç›´æ¥æ‰§è¡Œ | æ²™ç®±éš”ç¦» | æ–°å¢ |
| **åˆ†å‘** | æ—  | Store + å®‰è£… | æ–°å¢ |
| **è®¡è´¹** | Skill è®¢é˜… | åˆ›ä½œè€…åˆ†æˆ | æ‰©å±• |
| **å®¡æ ¸** | æ—  | ä»£ç å®¡æ ¸ + å†…å®¹å®¡æ ¸ | æ–°å¢ |

---

## ä¸‰ã€æ ¸å¿ƒæ¶æ„è®¾è®¡

### 3.1 æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Skill Platform Architecture                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                           Skill Registry (æ ¸å¿ƒ)                          â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚   skills è¡¨                    skill_versions è¡¨                         â”‚ â”‚
â”‚  â”‚   â”œâ”€â”€ id (UUID)               â”œâ”€â”€ id                                    â”‚ â”‚
â”‚  â”‚   â”œâ”€â”€ owner_id                â”œâ”€â”€ skill_id                              â”‚ â”‚
â”‚  â”‚   â”œâ”€â”€ owner_type (user/org)   â”œâ”€â”€ version (semver)                      â”‚ â”‚
â”‚  â”‚   â”œâ”€â”€ slug (å”¯ä¸€æ ‡è¯†)          â”œâ”€â”€ config (JSONB)                        â”‚ â”‚
â”‚  â”‚   â”œâ”€â”€ visibility              â”‚   â”œâ”€â”€ name, triggers, category          â”‚ â”‚
â”‚  â”‚   â”‚   (private/public/paid)   â”‚   â”œâ”€â”€ requires_birth_info, etc.         â”‚ â”‚
â”‚  â”‚   â”œâ”€â”€ category                â”‚   â””â”€â”€ skill_data, includes              â”‚ â”‚
â”‚  â”‚   â”œâ”€â”€ status                  â”œâ”€â”€ prompt_content (ä¸“å®¶èº«ä»½ç­‰)            â”‚ â”‚
â”‚  â”‚   â”‚   (draft/review/active)   â”œâ”€â”€ rules (JSONB)                         â”‚ â”‚
â”‚  â”‚   â”œâ”€â”€ pricing                 â”œâ”€â”€ tools (JSONB)                         â”‚ â”‚
â”‚  â”‚   â”‚   (free/monthly/one-time) â”œâ”€â”€ handlers_url (å¯¹è±¡å­˜å‚¨)               â”‚ â”‚
â”‚  â”‚   â””â”€â”€ stats                   â”œâ”€â”€ status (draft/active/deprecated)      â”‚ â”‚
â”‚  â”‚       (installs, rating)      â””â”€â”€ created_at                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â”‚                                      â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚            â–¼                           â–¼                           â–¼         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Skill Studio   â”‚     â”‚   Runtime Engine    â”‚     â”‚   Skill Store   â”‚    â”‚
â”‚  â”‚  (åˆ›ä½œè€…å·¥å…·)    â”‚     â”‚   (æ‰§è¡Œå¼•æ“)         â”‚     â”‚   (å‘ç°åˆ†å‘)     â”‚    â”‚
â”‚  â”‚                 â”‚     â”‚                     â”‚     â”‚                 â”‚    â”‚
â”‚  â”‚  - åœ¨çº¿ç¼–è¾‘å™¨   â”‚     â”‚  - Skill Loader     â”‚     â”‚  - åˆ†ç±»æµè§ˆ     â”‚    â”‚
â”‚  â”‚  - ç‰ˆæœ¬ç®¡ç†     â”‚     â”‚  - Sandbox Executor â”‚     â”‚  - æœç´¢æ’åº     â”‚    â”‚
â”‚  â”‚  - æµ‹è¯•æ²™ç®±     â”‚     â”‚  - Tool Registry    â”‚     â”‚  - è¯„åˆ†è¯„è®º     â”‚    â”‚
â”‚  â”‚  - å‘å¸ƒå®¡æ ¸     â”‚     â”‚  - Data Isolation   â”‚     â”‚  - å®‰è£…ç®¡ç†     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                        â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         Supporting Services                             â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚  Review  â”‚  â”‚ Billing  â”‚  â”‚ Analyticsâ”‚  â”‚  Search  â”‚  â”‚  CDN/    â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  System  â”‚  â”‚  Split   â”‚  â”‚  Stats   â”‚  â”‚  Index   â”‚  â”‚  Storage â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 æ•°æ®æ¨¡å‹

```sql
-- Skill ä¸»è¡¨
CREATE TABLE skills (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    slug VARCHAR(100) UNIQUE NOT NULL,  -- e.g., "my-career-advisor"

    -- æ‰€æœ‰æƒ
    owner_id UUID NOT NULL,
    owner_type VARCHAR(20) NOT NULL,  -- 'user' | 'org' | 'platform'

    -- å…ƒä¿¡æ¯
    display_name VARCHAR(200) NOT NULL,
    short_desc TEXT,
    icon_url VARCHAR(500),
    category VARCHAR(50),
    tags TEXT[],

    -- å¯è§æ€§å’ŒçŠ¶æ€
    visibility VARCHAR(20) DEFAULT 'private',  -- 'private' | 'public' | 'unlisted'
    status VARCHAR(20) DEFAULT 'draft',  -- 'draft' | 'review' | 'active' | 'suspended'

    -- å®šä»·ï¼ˆå…¬å¼€ Skillï¼‰
    pricing_type VARCHAR(20),  -- 'free' | 'monthly' | 'one_time'
    price_cents INT,

    -- ç»Ÿè®¡
    install_count INT DEFAULT 0,
    rating_avg DECIMAL(2,1),
    rating_count INT DEFAULT 0,

    -- å½“å‰æ´»è·ƒç‰ˆæœ¬
    active_version_id UUID,

    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Skill ç‰ˆæœ¬è¡¨
CREATE TABLE skill_versions (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    skill_id UUID REFERENCES skills(id),
    version VARCHAR(20) NOT NULL,  -- semver: "1.0.0"

    -- é…ç½®ï¼ˆåŸ routing.yaml å†…å®¹ï¼‰
    config JSONB NOT NULL,
    -- {
    --   "name": "èŒåœºæ—¶æœº",
    --   "triggers": ["èŒåœºæ—¶æœº", "è·³æ§½"],
    --   "requires_birth_info": true,
    --   "skill_data": ["bazi", "zodiac"],
    --   "includes": ["bazi", "zodiac"]
    -- }

    -- Prompt å†…å®¹ï¼ˆåŸ SKILL.md bodyï¼‰
    prompt_content TEXT,

    -- è§„åˆ™æ–‡ä»¶ï¼ˆåŸ rules/*.mdï¼‰
    rules JSONB,  -- {"basic-reading": "...", "career": "..."}

    -- å·¥å…·å®šä¹‰ï¼ˆåŸ tools/tools.yamlï¼‰
    tools JSONB,

    -- Handler ä»£ç ï¼ˆå¯¹è±¡å­˜å‚¨ URLï¼‰
    handlers_url VARCHAR(500),
    handlers_hash VARCHAR(64),  -- ä»£ç  hashï¼Œç”¨äºéªŒè¯

    -- çŠ¶æ€
    status VARCHAR(20) DEFAULT 'draft',  -- 'draft' | 'active' | 'deprecated'
    review_status VARCHAR(20),  -- 'pending' | 'approved' | 'rejected'
    review_notes TEXT,

    created_at TIMESTAMPTZ DEFAULT NOW(),

    UNIQUE(skill_id, version)
);

-- ç”¨æˆ·å®‰è£…çš„ Skill
CREATE TABLE user_skill_installs (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL,
    skill_id UUID REFERENCES skills(id),
    version_id UUID REFERENCES skill_versions(id),

    -- çŠ¶æ€
    status VARCHAR(20) DEFAULT 'active',  -- 'active' | 'disabled'

    -- è‡ªå®šä¹‰é…ç½®ï¼ˆç”¨æˆ·å¯è¦†ç›–çš„éƒ¨åˆ†ï¼‰
    custom_config JSONB,

    -- è®¢é˜…ä¿¡æ¯ï¼ˆä»˜è´¹ Skillï¼‰
    subscription_id UUID,
    expires_at TIMESTAMPTZ,

    installed_at TIMESTAMPTZ DEFAULT NOW(),

    UNIQUE(user_id, skill_id)
);

-- Skill è¯„ä»·
CREATE TABLE skill_reviews (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    skill_id UUID REFERENCES skills(id),
    user_id UUID NOT NULL,
    rating INT CHECK (rating >= 1 AND rating <= 5),
    content TEXT,
    created_at TIMESTAMPTZ DEFAULT NOW(),

    UNIQUE(skill_id, user_id)
);
```

### 3.3 Skill æ ‡è¯†ç¬¦è®¾è®¡

```
å¹³å° Skill:   platform:bazi
ç”¨æˆ·ç§æœ‰:     user:{user_id}:{slug}
å…¬å¼€ Skill:   store:{creator_slug}/{skill_slug}

ç¤ºä¾‹:
- platform:bazi                    # å¹³å°å…«å­— Skill
- user:abc123:my-career-advisor    # ç”¨æˆ·ç§æœ‰
- store:master-li/fortune-teller   # Store å…¬å¼€

åœ¨å¯¹è¯ä¸­ä½¿ç”¨:
- activate_skill(skill="platform:bazi")
- activate_skill(skill="store:master-li/fortune-teller")
```

---

## å››ã€routing.yaml å‡çº§æ–¹æ¡ˆ

### 4.1 ä»æ–‡ä»¶é…ç½®åˆ°æ•°æ®åº“é…ç½®

**å½“å‰**ï¼š`routing.yaml` æ˜¯é™æ€æ–‡ä»¶

**å‡çº§**ï¼šrouting.yaml åªå®šä¹‰å¹³å° Skillï¼Œç”¨æˆ·/Store Skill å­˜æ•°æ®åº“

```yaml
# routing.yaml - åªä¿ç•™å¹³å° Skill
skills:
  bazi:
    type: platform  # æ ‡è®°ä¸ºå¹³å° Skill
    name: å…«å­—å‘½ç†
    # ... é…ç½®ä¸å˜
```

### 4.2 Skill Loader å‡çº§

```python
class SkillLoader:
    """ç»Ÿä¸€ Skill åŠ è½½å™¨ï¼Œæ”¯æŒå¤šæ¥æº"""

    async def load_skill(self, skill_ref: str, user_id: UUID) -> SkillConfig:
        """
        åŠ è½½ Skill é…ç½®

        skill_ref æ ¼å¼:
        - "bazi" â†’ å…¼å®¹æ—§æ ¼å¼ï¼Œç­‰åŒäº "platform:bazi"
        - "platform:bazi" â†’ å¹³å° Skill
        - "user:abc123:my-skill" â†’ ç”¨æˆ·ç§æœ‰ Skill
        - "store:creator/skill" â†’ Store Skill
        """
        source, identifier = self._parse_skill_ref(skill_ref)

        if source == "platform":
            return self._load_from_routing_yaml(identifier)

        elif source == "user":
            user_id, slug = identifier.split(":", 1)
            return await self._load_from_db(
                owner_type="user",
                owner_id=user_id,
                slug=slug
            )

        elif source == "store":
            creator, slug = identifier.split("/", 1)
            return await self._load_from_db(
                owner_type="creator",
                creator_slug=creator,
                slug=slug
            )

    async def _load_from_db(self, **filters) -> SkillConfig:
        """ä»æ•°æ®åº“åŠ è½½ Skill é…ç½®"""
        skill = await db.fetch_one("""
            SELECT s.*, v.config, v.prompt_content, v.rules, v.tools, v.handlers_url
            FROM skills s
            JOIN skill_versions v ON s.active_version_id = v.id
            WHERE ...
        """)

        return SkillConfig(
            id=skill["slug"],
            name=skill["config"]["name"],
            triggers=skill["config"].get("triggers", []),
            requires_birth_info=skill["config"].get("requires_birth_info", False),
            skill_data=skill["config"].get("skill_data", []),
            includes=skill["config"].get("includes", []),
            prompt_content=skill["prompt_content"],
            rules=skill["rules"],
            tools=skill["tools"],
            handlers_url=skill["handlers_url"],
        )
```

### 4.3 Tool Registry å‡çº§

```python
class ToolRegistry:
    """æ”¯æŒåŠ¨æ€å·¥å…·åŠ è½½"""

    async def load_skill_tools(self, skill_ref: str, user_id: UUID):
        """åŠ è½½ Skill çš„å·¥å…·"""
        skill = await skill_loader.load_skill(skill_ref, user_id)

        # å¹³å° Skillï¼šä»æ–‡ä»¶ç³»ç»ŸåŠ è½½ handler
        if skill.source == "platform":
            return self._load_from_filesystem(skill.id)

        # ç”¨æˆ·/Store Skillï¼šä»å¯¹è±¡å­˜å‚¨åŠ è½½ handler
        else:
            return await self._load_from_storage(
                skill.handlers_url,
                skill.tools
            )

    async def _load_from_storage(self, handlers_url: str, tool_defs: dict):
        """
        ä»å¯¹è±¡å­˜å‚¨åŠ è½½ handler ä»£ç 
        åœ¨æ²™ç®±ä¸­æ‰§è¡Œ
        """
        code = await object_storage.download(handlers_url)

        # æ²™ç®±æ‰§è¡Œï¼ˆRestrictedPython æˆ– Dockerï¼‰
        sandbox = Sandbox()
        handlers = sandbox.execute(code)

        return handlers
```

---

## äº”ã€Skill Studioï¼ˆåˆ›ä½œè€…å·¥å…·ï¼‰

### 5.1 Web ç¼–è¾‘å™¨

```typescript
// åˆ›ä½œè€…ç¼–è¾‘ç•Œé¢
interface SkillEditor {
  // åŸºç¡€é…ç½®
  config: {
    name: string;
    shortDesc: string;
    triggers: string[];
    category: string;

    // SOP é…ç½®
    requiresBirthInfo: boolean;
    requiresCompute: boolean;
    computeTool: string;

    // ä¾èµ–é…ç½®
    skillData: string[];
    includes: string[];
  };

  // Prompt å†…å®¹
  promptContent: string;  // Markdown ç¼–è¾‘å™¨

  // Rules æ–‡ä»¶
  rules: Record<string, string>;  // å¤šæ–‡ä»¶ç¼–è¾‘å™¨

  // å·¥å…·å®šä¹‰
  tools: ToolDefinition[];  // YAML/å¯è§†åŒ–ç¼–è¾‘å™¨

  // Handler ä»£ç 
  handlers: string;  // Python ä»£ç ç¼–è¾‘å™¨
}
```

### 5.2 æµ‹è¯•æ²™ç®±

```python
class SkillTestSandbox:
    """Skill æµ‹è¯•ç¯å¢ƒ"""

    async def test_conversation(
        self,
        skill_config: SkillConfig,
        test_messages: List[Dict],
        mock_user: MockUser
    ) -> TestResult:
        """
        åœ¨éš”ç¦»ç¯å¢ƒä¸­æµ‹è¯• Skill
        - ä½¿ç”¨ mock ç”¨æˆ·æ•°æ®
        - ä¸å½±å“çœŸå®æ•°æ®
        - è®°å½•æ‰€æœ‰å·¥å…·è°ƒç”¨
        """
        pass
```

### 5.3 å‘å¸ƒæµç¨‹

```
åˆ›ä½œ â†’ æµ‹è¯• â†’ æäº¤å®¡æ ¸ â†’ å®¡æ ¸é€šè¿‡ â†’ ä¸Šæ¶
  â”‚       â”‚        â”‚           â”‚          â”‚
  â”‚       â”‚        â”‚           â”‚          â””â”€ å¯åœ¨ Store æœç´¢åˆ°
  â”‚       â”‚        â”‚           â””â”€ è‡ªåŠ¨åŒ– + äººå·¥å®¡æ ¸
  â”‚       â”‚        â””â”€ è§¦å‘å®¡æ ¸æµç¨‹
  â”‚       â””â”€ æ²™ç®±æµ‹è¯•é€šè¿‡
  â””â”€ åœ¨ Studio ä¸­ç¼–è¾‘
```

---

## å…­ã€Runtime å®‰å…¨éš”ç¦»

### 6.1 Handler æ²™ç®±æ‰§è¡Œ

```python
class SecureSandbox:
    """
    å®‰å…¨æ²™ç®±ï¼Œé™åˆ¶ç”¨æˆ·ä»£ç èƒ½åŠ›

    å…è®¸:
    - æ•°æ®è½¬æ¢å’Œè®¡ç®—
    - è°ƒç”¨ç™½åå• API
    - è¯»å– context æ•°æ®

    ç¦æ­¢:
    - æ–‡ä»¶ç³»ç»Ÿè®¿é—®
    - ç½‘ç»œè¯·æ±‚ï¼ˆé™¤ç™½åå•ï¼‰
    - ç³»ç»Ÿè°ƒç”¨
    - å¯¼å…¥å±é™©æ¨¡å—
    """

    ALLOWED_MODULES = {
        'json', 'datetime', 'math', 're', 'collections',
        'typing', 'dataclasses', 'enum'
    }

    ALLOWED_APIS = {
        'search_db',      # çŸ¥è¯†æ£€ç´¢
        'get_profile',    # è·å–ç”¨æˆ· profileï¼ˆåªè¯»ï¼‰
        'get_skill_data', # è·å– skill_dataï¼ˆåªè¯»ï¼‰
        'show_card',      # å±•ç¤ºå¡ç‰‡
    }

    def execute(self, code: str, context: ToolContext) -> Any:
        """åœ¨æ²™ç®±ä¸­æ‰§è¡Œä»£ç """
        # ä½¿ç”¨ RestrictedPython æˆ– Docker å®¹å™¨
        pass
```

### 6.2 æ•°æ®éš”ç¦»

```python
class IsolatedContext:
    """
    éš”ç¦»çš„æ‰§è¡Œä¸Šä¸‹æ–‡
    - ç”¨æˆ· Skill åªèƒ½è®¿é—®è‡ªå·±å£°æ˜çš„æ•°æ®
    - ä¸èƒ½è®¿é—®å…¶ä»–ç”¨æˆ·æ•°æ®
    - ä¸èƒ½ä¿®æ”¹å¹³å° Skill æ•°æ®
    """

    def __init__(self, skill: SkillConfig, user_id: UUID):
        self.skill = skill
        self.user_id = user_id

        # åªåŠ è½½å£°æ˜çš„ skill_data
        self.allowed_skill_data = skill.skill_data

    async def get_skill_data(self, skill_id: str) -> Dict:
        if skill_id not in self.allowed_skill_data:
            raise PermissionError(f"Skill {self.skill.id} cannot access {skill_id} data")
        return await load_skill_data(self.user_id, skill_id)
```

---

## ä¸ƒã€è®¡è´¹ä¸åˆ†æˆ

### 7.1 æ”¶å…¥åˆ†æˆæ¨¡å‹

```
ç”¨æˆ·æ”¯ä»˜ 100 å…ƒè®¢é˜… Store Skill
    â”‚
    â”œâ”€ å¹³å°æŠ½æˆ 30%: 30 å…ƒ
    â”‚   â”œâ”€ è¿è¥æˆæœ¬
    â”‚   â”œâ”€ å®¡æ ¸æˆæœ¬
    â”‚   â””â”€ åŸºç¡€è®¾æ–½
    â”‚
    â””â”€ åˆ›ä½œè€…æ”¶å…¥ 70%: 70 å…ƒ
        â””â”€ å¦‚æœ Skill ä½¿ç”¨äº†å¹³å° Skill (includes: [bazi])
           â””â”€ å¹³å° Skill ä½¿ç”¨è´¹: æŒ‰è°ƒç”¨é‡è®¡ç®—ï¼ˆå¯é€‰ï¼‰
```

### 7.2 è®¡è´¹è¡¨

```sql
CREATE TABLE creator_earnings (
    id UUID PRIMARY KEY,
    creator_id UUID NOT NULL,
    skill_id UUID REFERENCES skills(id),

    -- æœŸé—´
    period_start DATE,
    period_end DATE,

    -- æ”¶å…¥
    gross_revenue DECIMAL(10,2),
    platform_fee DECIMAL(10,2),
    net_revenue DECIMAL(10,2),

    -- çŠ¶æ€
    status VARCHAR(20),  -- 'pending' | 'paid'
    paid_at TIMESTAMPTZ
);
```

---

## å…«ã€å®æ–½è·¯çº¿å›¾

### Phase 1: ç”¨æˆ·ç§æœ‰ Skillï¼ˆMVPï¼‰

**ç›®æ ‡**ï¼šç”¨æˆ·å¯ä»¥åˆ›å»ºè‡ªå·±çš„ç§æœ‰ Skill

**èŒƒå›´**ï¼š
- [ ] Skill æ•°æ®åº“å­˜å‚¨
- [ ] åŸºç¡€ Skill Studioï¼ˆWeb ç¼–è¾‘å™¨ï¼‰
- [ ] çº¯é…ç½®å‹ Skillï¼ˆæ— è‡ªå®šä¹‰ handlerï¼‰
- [ ] ç”¨æˆ· Skill åˆ—è¡¨ç®¡ç†

**ä¸åŒ…å«**ï¼š
- Store åŠŸèƒ½
- ä»˜è´¹åŠŸèƒ½
- è‡ªå®šä¹‰ handler
- å®¡æ ¸ç³»ç»Ÿ

### Phase 2: Skill Storeï¼ˆå…¬å¼€åˆ†å‘ï¼‰

**ç›®æ ‡**ï¼šåˆ›ä½œè€…å¯ä»¥å‘å¸ƒ Skill ä¾›å…¶ä»–ç”¨æˆ·ä½¿ç”¨

**èŒƒå›´**ï¼š
- [ ] Store æµè§ˆå’Œæœç´¢
- [ ] å®‰è£…å’Œå¸è½½
- [ ] è¯„åˆ†è¯„è®º
- [ ] å…è´¹ Skill å‘å¸ƒ
- [ ] åŸºç¡€å®¡æ ¸æµç¨‹

### Phase 3: ä»˜è´¹ Skill + Handler

**ç›®æ ‡**ï¼šå®Œæ•´çš„å•†ä¸šåŒ–èƒ½åŠ›

**èŒƒå›´**ï¼š
- [ ] ä»˜è´¹ Skill è®¢é˜…
- [ ] åˆ›ä½œè€…åˆ†æˆç»“ç®—
- [ ] è‡ªå®šä¹‰ handlerï¼ˆæ²™ç®±æ‰§è¡Œï¼‰
- [ ] å®Œæ•´å®¡æ ¸ç³»ç»Ÿï¼ˆä»£ç å®¡æ ¸ï¼‰

---

## ä¹ã€routing.yaml å…¼å®¹å‡çº§

### å½“å‰æ ¼å¼

```yaml
skills:
  bazi:
    name: å…«å­—å‘½ç†
    triggers: [å…«å­—, å‘½ç†]
    # ...
```

### å‡çº§åæ ¼å¼

```yaml
# æ ‡è®°å¹³å° Skill
platform_skills:
  bazi:
    name: å…«å­—å‘½ç†
    triggers: [å…«å­—, å‘½ç†]
    # ... é…ç½®ä¸å˜

# åŠ¨æ€ Skill æ¥æºé…ç½®
skill_sources:
  - type: database
    filter:
      visibility: public
      status: active
```

### å…¼å®¹é€»è¾‘

```python
def get_available_skills(user_id: UUID) -> List[SkillConfig]:
    """è·å–ç”¨æˆ·å¯ç”¨çš„æ‰€æœ‰ Skill"""
    skills = []

    # 1. å¹³å° Skillï¼ˆä» routing.yamlï¼‰
    skills.extend(load_platform_skills())

    # 2. ç”¨æˆ·ç§æœ‰ Skillï¼ˆä»æ•°æ®åº“ï¼‰
    skills.extend(await load_user_skills(user_id))

    # 3. ç”¨æˆ·å®‰è£…çš„ Store Skillï¼ˆä»æ•°æ®åº“ï¼‰
    skills.extend(await load_installed_skills(user_id))

    return skills
```

---

## åã€å®‰å…¨è€ƒè™‘

| é£é™© | ç¼“è§£æªæ–½ |
|------|----------|
| æ¶æ„ä»£ç  | æ²™ç®±æ‰§è¡Œ + ä»£ç å®¡æ ¸ |
| æ•°æ®æ³„éœ² | æ•°æ®éš”ç¦» + æƒé™æ§åˆ¶ |
| æ»¥ç”¨ API | é€Ÿç‡é™åˆ¶ + ç”¨é‡ç›‘æ§ |
| å†…å®¹è¿è§„ | å†…å®¹å®¡æ ¸ + ä¸¾æŠ¥æœºåˆ¶ |
| çŸ¥è¯†äº§æƒ | åŸåˆ›å£°æ˜ + ä¾µæƒå¤„ç† |

---

## åä¸€ã€Skill Studio è¯¦ç»†è®¾è®¡

### 11.1 åˆ›å»º Skill æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Skill Studio å·¥ä½œæµ                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  Step 1: åŸºç¡€ä¿¡æ¯                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Skill åç§°: [æˆ‘çš„èŒåœºé¡¾é—®_______________]                              â”‚ â”‚
â”‚  â”‚  ç®€çŸ­æè¿°:   [èåˆå‘½ç†å’ŒèŒä¸šè§„åˆ’çš„å’¨è¯¢å¸ˆ_]                               â”‚ â”‚
â”‚  â”‚  åˆ†ç±»:       [â—‹èŒä¸š â—‹æƒ…æ„Ÿ â—‹å‘½ç† â—‹ç”Ÿæ´»]                                  â”‚ â”‚
â”‚  â”‚  å¯è§æ€§:     [â—ç§æœ‰ â—‹å…¬å¼€ â—‹Storeå‘å¸ƒ]                                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  Step 2: è§¦å‘é…ç½®                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  è§¦å‘è¯: [èŒåœºé¡¾é—®] [èŒä¸šå’¨è¯¢] [è·³æ§½å»ºè®®] [+æ·»åŠ ]                        â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  â˜‘ éœ€è¦å‡ºç”Ÿä¿¡æ¯        æ’ç›˜å·¥å…·: [calculate_bazi    â–¼]                  â”‚ â”‚
â”‚  â”‚  â˜‘ éœ€è¦è®¡ç®—/æ’ç›˜       æ”¶é›†å·¥å…·: [request_info      â–¼]                  â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  ä¾èµ–æ•°æ®: [â˜‘ bazi] [â˜‘ zodiac] [â˜ tarot] [â˜ career]                    â”‚ â”‚
â”‚  â”‚  åŒ…å«å·¥å…·: [â˜‘ bazi] [â˜‘ zodiac] [â˜ tarot] [â˜‘ career]                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  Step 3: ä¸“å®¶èº«ä»½ (Prompt)                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  # ä¸“å®¶èº«ä»½                                                             â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  ä½ æ˜¯ä¸€ä½èåˆä¸œæ–¹å‘½ç†æ™ºæ…§å’Œç°ä»£èŒä¸šè§„åˆ’çš„é¡¾é—®ã€‚ä½ ç²¾é€šå…«å­—å‘½ç†           â”‚ â”‚
â”‚  â”‚  çš„æ ¼å±€åˆ†æï¼ŒåŒæ—¶äº†è§£èŒåœºå‘å±•è§„å¾‹ã€‚ä½ çš„ä½¿å‘½æ˜¯å¸®åŠ©ç”¨æˆ·æ‰¾åˆ°æœ€              â”‚ â”‚
â”‚  â”‚  é€‚åˆè‡ªå·±çš„èŒä¸šæ–¹å‘å’Œå‘å±•æ—¶æœºã€‚                                          â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  ## æœåŠ¡åŸåˆ™                                                            â”‚ â”‚
â”‚  â”‚  1. å…ˆäº†è§£ç”¨æˆ·çš„èŒä¸šèƒŒæ™¯å’Œå›°æƒ‘                                          â”‚ â”‚
â”‚  â”‚  2. ç»“åˆå‘½ç†åˆ†æèŒä¸šé€‚åˆåº¦                                              â”‚ â”‚
â”‚  â”‚  3. ç»™å‡ºå¯æ“ä½œçš„å»ºè®®                                                    â”‚ â”‚
â”‚  â”‚  ...                                                                    â”‚ â”‚
â”‚  â”‚                                               [é¢„è§ˆ] [ä½¿ç”¨æ¨¡æ¿]         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  Step 4: è§„åˆ™æ–‡ä»¶ (å¯é€‰)                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  rules/                                                                 â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ career-analysis.md    [ç¼–è¾‘] [åˆ é™¤]                               â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€ timing-advice.md      [ç¼–è¾‘] [åˆ é™¤]                               â”‚ â”‚
â”‚  â”‚  â””â”€â”€ [+ æ·»åŠ è§„åˆ™æ–‡ä»¶]                                                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  Step 5: è‡ªå®šä¹‰å·¥å…· (é«˜çº§)                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  â˜ å¯ç”¨è‡ªå®šä¹‰å·¥å…·                                                       â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  [å±•å¼€åæ˜¾ç¤º YAML ç¼–è¾‘å™¨ + Python ä»£ç ç¼–è¾‘å™¨]                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚                        [ä¿å­˜è‰ç¨¿]  [æµ‹è¯•]  [å‘å¸ƒ]                            â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 11.2 æµ‹è¯•å¯¹è¯ç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Skill æµ‹è¯• - æˆ‘çš„èŒåœºé¡¾é—® (v0.1.0-draft)                       [è¿”å›ç¼–è¾‘]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  æµ‹è¯•ç”¨æˆ·é…ç½®:                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  å‡ºç”Ÿä¿¡æ¯: 1990-01-15 14:30 åŒ—äº¬     [ä¿®æ”¹]                             â”‚ â”‚
â”‚  â”‚  å·²æœ‰æ•°æ®: [â˜‘ bazi chart] [â˜‘ zodiac chart]     [æ¸…é™¤æ•°æ®]              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  ğŸ¤– ä½ å¥½ï¼æˆ‘æ˜¯ä½ çš„èŒåœºé¡¾é—®ã€‚çœ‹åˆ°ä½ æ˜¯ç”²æœ¨æ—¥ä¸»ï¼Œå¤©ç”Ÿæœ‰é¢†å¯¼åŠ›å’Œ           â”‚ â”‚
â”‚  â”‚     åˆ›æ–°ç²¾ç¥ã€‚ä½ ç°åœ¨æœ‰ä»€ä¹ˆèŒä¸šä¸Šçš„å›°æƒ‘æƒ³èŠèŠå—ï¼Ÿ                        â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  ğŸ‘¤ æˆ‘æƒ³çŸ¥é“ä»Šå¹´é€‚ä¸é€‚åˆè·³æ§½                                           â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  ğŸ¤– [è°ƒç”¨å·¥å…·: show_bazi_fortune]                                      â”‚ â”‚
â”‚  â”‚     æ ¹æ®ä½ çš„å…«å­—ï¼Œä»Šå¹´æ˜¯åºšè¾°å¹´ï¼Œå¯¹ä½ çš„ç”²æœ¨æ—¥ä¸»æ¥è¯´...                  â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  è°ƒè¯•é¢æ¿:                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Tool Calls:                                                            â”‚ â”‚
â”‚  â”‚  1. show_bazi_fortune(chart_id=...) â†’ success                          â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  Context:                                                               â”‚ â”‚
â”‚  â”‚  - skill_data.bazi: {chart: {...}, features: [...]}                    â”‚ â”‚
â”‚  â”‚  - skill_data.zodiac: {chart: {...}}                                   â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  Tokens: prompt=1,234 completion=567 total=1,801                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  [è¾“å…¥æµ‹è¯•æ¶ˆæ¯...___________________________________] [å‘é€]                 â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 11.3 API è®¾è®¡

```yaml
# Skill CRUD
POST   /api/v1/skills                    # åˆ›å»º Skill
GET    /api/v1/skills                    # åˆ—å‡ºæˆ‘çš„ Skill
GET    /api/v1/skills/{skill_id}         # è·å– Skill è¯¦æƒ…
PUT    /api/v1/skills/{skill_id}         # æ›´æ–° Skill
DELETE /api/v1/skills/{skill_id}         # åˆ é™¤ Skill

# ç‰ˆæœ¬ç®¡ç†
POST   /api/v1/skills/{skill_id}/versions           # åˆ›å»ºæ–°ç‰ˆæœ¬
GET    /api/v1/skills/{skill_id}/versions           # åˆ—å‡ºæ‰€æœ‰ç‰ˆæœ¬
GET    /api/v1/skills/{skill_id}/versions/{version} # è·å–ç‰¹å®šç‰ˆæœ¬
POST   /api/v1/skills/{skill_id}/activate/{version} # æ¿€æ´»ç‰ˆæœ¬

# æµ‹è¯•
POST   /api/v1/skills/{skill_id}/test               # æµ‹è¯•å¯¹è¯
POST   /api/v1/skills/{skill_id}/validate           # éªŒè¯é…ç½®

# å‘å¸ƒ
POST   /api/v1/skills/{skill_id}/submit-review      # æäº¤å®¡æ ¸
GET    /api/v1/skills/{skill_id}/review-status      # å®¡æ ¸çŠ¶æ€

# Store
GET    /api/v1/store/skills                         # æµè§ˆ Store
GET    /api/v1/store/skills/{slug}                  # Skill è¯¦æƒ…é¡µ
POST   /api/v1/store/skills/{slug}/install          # å®‰è£…
DELETE /api/v1/store/skills/{slug}/uninstall        # å¸è½½
POST   /api/v1/store/skills/{slug}/review           # è¯„ä»·

# ç”¨æˆ·å®‰è£…çš„ Skill
GET    /api/v1/me/installed-skills                  # æˆ‘å®‰è£…çš„ Skill
PUT    /api/v1/me/installed-skills/{skill_id}       # æ›´æ–°é…ç½®
```

### 11.4 Skill é…ç½® Schema

```typescript
interface SkillConfig {
  // åŸºç¡€ä¿¡æ¯
  name: string;
  slug: string;
  shortDesc: string;
  category: 'astrology' | 'self-awareness' | 'professional' | 'relationship' | 'lifestyle';
  tags: string[];

  // è§¦å‘é…ç½®
  triggers: string[];

  // SOP é…ç½®
  requiresBirthInfo: boolean;
  requiresCompute: boolean;
  computeTool?: string;
  collectTool?: string;

  // ä¾èµ–é…ç½®
  skillData: string[];   // éœ€è¦åŠ è½½çš„ skill_data
  includes: string[];    // éœ€è¦åŒ…å«å·¥å…·çš„ Skill
  globalTools: string[]; // éœ€è¦çš„å…¨å±€å·¥å…·

  // Prompt å†…å®¹
  promptContent: string;

  // è§„åˆ™æ–‡ä»¶
  rules: Record<string, string>;

  // è‡ªå®šä¹‰å·¥å…·ï¼ˆé«˜çº§ï¼‰
  customTools?: {
    definitions: ToolDefinition[];
    handlers: string;  // Python ä»£ç 
  };
}

interface ToolDefinition {
  name: string;
  description: string;
  toolType: 'collect' | 'compute' | 'display' | 'action';
  cardType?: string;
  parameters: ParameterDefinition[];
}
```

---

## åäºŒã€Store è¯¦ç»†è®¾è®¡

### 12.1 Store é¦–é¡µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Skill Store                                              [æœç´¢ Skill...]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  çƒ­é—¨æ¨è                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ ğŸ”®         â”‚ â”‚ ğŸ’¼         â”‚ â”‚ â¤ï¸         â”‚ â”‚ ğŸŒŸ         â”‚              â”‚
â”‚  â”‚ å¤§å¸ˆè§£ç›˜   â”‚ â”‚ èŒåœºå¯¼èˆª   â”‚ â”‚ æƒ…æ„Ÿé¡¾é—®   â”‚ â”‚ æ¯æ—¥è¿åŠ¿   â”‚              â”‚
â”‚  â”‚ â­4.8 1.2k â”‚ â”‚ â­4.6 856  â”‚ â”‚ â­4.7 2.3k â”‚ â”‚ â­4.5 3.1k â”‚              â”‚
â”‚  â”‚ å…è´¹       â”‚ â”‚ Â¥29/æœˆ    â”‚ â”‚ Â¥19/æœˆ    â”‚ â”‚ å…è´¹       â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                              â”‚
â”‚  åˆ†ç±»æµè§ˆ                                                                    â”‚
â”‚  [å…¨éƒ¨] [å‘½ç†] [èŒä¸š] [æƒ…æ„Ÿ] [ç”Ÿæ´»] [è‡ªæˆ‘æˆé•¿]                              â”‚
â”‚                                                                              â”‚
â”‚  å‘½ç†ç±» Skill                                                    [æŸ¥çœ‹æ›´å¤š]  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸ”® å¤§å¸ˆè§£ç›˜                          by æå¤§å¸ˆ                         â”‚ â”‚
â”‚  â”‚  èåˆå¤šæ´¾å‘½ç†çš„æ·±åº¦è§£è¯»ï¼Œ30å¹´å®æˆ˜ç»éªŒ                                   â”‚ â”‚
â”‚  â”‚  â­4.8 (1,234 è¯„ä»·)  |  å·²å®‰è£… 1.2k æ¬¡  |  å…è´¹                        â”‚ â”‚
â”‚  â”‚                                                          [æŸ¥çœ‹] [å®‰è£…] â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  ğŸ“… æµå¹´è¿åŠ¿å¤§å¸ˆ                      by å‘½ç†ç ”ç©¶æ‰€                     â”‚ â”‚
â”‚  â”‚  ç²¾å‡†çš„æµå¹´æµæœˆè¿åŠ¿åˆ†æ                                                 â”‚ â”‚
â”‚  â”‚  â­4.6 (567 è¯„ä»·)  |  å·²å®‰è£… 856 æ¬¡  |  Â¥9.9/æœˆ                       â”‚ â”‚
â”‚  â”‚                                                          [æŸ¥çœ‹] [è®¢é˜…] â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 12.2 Skill è¯¦æƒ…é¡µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† è¿”å› Store                                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  ğŸ”® å¤§å¸ˆè§£ç›˜                                                                â”‚
â”‚  by æå¤§å¸ˆ | å‘½ç†ç±» | v2.1.0                                                â”‚
â”‚                                                                              â”‚
â”‚  â­ 4.8 (1,234 è¯„ä»·)  |  ğŸ“¥ 1.2k å®‰è£…  |  ğŸ’¬ æ´»è·ƒ                          â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  èåˆã€Šæ»´å¤©é«“ã€‹ã€Šç©·é€šå®é‰´ã€‹ã€Šå­å¹³çœŸè¯ ã€‹ä¸‰å¤§ç»å…¸çš„å…«å­—æ·±åº¦è§£è¯»ã€‚        â”‚ â”‚
â”‚  â”‚  30å¹´å®æˆ˜ç»éªŒï¼ŒæœåŠ¡è¶…è¿‡10ä¸‡ç”¨æˆ·ã€‚                                       â”‚ â”‚
â”‚  â”‚                                                                         â”‚ â”‚
â”‚  â”‚  ç‰¹è‰²åŠŸèƒ½ï¼š                                                             â”‚ â”‚
â”‚  â”‚  â€¢ æ ¼å±€ç”¨ç¥ç²¾å‡†åˆ†æ                                                     â”‚ â”‚
â”‚  â”‚  â€¢ å¤§è¿æµå¹´è¯¦ç»†è§£è¯»                                                     â”‚ â”‚
â”‚  â”‚  â€¢ äº‹ä¸šè´¢è¿æ„Ÿæƒ…å…¨æ–¹ä½                                                   â”‚ â”‚
â”‚  â”‚  â€¢ æ”¯æŒè¿½é—®æ·±å…¥è®¨è®º                                                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  ä»·æ ¼ï¼šå…è´¹                                           [å®‰è£…åˆ°æˆ‘çš„ Skill]     â”‚
â”‚                                                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                              â”‚
â”‚  ç”¨æˆ·è¯„ä»·                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  â­â­â­â­â­ "åˆ†æå¾ˆå‡†ï¼Œè§£é‡Šé€šä¿—æ˜“æ‡‚"                        - ç”¨æˆ·A    â”‚ â”‚
â”‚  â”‚  â­â­â­â­â˜† "æ•´ä½“ä¸é”™ï¼Œå¸Œæœ›å¢åŠ åˆç›˜åŠŸèƒ½"                    - ç”¨æˆ·B    â”‚ â”‚
â”‚  â”‚  â­â­â­â­â­ "æ¯”å…¶ä»–å‘½ç†APPä¸“ä¸šå¤šäº†"                         - ç”¨æˆ·C    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## åä¸‰ã€æ€»ç»“

### æ ¸å¿ƒæ”¹åŠ¨

1. **Skill å­˜å‚¨**ï¼šæ–‡ä»¶ç³»ç»Ÿ â†’ æ•°æ®åº“ + å¯¹è±¡å­˜å‚¨
2. **Skill Loader**ï¼šé™æ€åŠ è½½ â†’ å¤šæ¥æºåŠ¨æ€åŠ è½½
3. **Tool Registry**ï¼šé™æ€æ³¨å†Œ â†’ æ”¯æŒæ²™ç®±æ‰§è¡Œ
4. **routing.yaml**ï¼šå…¨éƒ¨é…ç½® â†’ åªå®šä¹‰å¹³å° Skill

### ä¿æŒä¸å˜

1. **é…ç½®é©±åŠ¨**ï¼šskill_data + includes æ¨¡å‹
2. **LLM è·¯ç”±**ï¼šactivate_skill å·¥å…·
3. **å·¥å…·æœºåˆ¶**ï¼š@tool_handler æ¨¡å¼
4. **æ•°æ®æ¨¡å‹**ï¼šunified_profiles ç»“æ„

### æ–°å¢ç»„ä»¶

1. **Skill Registry**ï¼šæ•°æ®åº“å­˜å‚¨ + ç‰ˆæœ¬ç®¡ç†
2. **Skill Studio**ï¼šWeb åˆ›ä½œå·¥å…·
3. **Skill Store**ï¼šå‘ç°å’Œåˆ†å‘å¹³å°
4. **Sandbox**ï¼šå®‰å…¨æ‰§è¡Œç¯å¢ƒ
5. **Review System**ï¼šå®¡æ ¸ç³»ç»Ÿ
6. **Billing Split**ï¼šåˆ†æˆç»“ç®—
