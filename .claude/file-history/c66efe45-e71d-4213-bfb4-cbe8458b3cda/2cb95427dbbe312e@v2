# VibeLife v10 - æç®€ç»Ÿä¸€æ¶æ„

> Version: 10.0 | 2026-01-21
> åŸåˆ™ï¼š**æç®€ Ã— é«˜æ•ˆ Ã— è·¨ç»´åº¦èåˆ**

---

## ä¸€ã€è®¾è®¡å“²å­¦

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     v10 æ ¸å¿ƒåŸåˆ™                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  1. å››å±‚æ•°æ®æ¶æ„ï¼ˆæ¸…æ™°åˆ†ç¦»ï¼‰                                  â”‚
â”‚     Identity â†’ Skill Data â†’ Extracted â†’ Insights            â”‚
â”‚                                                             â”‚
â”‚  2. å…¨é‡æ•°æ®é©±åŠ¨ï¼ˆLLM èåˆï¼‰                                  â”‚
â”‚     ProfileExtractor: å¯¹è¯ + skill_data â†’ insights          â”‚
â”‚     ProactiveEngine: extracted + skill_data â†’ æ¨é€          â”‚
â”‚                                                             â”‚
â”‚  3. å®¹é”™ä¼˜å…ˆï¼ˆæ°¸ä¸ç©ºç™½ï¼‰                                      â”‚
â”‚     skill_data ç¼ºå¤± â†’ é™çº§åˆ°å¯¹è¯æŠ½å–                         â”‚
â”‚     å®Œå…¨ç©ºç™½ â†’ æ˜¾ç¤ºå¼•å¯¼å¡ç‰‡                                   â”‚
â”‚                                                             â”‚
â”‚  4. æ¸è¿›å¼ä½“éªŒï¼ˆç®€æ´é¦–å±ï¼‰                                    â”‚
â”‚     Me é¡µé¦–å±ï¼š1 æ¡æ ¸å¿ƒæ´å¯Ÿ                                   â”‚
â”‚     æ·±åº¦åˆ†æï¼šç”¨æˆ·ä¸»åŠ¨å±•å¼€                                    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## äºŒã€æ•°æ®æ¶æ„ï¼ˆå››å±‚æ¨¡å‹ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    unified_profiles.profile                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  Layer 1: Identityï¼ˆèº«ä»½åŸºç¡€ï¼‰                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  æ¥æºï¼šç”¨æˆ·å¡«å†™                                                    â”‚
â”‚  å†…å®¹ï¼šbirth_info (date, time, location, gender)                  â”‚
â”‚                                                                   â”‚
â”‚  Layer 2: Skill Dataï¼ˆä¸šåŠ¡æ•°æ®ï¼‰                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  æ¥æºï¼šSkills å®æ—¶å†™å…¥ï¼ˆå¯¹è¯ä¸­è®¡ç®—ï¼‰                               â”‚
â”‚  å†…å®¹ï¼š                                                           â”‚
â”‚    â€¢ bazi: { chart, dayun, daily_fortune }                       â”‚
â”‚    â€¢ zodiac: { natal_chart, transits }                           â”‚
â”‚    â€¢ lifecoach: { goals, check_ins }                             â”‚
â”‚                                                                   â”‚
â”‚  Layer 3: Extractedï¼ˆå¯¹è¯æŠ½å–ï¼‰                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  æ¥æºï¼šProfileExtractor æ‰¹é‡æ›´æ–°ï¼ˆæ¯æ—¥å‡Œæ™¨ 3 ç‚¹ï¼‰                  â”‚
â”‚  å†…å®¹ï¼š                                                           â”‚
â”‚    â€¢ emotion: { current, intensity, trend }                      â”‚
â”‚    â€¢ behavior: { dominant, patterns }                            â”‚
â”‚    â€¢ topic_heat: { career, health, relationship, growth }        â”‚
â”‚    â€¢ archetype_signals: { creator, healer, pioneer, sage }       â”‚
â”‚                                                                   â”‚
â”‚  Layer 4: Insightsï¼ˆè·¨ç»´åº¦æ´å¯Ÿï¼‰                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  æ¥æºï¼šProfileExtractor LLM èåˆç”Ÿæˆ                              â”‚
â”‚  å†…å®¹ï¼š                                                           â”‚
â”‚    â€¢ vibe_id: { archetype, trend, fusion_insight }               â”‚
â”‚    â€¢ fortune_context: { phase, guidance }                        â”‚
â”‚    â€¢ goal_alignment: { aligned, challenging }                    â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸‰ã€æ•°æ®æµï¼ˆæç®€ç‰ˆï¼‰

```
ç”¨æˆ·å¯¹è¯
   â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚                  â”‚
   â–¼                  â–¼
conversations    skill_data
(å¯¹è¯å†å²)        (Skills å®æ—¶å†™å…¥)
   â”‚                  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼ (æ¯æ—¥å‡Œæ™¨ 3 ç‚¹)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  ProfileExtractor  â”‚
   â”‚                    â”‚
   â”‚  Step 1: æŠ½å–      â”‚  conversations â†’ extracted
   â”‚  Step 2: èåˆ      â”‚  extracted + skill_data â†’ insights
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
      unified_profiles
      (extracted + insights)
             â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚                   â”‚
   â–¼ (æ¯æ—¥æ—© 8 ç‚¹)     â–¼ (API è¯·æ±‚)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ProactiveEngineâ”‚   â”‚  Me é¡µ   â”‚
â”‚              â”‚   â”‚Journey é¡µâ”‚
â”‚è¯»å–:         â”‚   â”‚          â”‚
â”‚â€¢ extracted   â”‚   â”‚è¯»å–:     â”‚
â”‚â€¢ skill_data  â”‚   â”‚â€¢ insightsâ”‚
â”‚â€¢ insights    â”‚   â”‚â€¢ extractedâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å››ã€ProfileExtractor è®¾è®¡

### 4.1 æ‰§è¡Œé€»è¾‘

```python
# Cron: æ¯æ—¥å‡Œæ™¨ 3 ç‚¹

async def run_profile_extraction(user_id: str):
    # è¯»å–æ•°æ®
    conversations = await get_recent_conversations(user_id, days=7)
    skill_data = await get_skill_data(user_id)  # å¯èƒ½ä¸ºç©º
    current_extracted = await get_extracted(user_id)

    # Step 1: å¯¹è¯æŠ½å–ï¼ˆå§‹ç»ˆæ‰§è¡Œï¼‰
    extracted_new = await llm_extract_from_conversations(
        conversations,
        dimensions=["emotion", "behavior", "topic_heat", "archetype_signals"]
    )

    # å¢é‡åˆå¹¶
    extracted = merge_extracted(current_extracted, extracted_new)

    # Step 2: è·¨ç»´åº¦èåˆï¼ˆæœ‰ skill_data æ—¶æ‰§è¡Œï¼‰
    insights = None
    if has_sufficient_skill_data(skill_data):
        insights = await llm_generate_fusion_insights(
            extracted=extracted,
            skill_data=skill_data
        )

    # å†™å…¥
    await update_profile(user_id, extracted=extracted, insights=insights)
```

### 4.2 å®¹é”™ç­–ç•¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®å®Œæ•´åº¦åˆ†çº§                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Level A: å®Œæ•´ï¼ˆæœ‰ skill_data + å¯¹è¯å†å²ï¼‰                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â†’ ç”Ÿæˆå®Œæ•´ extracted + insights                            â”‚
â”‚  â†’ Me é¡µæ˜¾ç¤ºèåˆæ´å¯Ÿ                                         â”‚
â”‚                                                             â”‚
â”‚  Level B: éƒ¨åˆ†ï¼ˆä»…æœ‰å¯¹è¯å†å²ï¼‰                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â†’ ç”Ÿæˆ extractedï¼ˆæƒ…ç»ªã€è¡Œä¸ºã€è¯é¢˜çƒ­åº¦ï¼‰                    â”‚
â”‚  â†’ insights è·³è¿‡èåˆï¼Œä»…ç”Ÿæˆè¡Œä¸ºæ´å¯Ÿ                         â”‚
â”‚  â†’ Me é¡µæ˜¾ç¤ºè¡Œä¸ºæ´å¯Ÿ + å¼•å¯¼ä½¿ç”¨ Skills                       â”‚
â”‚                                                             â”‚
â”‚  Level C: ç©ºç™½ï¼ˆæ–°ç”¨æˆ·/æ— å¯¹è¯ï¼‰                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â†’ è·³è¿‡æŠ½å–                                                  â”‚
â”‚  â†’ Me é¡µæ˜¾ç¤º Onboarding å¼•å¯¼å¡ç‰‡                            â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 LLM Promptï¼ˆèåˆæ´å¯Ÿï¼‰

```
ä½ æ˜¯è·¨ç»´åº¦ç”»åƒåˆ†æä¸“å®¶ã€‚èåˆä»¥ä¸‹æ•°æ®ï¼Œç”Ÿæˆ 1 æ¡æ ¸å¿ƒæ´å¯Ÿã€‚

## å‘½ç†ç‰¹è´¨
{skill_data.bazi.personality_traits}
{skill_data.zodiac.personality}

## è¿‘æœŸè¡Œä¸ºï¼ˆå¯¹è¯æŠ½å–ï¼‰
- æƒ…ç»ª: {extracted.emotion.current} (å¼ºåº¦ {extracted.emotion.intensity})
- è¡Œä¸ºæ¨¡å¼: {extracted.behavior.dominant}
- è¯é¢˜çƒ­åº¦: {extracted.topic_heat}
- åŸå‹ä¿¡å·: {extracted.archetype_signals}

## ç›®æ ‡çŠ¶æ€
{skill_data.lifecoach.goals}

## è¾“å‡ºè¦æ±‚
1. fusion_insight: 50 å­—ä»¥å†…ï¼Œè‡ªç„¶èåˆå‘½ç† + è¡Œä¸ºï¼ŒæŒ‡å‡ºå†…åœ¨ä¸€è‡´æ€§
2. vibe_id.archetype: å››åŸå‹æƒé‡ï¼ˆåŸºäºå‘½ç† + è¡Œä¸ºèåˆï¼‰
3. fortune_context.guidance: 20 å­—ä»¥å†…ï¼Œå½“å‰é˜¶æ®µçš„è¡ŒåŠ¨å»ºè®®

é‡è¦ï¼š
- å‘½ç†æ˜¯"å€¾å‘"ï¼Œä¸æ˜¯"å®¿å‘½"ï¼Œæ´å¯Ÿè¦èµ‹èƒ½è€Œéé™åˆ¶
- é¿å…ç©ºæ´çš„é¼“åŠ±ï¼Œè¦å…·ä½“æŒ‡å‡ºç‰¹è´¨ä¸è¡Œä¸ºçš„å…³è”

è¾“å‡º JSONã€‚
```

---

## äº”ã€æ•°æ®ç»“æ„ï¼ˆç²¾ç®€ç‰ˆï¼‰

```json
{
  "identity": {
    "birth_info": {
      "date": "1990-01-01",
      "time": "12:00",
      "location": "åŒ—äº¬",
      "gender": "male"
    }
  },

  "skill_data": {
    "bazi": {
      "chart": { "year": {...}, "month": {...}, "day": {...}, "hour": {...} },
      "dayun": { "current": {...}, "phase": "çªç ´æœŸ" },
      "daily_fortune": { "score": 75, "theme": "åˆ©æ²Ÿé€šè¡¨è¾¾" },
      "personality_traits": ["è¡¨è¾¾åŠ›å¼º", "æ€ç»´æ´»è·ƒ"]
    },
    "zodiac": {
      "natal_chart": { "sun": "Gemini", "moon": "Pisces", "ascendant": "Leo" },
      "transits": { "highlight": "åœŸæ˜Ÿå›å½’" },
      "personality": ["æ²Ÿé€šèƒ½åŠ›å¼º", "å¥½å¥‡å¿ƒæ—ºç››"]
    },
    "lifecoach": {
      "goals": [
        { "id": "g1", "title": "å®Œæˆå†™ä½œé¡¹ç›®", "progress": 0.6, "tags": ["career"] }
      ]
    }
  },

  "extracted": {
    "emotion": { "current": "calm", "intensity": 0.6, "trend": "stable" },
    "behavior": { "dominant": "problem_solving", "patterns": ["exploring", "planning"] },
    "topic_heat": { "career": 0.8, "growth": 0.5, "health": 0.1 },
    "archetype_signals": { "creator": 0.4, "pioneer": 0.3, "healer": 0.2, "sage": 0.1 }
  },

  "insights": {
    "vibe_id": {
      "archetype": { "creator": 0.35, "pioneer": 0.30, "healer": 0.25, "sage": 0.10 },
      "trend": { "rising": "pioneer", "delta": 0.05 },
      "fusion_insight": "å…«å­—é£Ÿç¥æ—º + åŒå­å–„æ²Ÿé€š + è¿‘æœŸé¢‘ç¹è®¨è®ºå†™ä½œï¼Œåˆ›é€ è€…ç‰¹è´¨æ­£åœ¨æ˜¾åŒ–ã€‚"
    },
    "fortune_context": {
      "phase": "çªç ´æœŸ",
      "guidance": "åˆ©æ²Ÿé€šè¡¨è¾¾ï¼Œä¼˜å…ˆæ¨è¿›åˆ›ä½œç±»ç›®æ ‡"
    },
    "goal_alignment": {
      "aligned": ["å®Œæˆå†™ä½œé¡¹ç›®"],
      "challenging": []
    }
  },

  "account": { "display_name": "ç”¨æˆ·", "tier": "free" },
  "preferences": { "timezone": "Asia/Shanghai" }
}
```

---

## å…­ã€ProactiveEngine è®¾è®¡

### 6.1 æ‰§è¡Œé€»è¾‘

```python
# Cron: æ¯æ—¥æ—© 8 ç‚¹

async def run_proactive_engine(user_id: str):
    profile = await get_profile(user_id)

    # æ„å»ºè¯„ä¼°ä¸Šä¸‹æ–‡
    context = {
        "emotion": profile.extracted.emotion,
        "topic_heat": profile.extracted.topic_heat,
        "goals": profile.skill_data.lifecoach.goals if profile.skill_data else [],
        "fortune": profile.skill_data.bazi.daily_fortune if profile.skill_data else None,
        "insights": profile.insights,
        "days_since_chat": calculate_days_since_last_chat(user_id),
        "last_push_date": get_last_push_date(user_id)
    }

    # LLM è¯„ä¼°æ˜¯å¦æ¨é€
    decision = await llm_evaluate_push(context)

    if decision.should_push:
        content = await llm_generate_push_content(
            push_type=decision.push_type,
            user_context=context
        )
        await send_push(user_id, content)
```

### 6.2 æ¨é€åœºæ™¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ¨é€åœºæ™¯ä¼˜å…ˆçº§                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  P0: æƒ…ç»ªå…³æ€€ï¼ˆemotion.intensity < 0.3 è¿ç»­ 3 å¤©ï¼‰          â”‚
â”‚  â†’ "æœ€è¿‘æ„Ÿè§‰ä½ æœ‰äº›ä½è½ï¼Œæƒ³èŠèŠå—ï¼Ÿ"                          â”‚
â”‚                                                             â”‚
â”‚  P1: ç›®æ ‡æé†’ï¼ˆç›®æ ‡ 3 å¤©æœªæ›´æ–° + topic_heat é«˜ï¼‰             â”‚
â”‚  â†’ "ä½ çš„å†™ä½œé¡¹ç›®å¥½å‡ å¤©æ²¡åŠ¨äº†ï¼Œéœ€è¦æˆ‘å¸®ä½ ç†ç†æ€è·¯å—ï¼Ÿ"         â”‚
â”‚                                                             â”‚
â”‚  P2: è¿åŠ¿æ´å¯Ÿï¼ˆdaily_fortune æ˜¾è‘—å˜åŒ–ï¼‰                      â”‚
â”‚  â†’ "ä»Šå¤©è¿åŠ¿ä¸é”™ï¼Œåˆ©æ²Ÿé€šè¡¨è¾¾ï¼Œæ˜¯æ¨è¿›å†™ä½œçš„å¥½æ—¶æœºã€‚"           â”‚
â”‚                                                             â”‚
â”‚  P3: å”¤é†’ï¼ˆ7 å¤©æœªæ´»è·ƒï¼‰                                      â”‚
â”‚  â†’ "å¥½ä¹…ä¸è§ï¼Œæœ€è¿‘æ€ä¹ˆæ ·ï¼Ÿ"                                  â”‚
â”‚                                                             â”‚
â”‚  é¢‘ç‡é™åˆ¶ï¼šæ¯ç”¨æˆ·æœ€å¤š 1 æ¬¡/å¤©ï¼Œ3 æ¬¡/å‘¨                       â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸ƒã€å‰ç«¯ API

### 7.1 Me é¡µ

**GET /api/v1/me/dashboard**

```json
{
  "primary_insight": {
    "content": "å…«å­—é£Ÿç¥æ—º + åŒå­å–„æ²Ÿé€š + è¿‘æœŸé¢‘ç¹è®¨è®ºå†™ä½œï¼Œåˆ›é€ è€…ç‰¹è´¨æ­£åœ¨æ˜¾åŒ–ã€‚",
    "type": "fusion"
  },
  "vibe_id": {
    "archetype": { "creator": 0.35, "pioneer": 0.30, "healer": 0.25, "sage": 0.10 },
    "trend": { "rising": "pioneer", "delta": 0.05 }
  },
  "emotion": { "current": "calm", "intensity": 0.6, "trend": "stable" },
  "fortune_context": {
    "phase": "çªç ´æœŸ",
    "guidance": "åˆ©æ²Ÿé€šè¡¨è¾¾ï¼Œä¼˜å…ˆæ¨è¿›åˆ›ä½œç±»ç›®æ ‡"
  },
  "data_level": "A"  // A=å®Œæ•´, B=éƒ¨åˆ†, C=ç©ºç™½
}
```

**UI è®¾è®¡åŸåˆ™ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é¦–å±ï¼šæ ¸å¿ƒæ´å¯Ÿï¼ˆ1 æ¡ï¼‰                  â”‚
â”‚                                        â”‚
â”‚  ğŸ’¡ "å…«å­—é£Ÿç¥æ—º + åŒå­å–„æ²Ÿé€š + è¿‘æœŸ      â”‚
â”‚     é¢‘ç¹è®¨è®ºå†™ä½œï¼Œåˆ›é€ è€…ç‰¹è´¨æ­£åœ¨æ˜¾åŒ–ã€‚"  â”‚
â”‚                                        â”‚
â”‚  å½“å‰é˜¶æ®µï¼šçªç ´æœŸ                        â”‚
â”‚  è¡ŒåŠ¨å»ºè®®ï¼šåˆ©æ²Ÿé€šè¡¨è¾¾ï¼Œä¼˜å…ˆæ¨è¿›åˆ›ä½œç±»ç›®æ ‡ â”‚
â”‚                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                        â”‚
â”‚  [å±•å¼€æ·±åº¦åˆ†æ â–¼]                       â”‚  â† ç”¨æˆ·ä¸»åŠ¨å±•å¼€
â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 Journey é¡µ

**GET /api/v1/journey/goals**

```json
{
  "goals": [
    {
      "id": "g1",
      "title": "å®Œæˆå†™ä½œé¡¹ç›®",
      "progress": 0.6,
      "priority_score": 0.92,
      "signals": {
        "topic_heat": 0.8,
        "fortune_aligned": true,
        "archetype_match": 0.35
      },
      "recommendation": "å½“å‰æ˜¯æ¨è¿›æ­¤ç›®æ ‡çš„å¥½æ—¶æœº"
    }
  ],
  "alignment_summary": "å½“å‰å¤§è¿åˆ©æ–‡ï¼Œå»ºè®®ä¼˜å…ˆæ¨è¿›åˆ›ä½œç±»ç›®æ ‡"
}
```

**æ™ºèƒ½æ’åºå…¬å¼ï¼š**
```
priority_score =
    topic_heat * 0.4 +           // è¿‘æœŸå…³æ³¨åº¦
    fortune_alignment * 0.3 +    // å‘½ç†å¥‘åˆåº¦
    archetype_match * 0.3        // åŸå‹åŒ¹é…åº¦
```

---

## å…«ã€å®æ–½è®¡åˆ’

### Phase 1: ProfileExtractor åŸºç¡€ï¼ˆ3 å¤©ï¼‰

```
Day 1: æŠ½å–é€»è¾‘
  â–¡ ä¿®æ”¹ EXTRACTION_PROMPTï¼ˆå¢åŠ  archetype_signalsï¼‰
  â–¡ å®ç° skill_data è¯»å–
  â–¡ å®¹é”™ç­–ç•¥ï¼ˆLevel A/B/Cï¼‰

Day 2: èåˆæ´å¯Ÿ
  â–¡ llm_generate_fusion_insights()
  â–¡ å¢é‡åˆå¹¶é€»è¾‘
  â–¡ Cron å…¥å£

Day 3: è´¨é‡éªŒè¯
  â–¡ æµ‹è¯• 10 ä¸ªçœŸå®ç”¨æˆ·
  â–¡ Bad case æ”¶é›† â†’ Prompt è¿­ä»£
  â–¡ å»ºç«‹è¯„ä¼°æ ‡å‡†ï¼ˆå…·ä½“æ€§ã€å¯æ“ä½œæ€§ï¼‰
```

### Phase 2: ProactiveEngine å‡çº§ï¼ˆ2 å¤©ï¼‰

```
Day 4: è¯„ä¼°é€»è¾‘
  â–¡ llm_evaluate_push() å¢åŠ  skill_data + insights
  â–¡ æ¨é€åœºæ™¯ä¼˜å…ˆçº§

Day 5: æ¨é€æµ‹è¯•
  â–¡ llm_generate_push_content()
  â–¡ é¢‘ç‡é™åˆ¶é€»è¾‘
  â–¡ ç«¯åˆ°ç«¯æµ‹è¯•
```

### Phase 3: å‰ç«¯ API + UIï¼ˆ3 å¤©ï¼‰

```
Day 6: Me é¡µ
  â–¡ GET /api/v1/me/dashboard
  â–¡ é¦–å±ç»„ä»¶ï¼ˆæ ¸å¿ƒæ´å¯Ÿï¼‰
  â–¡ æ·±åº¦åˆ†ææŠ˜å åŒº

Day 7: Journey é¡µ
  â–¡ GET /api/v1/journey/goals
  â–¡ æ™ºèƒ½æ’åºé€»è¾‘
  â–¡ ç›®æ ‡å¡ç‰‡ç»„ä»¶

Day 8: é›†æˆæµ‹è¯•
  â–¡ ç«¯åˆ°ç«¯æµç¨‹éªŒè¯
  â–¡ å®¹é”™åœºæ™¯æµ‹è¯•ï¼ˆLevel B/Cï¼‰
  â–¡ æ€§èƒ½éªŒè¯ï¼ˆAPI < 200msï¼‰
```

### Phase 4: ç¼“å†² + è°ƒä¼˜ï¼ˆ2 å¤©ï¼‰

```
Day 9-10:
  â–¡ çœŸå®ç”¨æˆ·åé¦ˆæ”¶é›†
  â–¡ Prompt ç²¾è°ƒ
  â–¡ Bad case ä¿®å¤
  â–¡ ä¸Šçº¿å‡†å¤‡
```

**æ€»è®¡ï¼š10 å¤©**

---

## ä¹ã€éªŒæ”¶æ ‡å‡†

### åŠŸèƒ½

- [ ] ProfileExtractor æ­£ç¡®è¯»å– skill_data
- [ ] ç”Ÿæˆèåˆæ´å¯Ÿï¼ˆfusion_insight éç©ºï¼‰
- [ ] skill_data ç¼ºå¤±æ—¶é™çº§åˆ° Level B
- [ ] Me é¡µæ˜¾ç¤ºæ ¸å¿ƒæ´å¯Ÿ
- [ ] Journey é¡µæ™ºèƒ½æ’åº
- [ ] ProactiveEngine åŸºäºå…¨é‡æ•°æ®æ¨é€

### è´¨é‡

- [ ] èåˆæ´å¯Ÿå…·ä½“ï¼ˆåŒ…å«ç”¨æˆ·ç‰¹å¾å¼•ç”¨ï¼‰
- [ ] èåˆæ´å¯Ÿèµ‹èƒ½ï¼ˆä¸æ˜¯å®¿å‘½è®ºè¡¨è¿°ï¼‰
- [ ] Bad case < 10%

### æ€§èƒ½

- [ ] ProfileExtractor < 3s/ç”¨æˆ·
- [ ] ProactiveEngine < 1.5s/ç”¨æˆ·
- [ ] API < 200ms

---

## åã€æˆæœ¬ä¼°ç®—

```
ProfileExtractorï¼ˆ100 æ´»è·ƒç”¨æˆ·/æ—¥ï¼‰
  æŠ½å–: 100 Ã— 2k tokens = 200k
  èåˆ: 100 Ã— 3k tokens = 300k
  å°è®¡: 500k tokens/æ—¥ â‰ˆ Â¥0.50

ProactiveEngineï¼ˆ100 æ´»è·ƒç”¨æˆ·/æ—¥ï¼‰
  è¯„ä¼°: 100 Ã— 2k = 200k
  ç”Ÿæˆ: 20 Ã— 2k = 40kï¼ˆ20% è§¦å‘æ¨é€ï¼‰
  å°è®¡: 240k tokens/æ—¥ â‰ˆ Â¥0.24

æœˆæˆæœ¬: (0.50 + 0.24) Ã— 30 = Â¥22.2
```

---

## åä¸€ã€å…³é”®è®¾è®¡å†³ç­–

### D1: å››å±‚æ•°æ®æ¶æ„

```
Identity â†’ Skill Data â†’ Extracted â†’ Insights
   â”‚            â”‚            â”‚           â”‚
ç”¨æˆ·å¡«å†™    Skillså†™å…¥   Extractor   LLMèåˆ
```

**ç†ç”±ï¼š** èŒè´£æ¸…æ™°ï¼Œä¾èµ–å•å‘ï¼Œæ˜“äºè°ƒè¯•

### D2: å®¹é”™ä¼˜å…ˆ

**åŸåˆ™ï¼š** Me é¡µæ°¸è¿œæœ‰å†…å®¹

```
Level A (å®Œæ•´) â†’ èåˆæ´å¯Ÿ
Level B (éƒ¨åˆ†) â†’ è¡Œä¸ºæ´å¯Ÿ + å¼•å¯¼
Level C (ç©ºç™½) â†’ Onboarding å¡ç‰‡
```

### D3: æ¸è¿›å¼ä½“éªŒ

**åŸåˆ™ï¼š** é¦–å±ç®€æ´ï¼Œæ·±åº¦å¯é€‰

```
é¦–å±: 1 æ¡æ ¸å¿ƒæ´å¯Ÿ + è¡ŒåŠ¨å»ºè®®
æ·±åº¦: ç”¨æˆ·ä¸»åŠ¨å±•å¼€
```

### D4: å‘½ç†å®šä½

**åŸåˆ™ï¼š** å‘½ç†æ˜¯"å€¾å‘"ï¼Œä¸æ˜¯"å®¿å‘½"

```
âœ“ "ä½ çš„åˆ›é€ è€…ç‰¹è´¨æ­£åœ¨æ˜¾åŒ–"
âœ— "ä½ å‘½ä¸­æ³¨å®šæ˜¯åˆ›é€ è€…"

âœ“ "å½“å‰å¤§è¿åˆ©æ–‡ï¼Œå»ºè®®ä¼˜å…ˆæ¨è¿›"
âœ— "å¤§è¿ä¸åˆ©æ­¦ï¼Œä¸è¦åšå¥èº«"
```

---

## åäºŒã€é£é™©ä¸ç¼“è§£

| é£é™© | ç¼“è§£æªæ–½ |
|------|---------|
| LLM ç”Ÿæˆç©ºæ´ | Phase 1 Day 3 è´¨é‡éªŒè¯å¿…é¡»é€šè¿‡ |
| skill_data æ™®éç¼ºå¤± | Level B/C é™çº§æ–¹æ¡ˆ + å¼•å¯¼ |
| ç”¨æˆ·ä¸ç†è§£èåˆæ´å¯Ÿ | é¦–å±ç®€æ´ï¼Œæœ¯è¯­æœ€å°åŒ– |
| è¿‡åº¦ä¾èµ– AI åˆ¤æ–­ | æ´å¯Ÿå¼ºè°ƒ"å‚è€ƒ"ï¼Œå®šæœŸæé†’è‡ªä¸» |

---

## åä¸‰ã€ä¸ V8 æ„¿æ™¯å¯¹é½

| æ„¿æ™¯ç›®æ ‡ | V10 å®ç° | çŠ¶æ€ |
|---------|---------|------|
| æ·±åº¦ç†è§£ | è·¨ç»´åº¦èåˆæ´å¯Ÿ | âœ“ |
| ä¸»åŠ¨å…³å¿ƒ | ProactiveEngine å…¨é‡æ•°æ® | âœ“ |
| æ— é™æ‰©å±• | Skill Data ç‹¬ç«‹å±‚ | âœ“ |
| æ¸©æš–ä¸ç²˜è…» | å‘½ç†æ˜¯å€¾å‘/æ¨é€é¢‘ç‡é™åˆ¶ | âœ“ |
| æ•°æ®æŠ¤åŸæ²³ | å››å±‚æ¶æ„/ç´¯ç§¯æ´å¯Ÿ | âœ“ |

---

## ç»“è¯­

V10 = V9 ç²¾å - å¤æ‚åº¦ + å®¹é”™ + è´¨é‡ä¿éšœ

```
æ ¸å¿ƒåˆ›æ–°ä¿ç•™ï¼š
âœ“ è·¨ç»´åº¦èåˆï¼ˆå‘½ç† Ã— è¡Œä¸º Ã— ç›®æ ‡ï¼‰
âœ“ VibeID å‡çº§ä¸ºèåˆç”»åƒ
âœ“ å…¨é‡æ•°æ®é©±åŠ¨æ¨é€

å¤æ‚åº¦å‰Šå‡ï¼š
âœ— è¿‡åº¦åµŒå¥—çš„æ•°æ®ç»“æ„
âœ— è¿‡å¤šçš„ insights å­ç±»å‹
âœ— å¤æ‚çš„ UI é¦–å±

æ–°å¢ä¿éšœï¼š
+ å®¹é”™ç­–ç•¥ï¼ˆLevel A/B/Cï¼‰
+ è´¨é‡éªŒè¯ï¼ˆPhase 1 Day 3ï¼‰
+ ä¼¦ç†è¾¹ç•Œï¼ˆå‘½ç†æ˜¯å€¾å‘ï¼‰
+ ç¼“å†²æ—¶é—´ï¼ˆ10 å¤© vs 8 å¤©ï¼‰
```

---

> **Version**: 10.0 | 2026-01-21
> **ä½œè€…**: Claude (åŸºäº V8 æ„¿æ™¯ + V9 ç²¾å + Review åé¦ˆ)
