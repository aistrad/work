/**
 * Fortune AI Agent Service - Model Configuration
 *
 * TASK-3.1.2: 配置 LLM 模型注册
 * REQ: REQ-AGENT-001
 * Design: §2.2
 * HOS-REF: §0.3
 */

import { createOpenAI } from '@ai-sdk/openai';
import { createAnthropic } from '@ai-sdk/anthropic';

// GLM Provider (OpenAI compatible)
export const glmProvider = createOpenAI({
  baseURL: process.env.GLM_BASE_URL || 'https://api.z.ai/api/paas/v4',
  apiKey: process.env.GLM_API_KEY || '',
  compatibility: 'compatible',
});

// Claude Provider
export const claudeProvider = createAnthropic({
  apiKey: process.env.CLAUDE_API_KEY || '',
});

// OpenAI Provider (for embeddings)
export const openaiProvider = createOpenAI({
  apiKey: process.env.OPENAI_API_KEY || '',
});

// Get models - return type is inferred
export function getGlm4Model() {
  return glmProvider('glm-4.7');
}

export function getClaudeModel() {
  return claudeProvider('claude-3-5-sonnet-20241022');
}

export function getGlm4FlashModel() {
  return glmProvider('glm-4-flash');
}

export function getEmbeddingModel() {
  return openaiProvider.embedding('text-embedding-ada-002');
}

// Default model for chat
export function getDefaultChatModel() {
  return getGlm4Model();
}
