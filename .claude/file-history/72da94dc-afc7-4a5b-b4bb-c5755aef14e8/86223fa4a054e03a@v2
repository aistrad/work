# VibeLife Cron Jobs
# ===================
# 将此文件添加到系统 crontab: crontab crontab.example

# 环境变量
VIBELIFE_DB_URL=postgresql://postgres:password@localhost:5432/vibelife
PYTHONPATH=/path/to/vibelife/apps/api

# ───────────────────────────────────────────────────────────────
# 提醒调度器 - 每小时运行一次
# ───────────────────────────────────────────────────────────────
0 * * * * cd /path/to/vibelife/apps/api && python3 scripts/run_scheduler.py --once >> /var/log/vibelife/scheduler.log 2>&1

# ───────────────────────────────────────────────────────────────
# 周运提醒 - 每周日晚上8点
# ───────────────────────────────────────────────────────────────
0 20 * * 0 cd /path/to/vibelife/apps/api && python3 scripts/send_weekly_fortune.py >> /var/log/vibelife/weekly.log 2>&1

# ───────────────────────────────────────────────────────────────
# 数据库清理 - 每天凌晨3点
# ───────────────────────────────────────────────────────────────
0 3 * * * cd /path/to/vibelife/apps/api && python3 scripts/cleanup.py >> /var/log/vibelife/cleanup.log 2>&1

# ───────────────────────────────────────────────────────────────
# 知识库向量更新 - 每天凌晨4点
# ───────────────────────────────────────────────────────────────
0 4 * * * cd /path/to/vibelife/apps/api && python3 scripts/update_embeddings.py >> /var/log/vibelife/embeddings.log 2>&1
