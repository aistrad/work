# Onboarding UX ä¼˜åŒ–é‡æ„è®¡åˆ’

## è®¾è®¡æ–‡æ¡£

**World-Class Design v6.0** å·²è¾“å‡ºåˆ°: `/home/aiscend/work/vibelife/docs/components/onboarding/DESIGN.md`

### è®¾è®¡å“²å­¦
```
å…‹åˆ¶ Â· ç²¾è‡´ Â· æµç•… Â· æ¸©æš–
Linear å…‹åˆ¶ç¾å­¦ + ä¸œæ–¹çµæ€§æ¸©åº¦ + è¥é”€å¿ƒç†å­¦
```

### åŒ…å«å†…å®¹
- å®Œæ•´è§†è§‰ç³»ç»Ÿ (è‰²å½©ã€å­—ä½“ã€é—´è·ã€é˜´å½±)
- 4 ä¸ª Phase çš„è¯¦ç»† wireframe + ç»„ä»¶ä»£ç 
- å¿ƒç†å­¦åŸåˆ™åˆ°å®ç°çš„å®Œæ•´æ˜ å°„
- åŠ¨ç”»ç¼–æ’ (æ—¶åºã€ç¼“åŠ¨ã€æ—¶é•¿)
- å“åº”å¼è®¾è®¡å’Œå¯è®¿é—®æ€§è§„èŒƒ

### å…³é”®ä¿®å¤
1. **BreathAura å±‚çº§** - z-0 + pointer-events-none + blur-3xl
2. **è¾“å…¥åŒºé‡è®¾è®¡** - å‚ç›´å †å  + å¤§å­—ä½“ + å‘¼å¸æ„Ÿ
3. **Curiosity Hook** - "æˆ‘æƒ³å‘Šè¯‰ä½ ä¸€ä»¶äº‹..."
4. **Goal-Gradient** - è¿›åº¦èµ·å§‹ 40%ï¼Œå‰ 2 æ­¥é¢„å®Œæˆ

## ç›®æ ‡

åŸºäº DESIGN.md å’Œ proactive UX.md çš„å¿ƒç†å­¦åŸåˆ™ï¼Œä¼˜åŒ– onboarding å‰ç«¯ä½“éªŒã€‚

## æ ¸å¿ƒå¿ƒç†å­¦åŸåˆ™ (P0)

| åŸåˆ™ | å½“å‰çŠ¶æ€ | ä¼˜åŒ–ç›®æ ‡ |
|------|---------|---------|
| **Goal-Gradient** | è¿›åº¦ä» 0% å¼€å§‹ | è¿›åº¦ä» 40% å¼€å§‹ (2/5 å·²å®Œæˆæ„Ÿ) |
| **Curiosity Gap** | æ— æ‚¬å¿µå¼•å¯¼ | æ·»åŠ  "æˆ‘æƒ³å‘Šè¯‰ä½ ä¸€ä¸ªç§˜å¯†..." |
| **Quick Win** | æ— é¢„å®Œæˆæ„Ÿ | å‰2æ­¥æ˜¾ç¤ºä¸ºå·²å®Œæˆ |
| **Reciprocity** | åŸºæœ¬å®ç° | å¼ºåŒ– "å…ˆç»™ä»·å€¼" æ„ŸçŸ¥ |

---

## ä¿®æ”¹èŒƒå›´

### 1. LoadingStep.tsx - Goal-Gradient ä¿®å¤ (P0)

**æ–‡ä»¶**: `apps/web/src/app/onboarding/steps/LoadingStep.tsx`

**æ”¹åŠ¨**:
1. é‡æ„ STEPS ä¸º 5 æ­¥ journey (å‰ 2 æ­¥é¢„å®Œæˆ)
2. æ·»åŠ æ°´å¹³è¿›åº¦æ¡ç»„ä»¶ (èµ·å§‹ 40%)
3. æ¯æ­¥æ˜¾ç¤ºè§£é”å¥–åŠ±

```typescript
// æ–°çš„ journey æ­¥éª¤å®šä¹‰
const JOURNEY_STEPS = [
  { id: 'birth', label: 'ç”Ÿæ—¥ä¿¡æ¯', reward: 'å·²æ”¶é›†', status: 'done' },
  { id: 'intent', label: 'å¼€å¯å‘½ç›˜', reward: 'å·²ç¡®è®¤', status: 'done' },
  { id: 'bazi', label: 'è§£è¯»å…«å­—', reward: 'è§£é”å‘½æ ¼' },
  { id: 'zodiac', label: 'åˆ†ææ˜Ÿåº§', reward: 'è§£é”æ˜Ÿè±¡' },
  { id: 'fusion', label: 'èåˆæ´å¯Ÿ', reward: 'ç”Ÿæˆä¸‰ä¸ªæ´å¯Ÿ' },
]

// è¿›åº¦è®¡ç®—: 40% èµ·å§‹
const progress = ((2 + currentStep) / 5) * 100
```

**æ–°å¢ç»„ä»¶**:
- `ProgressBarWithGradient` - å¸¦ shimmer æ•ˆæœçš„è¿›åº¦æ¡
- `JourneyChecklist` - 5 æ­¥æ¸…å•ï¼Œå‰ 2 æ­¥æ‰“å‹¾

---

### 2. LandingStep.tsx - Curiosity Gap å®ç° (P0)

**æ–‡ä»¶**: `apps/web/src/app/onboarding/steps/LandingStep.tsx`

**æ”¹åŠ¨**:
1. åœ¨è¡¨å•ä¸Šæ–¹æ·»åŠ æ‚¬å¿µæ–‡æ¡ˆ
2. æ·»åŠ  "ä½ å°†è·å¾—" é¢„è§ˆ
3. ä¼˜åŒ–åŠ¨ç”»æ—¶åº

```typescript
// å˜ä½“ç‰¹å®šæ‚¬å¿µ
const VARIANT_TEASERS = {
  bazi: 'ğŸ’¡ æˆ‘æƒ³å‘Šè¯‰ä½ ä¸€ä¸ªå…³äºä½ çš„ç§˜å¯†...',
  zodiac: 'âœ¨ ä½ çš„æ˜Ÿç›˜é‡Œè—ç€ä¸€ä¸ªæœ‰è¶£çš„çŸ›ç›¾...',
  jungastro: 'ğŸŒ‘ ä½ çš„é˜´å½±é‡Œè—ç€ä½ æœ€å¤§çš„æ½œåŠ›...',
  dankoe: null, // è·³è¿‡
}

// ä½ å°†è·å¾—é¢„è§ˆ
const REWARDS_PREVIEW = [
  { icon: 'âœ¨', label: 'ä¸‰ä¸ªç²¾å‡†æ´å¯Ÿ' },
  { icon: 'ğŸ¯', label: 'ä¸“å±äººç”ŸæŒ‡å¼•' },
  { icon: 'ğŸ“…', label: 'æ¯æ—¥è¿åŠ¿æé†’' },
]
```

---

### 3. types.ts - ç±»å‹å®šä¹‰æ‰©å±•

**æ–‡ä»¶**: `apps/web/src/app/onboarding/types.ts`

**æ–°å¢ç±»å‹**:
```typescript
export interface JourneyStep {
  id: string
  label: string
  reward: string
  status: 'done' | 'current' | 'pending'
}

export const JOURNEY_STEPS: Omit<JourneyStep, 'status'>[] = [
  { id: 'birth', label: 'ç”Ÿæ—¥ä¿¡æ¯', reward: 'å·²æ”¶é›†' },
  { id: 'intent', label: 'å¼€å¯å‘½ç›˜', reward: 'å·²ç¡®è®¤' },
  { id: 'bazi', label: 'è§£è¯»å…«å­—', reward: 'è§£é”å‘½æ ¼' },
  { id: 'zodiac', label: 'åˆ†ææ˜Ÿåº§', reward: 'è§£é”æ˜Ÿè±¡' },
  { id: 'fusion', label: 'èåˆæ´å¯Ÿ', reward: 'ç”Ÿæˆæ´å¯Ÿ' },
]
```

---

### 4. globals.css - CSS åŠ¨ç”»æ‰©å±•

**æ–‡ä»¶**: `apps/web/src/app/globals.css`

**æ–°å¢åŠ¨ç”»**:
```css
/* è¿›åº¦æ¡å‘å…‰ */
@keyframes progress-glow {
  0%, 100% { box-shadow: 0 0 8px rgba(234, 190, 138, 0.3); }
  50% { box-shadow: 0 0 16px rgba(234, 190, 138, 0.6); }
}
.animate-progress-glow {
  animation: progress-glow 2s ease-in-out infinite;
}

/* å®Œæˆæ‰“å‹¾å¼¹å‡º */
@keyframes check-pop {
  0% { transform: scale(0.8); opacity: 0; }
  50% { transform: scale(1.2); }
  100% { transform: scale(1); opacity: 1; }
}
.animate-check-pop {
  animation: check-pop 0.3s var(--ease-spring);
}

/* æ…¢é€Ÿå…‰ç¯æ‰©æ•£ */
@keyframes ping-slow {
  0% { transform: scale(1); opacity: 0.5; }
  75%, 100% { transform: scale(1.5); opacity: 0; }
}
.animate-ping-slow {
  animation: ping-slow 3s cubic-bezier(0, 0, 0.2, 1) infinite;
}
```

---

## å®ç°æ­¥éª¤

### Step 1: ç±»å‹å®šä¹‰
1. ç¼–è¾‘ `types.ts` æ·»åŠ  JourneyStep ç±»å‹å’Œå¸¸é‡

### Step 2: CSS åŠ¨ç”»
2. ç¼–è¾‘ `globals.css` æ·»åŠ æ–°åŠ¨ç”» keyframes

### Step 3: LoadingStep é‡æ„
3. é‡æ„ LoadingStep.tsx:
   - æ–°å¢ ProgressBarWithGradient ç»„ä»¶
   - æ–°å¢ JourneyChecklist ç»„ä»¶
   - ä¿®æ”¹ä¸»ç»„ä»¶ä½¿ç”¨æ–°å¸ƒå±€

### Step 4: LandingStep å¢å¼º
4. ç¼–è¾‘ LandingStep.tsx:
   - æ·»åŠ  VARIANT_TEASERS å¸¸é‡
   - æ·»åŠ  CuriosityTeaser ç»„ä»¶
   - æ·»åŠ  RewardsPreview ç»„ä»¶

### Step 5: æµ‹è¯•éªŒè¯
5. æœ¬åœ°æµ‹è¯•æ‰€æœ‰ 4 ä¸ªå˜ä½“:
   - /onboarding (bazi)
   - /onboarding?variant=zodiac
   - /onboarding?variant=jungastro
   - /onboarding?variant=dankoe

---

## å…³é”®æ–‡ä»¶åˆ—è¡¨

| æ–‡ä»¶ | ä¿®æ”¹ç±»å‹ | ä¼˜å…ˆçº§ |
|-----|---------|-------|
| `apps/web/src/app/onboarding/types.ts` | æ–°å¢ç±»å‹ | P0 |
| `apps/web/src/app/globals.css` | æ–°å¢åŠ¨ç”» | P0 |
| `apps/web/src/app/onboarding/steps/LoadingStep.tsx` | é‡æ„ | P0 |
| `apps/web/src/app/onboarding/steps/LandingStep.tsx` | å¢å¼º | P0 |

---

## éªŒè¯æ–¹æ³•

1. **è§†è§‰éªŒè¯**:
   - è®¿é—® http://localhost:8232/onboarding
   - è¾“å…¥ç”Ÿæ—¥ï¼Œç¡®è®¤è¿›åº¦æ¡ä» 40% å¼€å§‹
   - ç¡®è®¤å‰ 2 æ­¥æ˜¾ç¤ºä¸ºå·²å®Œæˆ (ç»¿è‰²å‹¾)

2. **å˜ä½“éªŒè¯**:
   - æµ‹è¯• 4 ä¸ªå˜ä½“ URL å‚æ•°
   - ç¡®è®¤ dankoe è·³è¿‡ landing/loading

3. **åŠ¨ç”»éªŒè¯**:
   - ç¡®è®¤ shimmer æ•ˆæœæµç•…
   - ç¡®è®¤ check-pop åŠ¨ç”»è§¦å‘
   - ç¡®è®¤ ping-slow å…‰ç¯æ•ˆæœ

---

## ä¸åœ¨æœ¬æ¬¡èŒƒå›´

- ConversionStep ä¼˜åŒ– (ç¤¾äº¤è¯æ˜ã€å€’è®¡æ—¶)
- A/B æµ‹è¯•è¿½è¸ª
- åç«¯ API æ–°å¢
- EmbeddedChatStep å¡ç‰‡æ¸²æŸ“ä¼˜åŒ–
