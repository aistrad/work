# VibeLife

> The Living Companion Ecosystem - 每个人都值得被深度理解

## 项目概述

VibeLife 是一个 AI 原生的个人成长陪伴平台，通过多个专业 Skill 站点提供深度理解和主动关怀。

### 核心定位

**三大差异化**:
1. **Deep Understanding** — 理解你这个人，而非只是问题
2. **Proactive Agency** — 主动关心，而非等你开口
3. **Infinite Extensibility** — 通过 Skills 无限扩展

### Skill 站点

| 站点 | 域名 | 说明 |
|------|------|------|
| 八字 | bazi.vibelife.app | 八字命理分析 |
| 星座 | zodiac.vibelife.app | 星座占星解读 |
| MBTI | mbti.vibelife.app | 性格类型探索 |

## 技术架构

### 核心引擎 (Vibe Engine)

```
┌─────────────────────────────────────────────────┐
│  Context Assembly (Hot + Cold Memory)           │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐        │
│  │ Portrait │ │ Messages │ │ Insights │        │
│  │ (Hot)    │ │ (Buffer) │ │ (Cold)   │        │
│  └──────────┘ └──────────┘ └──────────┘        │
└─────────────────────────────────────────────────┘
         │
         ▼
┌─────────────────────────────────────────────────┐
│  LLM Orchestrator (GLM / Claude)                │
└─────────────────────────────────────────────────┘
         │
         ▼
┌─────────────────────────────────────────────────┐
│  Insight Engine (LLM 驱动洞察生成)              │
└─────────────────────────────────────────────────┘
```

### 技术栈

**后端**
- FastAPI (Python 3.11+)
- PostgreSQL + pgvector (向量存储)
- 多 LLM 支持 (ZhipuAI GLM, Claude)

**前端**
- Next.js 14 (App Router)
- TypeScript
- Tailwind CSS
- Framer Motion

**基础设施**
- pnpm + Turbo (Monorepo)
- Docker / Kubernetes
- Vercel (前端部署)

## 快速开始

### 环境要求

- Node.js >= 18.0.0
- Python >= 3.11
- PostgreSQL >= 14 (with pgvector extension)
- pnpm >= 9.0.0

### 安装

```bash
# 克隆项目
git clone git@github.com:aiscendtech/vibelife.git
cd vibelife

# 安装 Node.js 依赖
pnpm install

# 安装 Python 依赖
cd apps/api
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
cd ../..

# 配置环境变量
cp .env.example .env
# 编辑 .env 填入实际配置

# 数据库迁移
psql -d your_database -f migrations/001_init.sql
psql -d your_database -f migrations/002_knowledge_v2.sql
psql -d your_database -f migrations/003_user_portraits.sql
```

### 开发

```bash
# 启动所有服务
pnpm dev

# 或分别启动
pnpm api:dev    # 后端 API (localhost:8000)
pnpm web:dev    # 前端 Web (localhost:3000)
```

### Docker 部署

```bash
docker-compose up -d
```

## 项目结构

```
vibelife/
├── apps/
│   ├── api/                    # FastAPI 后端
│   │   ├── models/             # 数据模型
│   │   ├── routes/             # API 路由
│   │   ├── services/           # 业务逻辑
│   │   │   ├── agent/          # Agent 运行时
│   │   │   ├── vibe_engine/    # Vibe 核心引擎
│   │   │   ├── knowledge/      # 知识检索
│   │   │   ├── reminder/       # 提醒服务
│   │   │   └── mirror/         # Mirror 回顾
│   │   ├── stores/             # 数据存储层
│   │   ├── tools/              # Skill 工具
│   │   │   ├── bazi/           # 八字计算
│   │   │   └── zodiac/         # 星座计算
│   │   └── workers/            # 后台任务
│   └── web/                    # Next.js 前端
│       └── src/
│           ├── app/            # 页面路由
│           └── components/     # React 组件
│               ├── chat/       # 聊天组件
│               ├── core/       # 核心视觉组件
│               ├── insight/    # 洞察卡片
│               └── ui/         # 基础 UI
├── deploy/
│   ├── aiscend/                # 私有部署配置
│   └── aliyun/                 # 阿里云部署
├── k8s/                        # Kubernetes 配置
├── knowledge/                  # 知识库文件
│   └── bazi/                   # 八字知识
├── migrations/                 # 数据库迁移
│   ├── 001_init.sql
│   ├── 002_knowledge_v2.sql
│   └── 003_user_portraits.sql
└── .github/workflows/          # CI/CD
```

## 核心概念

### User Portrait (用户画像)

Hot Memory - LLM 生成的结构化画像：
- **Facts**: 客观事实 (生日、命盘等)
- **State**: 当前状态 (情绪、关注点)
- **Preferences**: 偏好习惯
- **Focus**: 近期焦点

### Insight Card (洞察卡片)

Cold Memory - LLM 驱动的洞察生成：
- **Discovery**: 首次发现的特征
- **Pattern**: 重复出现的规律
- **Timing**: 时机相关建议
- **Growth**: 成长变化观察

### 跨 Skill 架构

- Phase 1: Skill 隔离 (画像独立)
- Phase 1.5: Insight 打通 (跨 Skill 检索)
- Phase 2: Global Portrait (全局画像聚合)

## License

Private - All Rights Reserved

---

*Built with Vibe by AiscendTech*
