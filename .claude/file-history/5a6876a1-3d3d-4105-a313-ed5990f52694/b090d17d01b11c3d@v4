/* Google Fonts Import - Must be first */
/* Playfair Display: 优雅衬线体，用于标题与引言 */
/* Inter: 现代无衬线，用于正文与 UI */
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=Inter:wght@400;500;600&display=swap');

@import "tailwindcss";

/* ============================================
   Soul OS Design System - Notion Zen Theme
   "Ethereal Earth Tones" - 空灵大地色系
   Version: 4.0
   ============================================ */

:root {
  /* ═══════════════════════════════════════════════════════════
     Base Colors — Notion Zen Palette (Light Mode)
     ═══════════════════════════════════════════════════════════ */

  /* 背景：米灰色/奶油色，替代纯白，护眼且温暖 */
  --background: 40 20% 98%;          /* #FDFCFA — 纸质白 */
  --background-subtle: 40 15% 96%;   /* #F9F7F4 — 浅米灰 */
  --background-muted: 40 12% 94%;    /* #F5F3EF — 更深米灰 */

  /* Landing Page 专用背景 */
  --landing-bg: 40 18% 97%;          /* #F9F9F7 — Warm Paper */

  /* 前景：深炭色，替代纯黑，减少对比度疲劳 */
  --foreground: 30 10% 22%;          /* #37352F — Notion 标准文字 */
  --foreground-muted: 30 5% 55%;     /* #9B9A97 — 次级文字 */
  --foreground-subtle: 30 5% 72%;    /* #BDB9B4 — 占位符/禁用 */

  /* 卡片与层级 */
  --card: 0 0% 100%;                 /* #FFFFFF — 浮动卡片 */
  --card-hover: 40 10% 99%;          /* #FEFDFB — 卡片悬浮 */
  --popover: 0 0% 100%;
  --popover-foreground: 30 10% 22%;

  /* 边框与分割线 */
  --border: 40 10% 90%;              /* #E8E5E0 — 柔和边框 */
  --border-hover: 40 10% 82%;        /* #D4CFC6 — 悬浮边框 */
  --input: 40 10% 95%;               /* #F3F1ED — 输入框背景 */
  --input-focus: 40 15% 92%;         /* #EDEBE4 — 聚焦背景 */
  --hover: 40 8% 96%;                /* #F6F5F3 */

  /* Sidebar */
  --sidebar: 40 12% 97%;             /* #FAFAF8 */

  /* ═══════════════════════════════════════════════════════════
     PERMA 数据可视化配色 — v3.1 设计规范
     ═══════════════════════════════════════════════════════════ */
  --perma-p: 163 25% 61%;            /* #84A59D — Sage Green (积极情绪) */
  --perma-e: 1 83% 73%;              /* #F28482 — Soft Red (投入) */
  --perma-r: 43 89% 67%;             /* #F6BD60 — Mustard (关系) */
  --perma-m: 90 14% 49%;             /* #7B8E6F — Forest Green (意义) */
  --perma-a: 248 81% 67%;            /* #7B68EE — Slate Purple (成就) */

  /* ═══════════════════════════════════════════════════════════
     五行配色映射 (Wuxing Elements)
     ═══════════════════════════════════════════════════════════ */
  --element-wood: 142 60% 50%;       /* #4ade80 */
  --element-wood-dark: 142 60% 40%;  /* #22c55e */
  --element-fire: 0 80% 70%;         /* #f87171 */
  --element-fire-dark: 0 80% 60%;    /* #ef4444 */
  --element-earth: 45 90% 55%;       /* #fbbf24 */
  --element-earth-dark: 38 90% 50%;  /* #f59e0b */
  --element-metal: 30 5% 96%;        /* #f5f5f4 */
  --element-metal-dark: 30 5% 85%;   /* #d6d3d1 */
  --element-water: 213 90% 68%;      /* #60a5fa */
  --element-water-dark: 213 90% 55%; /* #3b82f6 */

  /* ═══════════════════════════════════════════════════════════
     功能色 — 语义化配色
     ═══════════════════════════════════════════════════════════ */
  --primary: 30 10% 22%;             /* 主按钮：深炭色 */
  --primary-foreground: 40 20% 98%;  /* 主按钮文字：纸质白 */

  --accent: 35 60% 52%;              /* #C9A05A — 金麦色强调 */
  --accent-foreground: 30 10% 15%;
  --accent-muted: 35 40% 92%;        /* 柔和强调背景 */

  --destructive: 0 65% 55%;          /* #D65A5A — 柔和红 */
  --destructive-foreground: 0 0% 100%;

  --success: 145 40% 45%;            /* #4A9B6D — 柔和绿 */
  --success-foreground: 0 0% 100%;

  /* Legacy functional colors */
  --mystic: 292 47% 95%;
  --mystic-foreground: 282 53% 37%;
  --advice: 207 89% 94%;
  --advice-foreground: 210 79% 46%;
  --status: 122 39% 94%;
  --status-foreground: 123 43% 33%;
  --alert: 36 100% 94%;
  --alert-foreground: 27 100% 47%;
  --code-bg: 40 17% 96%;
  --muted: 40 5% 72%;
  --muted-foreground: 30 5% 55%;

  /* ═══════════════════════════════════════════════════════════
     Mentis Orb 渐变 (匹配 logo.png)
     ═══════════════════════════════════════════════════════════ */
  --orb-from: 28 77% 81%;            /* #F0C3AA — Soul Peach (暖杏色) */
  --orb-to: 210 60% 85%;             /* #B8D4E8 — Mist Blue (浅蓝) */
  --orb-insight-from: 248 60% 55%;   /* #5D3FD3 — Mentis Purple */
  --orb-insight-to: 280 40% 70%;     /* #BFA2DB — Morning Haze */

  /* ═══════════════════════════════════════════════════════════
     Glassmorphism 变量
     ═══════════════════════════════════════════════════════════ */
  --glass-bg: 0 0% 100% / 0.7;
  --glass-border: 0 0% 100% / 0.5;
  --glass-shadow: 0 20px 60px -15px rgba(0, 0, 0, 0.1);

  /* ═══════════════════════════════════════════════════════════
     空间与圆角
     ═══════════════════════════════════════════════════════════ */
  --radius-xs: 0.25rem;              /* 4px */
  --radius-sm: 0.375rem;             /* 6px — 小元素 */
  --radius-md: 0.625rem;             /* 10px — 按钮/输入框 */
  --radius-lg: 0.875rem;             /* 14px — 卡片 */
  --radius-xl: 1.25rem;              /* 20px — 大卡片/模态框 */
  --radius-2xl: 1.5rem;              /* 24px */
  --radius-full: 9999px;             /* 胶囊形状 */
  --radius: 0.5rem;

  /* ═══════════════════════════════════════════════════════════
     阴影系统 — 分层阴影 (Layered Shadows)
     ═══════════════════════════════════════════════════════════ */
  --shadow-xs: 0 1px 2px rgba(55, 53, 47, 0.04);
  --shadow-sm: 0 2px 4px rgba(55, 53, 47, 0.06);
  --shadow-md: 0 4px 12px rgba(55, 53, 47, 0.08);
  --shadow-lg: 0 8px 24px rgba(55, 53, 47, 0.12);
  --shadow-xl: 0 16px 48px rgba(55, 53, 47, 0.16);
  --shadow-2xl: 0 24px 64px rgba(55, 53, 47, 0.2);

  /* 悬浮元素专用阴影 */
  --shadow-floating:
    0 0 0 1px rgba(55, 53, 47, 0.04),
    0 4px 12px rgba(55, 53, 47, 0.08),
    0 16px 32px rgba(55, 53, 47, 0.06);

  /* Omnibar / Input Capsule 专用阴影 */
  --shadow-capsule:
    0 0 0 1px rgba(55, 53, 47, 0.06),
    0 8px 24px rgba(55, 53, 47, 0.12),
    0 24px 48px rgba(55, 53, 47, 0.08);

  /* Glassmorphism 阴影 */
  --shadow-glass:
    0 10px 40px -10px rgba(0, 0, 0, 0.05),
    inset 0 0 0 1px rgba(255, 255, 255, 0.8);

  /* ═══════════════════════════════════════════════════════════
     动效时长与缓动
     ═══════════════════════════════════════════════════════════ */
  --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-out-quad: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
  --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);

  --duration-fast: 150ms;
  --duration-normal: 250ms;
  --duration-slow: 400ms;
  --duration-slower: 600ms;
  --duration-slowest: 1000ms;
  --animate-duration: 150ms;
  --animate-timing: cubic-bezier(0.4, 0, 0.2, 1);

  /* ═══════════════════════════════════════════════════════════
     语义化 Token 层 (Semantic Token Layer)
     组件应优先消费这些 Token，而非底层原始值
     ═══════════════════════════════════════════════════════════ */

  /* Surface 层级 - 背景表面 */
  --surface-base: var(--background);
  --surface-subtle: var(--background-subtle);
  --surface-muted: var(--background-muted);
  --surface-elevated: var(--card);
  --surface-elevated-hover: var(--card-hover);
  --surface-overlay: var(--popover);

  /* Text 层级 - 文字颜色 */
  --text-primary: var(--foreground);
  --text-secondary: var(--foreground-muted);
  --text-tertiary: var(--foreground-subtle);
  --text-inverse: var(--primary-foreground);

  /* Interactive 交互态 */
  --interactive-accent: var(--accent);
  --interactive-accent-hover: 35 60% 45%;
  --interactive-accent-muted: var(--accent-muted);
  --interactive-hover: var(--hover);
  --interactive-active: var(--background-muted);
  --interactive-focus-ring: var(--accent);

  /* Border 边框 */
  --border-default: var(--border);
  --border-subtle: 40 10% 94%;
  --border-emphasis: var(--border-hover);

  /* Status 状态色 */
  --status-success: var(--success);
  --status-warning: var(--alert);
  --status-error: var(--destructive);
  --status-info: var(--advice);

  /* Commitment 状态机专用 */
  --commitment-suggested: var(--perma-m);     /* 待决定 - 金黄 */
  --commitment-active: var(--perma-e);        /* 进行中 - 蓝 */
  --commitment-done: var(--success);          /* 已完成 - 绿 */
  --commitment-skipped: var(--foreground-subtle); /* 已跳过 - 灰 */
}

/* ═══════════════════════════════════════════════════════════
   Dark Mode
   ═══════════════════════════════════════════════════════════ */
.dark {
  --background: 220 10% 8%;          /* #121315 — 深夜蓝黑 */
  --background-subtle: 220 10% 11%;  /* #1A1B1E */
  --background-muted: 220 10% 14%;   /* #222326 */
  --landing-bg: 220 10% 6%;          /* #0F1012 */

  --foreground: 40 10% 88%;          /* #E2E0DC */
  --foreground-muted: 40 5% 55%;     /* #908E8A */
  --foreground-subtle: 40 5% 35%;    /* #5C5A56 */

  --card: 220 10% 12%;               /* #1E1F22 */
  --card-hover: 220 10% 14%;         /* #242528 */

  --border: 220 8% 20%;              /* #323438 */
  --border-hover: 220 8% 28%;        /* #464850 */
  --input: 220 8% 15%;               /* #262729 */
  --input-focus: 220 8% 18%;         /* #2D2F32 */
  --hover: 220 8% 14%;
  --sidebar: 220 10% 10%;

  /* PERMA 暗色模式调整 (降低饱和度) */
  --perma-p: 78 25% 42%;
  --perma-e: 215 20% 45%;
  --perma-r: 15 35% 52%;
  --perma-m: 45 40% 55%;
  --perma-a: 270 15% 45%;

  --primary: 40 10% 88%;
  --primary-foreground: 220 10% 8%;

  /* Glassmorphism Dark */
  --glass-bg: 220 10% 12% / 0.8;
  --glass-border: 0 0% 100% / 0.1;

  /* Soul Orb Dark */
  --orb-from: 220 15% 25%;
  --orb-to: 280 30% 30%;

  /* Legacy functional dark */
  --mystic: 280 18% 17%;
  --mystic-foreground: 285 54% 76%;
  --advice: 203 25% 15%;
  --advice-foreground: 207 90% 68%;
  --status: 135 12% 16%;
  --status-foreground: 123 38% 63%;
  --alert: 27 29% 17%;
  --alert-foreground: 36 100% 65%;
  --code-bg: 0 0% 15%;
  --muted: 40 3% 38%;
  --muted-foreground: 40 3% 55%;

  --shadow-floating:
    0 0 0 1px rgba(255, 255, 255, 0.06),
    0 4px 12px rgba(0, 0, 0, 0.3),
    0 16px 32px rgba(0, 0, 0, 0.2);

  --shadow-capsule:
    0 0 0 1px rgba(255, 255, 255, 0.08),
    0 8px 24px rgba(0, 0, 0, 0.4),
    0 24px 48px rgba(0, 0, 0, 0.3);

  --shadow-glass:
    0 10px 40px -10px rgba(0, 0, 0, 0.3),
    inset 0 0 0 1px rgba(255, 255, 255, 0.1);

  /* 语义化 Token 暗色覆盖 */
  --interactive-accent-hover: 35 50% 48%;
  --border-subtle: 220 8% 24%;
}

/* ═══════════════════════════════════════════════════════════
   Tailwind v4 Theme 映射
   ═══════════════════════════════════════════════════════════ */
@theme inline {
  /* Base Colors */
  --color-background: hsl(var(--background));
  --color-background-subtle: hsl(var(--background-subtle));
  --color-background-muted: hsl(var(--background-muted));
  --color-foreground: hsl(var(--foreground));
  --color-foreground-muted: hsl(var(--foreground-muted));
  --color-foreground-subtle: hsl(var(--foreground-subtle));

  /* Card & Popover */
  --color-card: hsl(var(--card));
  --color-card-hover: hsl(var(--card-hover));
  --color-popover: hsl(var(--popover));

  /* Border & Input */
  --color-border: hsl(var(--border));
  --color-border-hover: hsl(var(--border-hover));
  --color-input: hsl(var(--input));
  --color-input-focus: hsl(var(--input-focus));
  --color-hover: hsl(var(--hover));
  --color-sidebar: hsl(var(--sidebar));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  /* Semantic Colors */
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-accent-muted: hsl(var(--accent-muted));
  --color-destructive: hsl(var(--destructive));
  --color-success: hsl(var(--success));

  /* Legacy functional */
  --color-mystic: hsl(var(--mystic));
  --color-mystic-foreground: hsl(var(--mystic-foreground));
  --color-advice: hsl(var(--advice));
  --color-advice-foreground: hsl(var(--advice-foreground));
  --color-status: hsl(var(--status));
  --color-status-foreground: hsl(var(--status-foreground));
  --color-alert: hsl(var(--alert));
  --color-alert-foreground: hsl(var(--alert-foreground));
  --color-code-bg: hsl(var(--code-bg));

  /* PERMA Colors */
  --color-perma-p: hsl(var(--perma-p));
  --color-perma-e: hsl(var(--perma-e));
  --color-perma-r: hsl(var(--perma-r));
  --color-perma-m: hsl(var(--perma-m));
  --color-perma-a: hsl(var(--perma-a));

  /* Wuxing Elements */
  --color-element-wood: hsl(var(--element-wood));
  --color-element-fire: hsl(var(--element-fire));
  --color-element-earth: hsl(var(--element-earth));
  --color-element-metal: hsl(var(--element-metal));
  --color-element-water: hsl(var(--element-water));

  /* Landing Page */
  --color-landing-bg: hsl(var(--landing-bg));

  /* Semantic Surface Colors */
  --color-surface-base: hsl(var(--surface-base));
  --color-surface-subtle: hsl(var(--surface-subtle));
  --color-surface-muted: hsl(var(--surface-muted));
  --color-surface-elevated: hsl(var(--surface-elevated));
  --color-surface-overlay: hsl(var(--surface-overlay));

  /* Semantic Text Colors */
  --color-text-primary: hsl(var(--text-primary));
  --color-text-secondary: hsl(var(--text-secondary));
  --color-text-tertiary: hsl(var(--text-tertiary));
  --color-text-inverse: hsl(var(--text-inverse));

  /* Semantic Interactive Colors */
  --color-interactive-accent: hsl(var(--interactive-accent));
  --color-interactive-accent-hover: hsl(var(--interactive-accent-hover));
  --color-interactive-accent-muted: hsl(var(--interactive-accent-muted));
  --color-interactive-hover: hsl(var(--interactive-hover));
  --color-interactive-focus-ring: hsl(var(--interactive-focus-ring));

  /* Semantic Border Colors */
  --color-border-default: hsl(var(--border-default));
  --color-border-subtle: hsl(var(--border-subtle));
  --color-border-emphasis: hsl(var(--border-emphasis));

  /* Commitment Status Colors */
  --color-commitment-suggested: hsl(var(--commitment-suggested));
  --color-commitment-active: hsl(var(--commitment-active));
  --color-commitment-done: hsl(var(--commitment-done));
  --color-commitment-skipped: hsl(var(--commitment-skipped));

  /* Font Stacks */
  --font-serif: 'Playfair Display', 'Noto Serif SC', Georgia, serif;
  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;

  /* Shadows */
  --shadow-hover: 0 2px 4px rgba(0, 0, 0, 0.02);
  --shadow-float: var(--shadow-floating);
  --shadow-pulse: 0 0 0 3px hsl(var(--foreground) / 0.1);

  /* Radius */
  --radius-sm: var(--radius-sm);
  --radius-md: var(--radius-md);
  --radius-lg: var(--radius-lg);
  --radius-xl: var(--radius-xl);

  /* Spacing - 8px grid */
  --spacing-1: 0.25rem;
  --spacing-2: 0.5rem;
  --spacing-3: 0.75rem;
  --spacing-4: 1rem;
  --spacing-5: 1.25rem;
  --spacing-6: 1.5rem;
  --spacing-8: 2rem;
  --spacing-10: 2.5rem;
  --spacing-12: 3rem;
  --spacing-16: 4rem;

  /* Animation */
  --animate-duration: var(--duration-normal);
  --animate-timing: var(--ease-out-expo);
}

/* ═══════════════════════════════════════════════════════════
   Base Styles
   ═══════════════════════════════════════════════════════════ */
html {
  scroll-behavior: smooth;
}

body {
  background: hsl(var(--background));
  color: hsl(var(--foreground));
  font-family: var(--font-sans);
  font-size: 16px;
  line-height: 1.6;
  font-weight: 400;
  letter-spacing: -0.011em;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  font-feature-settings: "kern" 1, "liga" 1;
}

/* ═══════════════════════════════════════════════════════════
   Typography System
   ═══════════════════════════════════════════════════════════ */

/* Serif Headings - 用于 Soul 质感标题 */
.serif-heading {
  font-family: var(--font-serif);
  font-weight: 500;
  letter-spacing: -0.02em;
  font-feature-settings: "ss01" 1;
}

.serif-heading-lg {
  font-family: var(--font-serif);
  font-size: 2.5rem;
  line-height: 1.15;
  font-weight: 400;
  letter-spacing: -0.025em;
}

.serif-heading-xl {
  font-family: var(--font-serif);
  font-size: 3.5rem;
  line-height: 1.1;
  font-weight: 400;
  letter-spacing: -0.03em;
}

/* Hero text for landing page */
.hero-title {
  font-family: var(--font-serif);
  font-size: clamp(2rem, 5vw, 3.5rem);
  line-height: 1.1;
  font-weight: 400;
  letter-spacing: -0.025em;
  font-style: italic;
}

.hero-subtitle {
  font-family: var(--font-sans);
  font-size: clamp(0.875rem, 1.5vw, 1.125rem);
  line-height: 1.5;
  color: hsl(var(--foreground-muted));
  letter-spacing: 0.02em;
}

/* Typography Scale - Major Third (1.250) */
h1, .h1 {
  font-size: 2.5rem;
  line-height: 1.15;
  font-weight: 600;
  letter-spacing: -0.025em;
}

h2, .h2 {
  font-size: 1.875rem;
  line-height: 1.2;
  font-weight: 600;
  letter-spacing: -0.02em;
}

h3, .h3 {
  font-size: 1.5rem;
  line-height: 1.3;
  font-weight: 500;
  letter-spacing: -0.015em;
}

h4, .h4 {
  font-size: 1.25rem;
  line-height: 1.4;
  font-weight: 500;
}

h5, .h5 {
  font-size: 1rem;
  line-height: 1.5;
  font-weight: 500;
}

/* Text utilities */
.text-caption {
  font-size: 0.875rem;
  line-height: 1.5;
}

.text-tiny {
  font-size: 0.75rem;
  line-height: 1.4;
  font-weight: 500;
  letter-spacing: 0.01em;
}

.text-muted {
  color: hsl(var(--foreground-muted));
}

.text-subtle {
  color: hsl(var(--foreground-subtle));
}

/* ═══════════════════════════════════════════════════════════
   Animation Keyframes
   ═══════════════════════════════════════════════════════════ */

/* Fade in with subtle lift */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Slide in from sides */
@keyframes slide-in-right {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slide-in-left {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Scale in for popovers/modals */
@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes popover-in {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(-4px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

/* Message bubble entry */
@keyframes message-in {
  from {
    opacity: 0;
    transform: translateX(-12px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Stream text appearance */
@keyframes stream-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* Pulse glow for attention */
@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 0 0 hsl(var(--accent) / 0.4); }
  50% { box-shadow: 0 0 0 8px hsl(var(--accent) / 0); }
}

/* Shimmer for loading skeletons */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* Spin for loading indicators */
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Breathe animation for Soul Orb */
@keyframes breathe {
  0%, 100% {
    transform: scale(1);
    filter: brightness(1);
  }
  50% {
    transform: scale(1.02);
    filter: brightness(1.05);
  }
}

/* Float animation */
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

/* Typewriter cursor blink */
@keyframes blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

/* Gradient shift for orb */
@keyframes gradient-shift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* ═══════════════════════════════════════════════════════════
   Animation Utility Classes
   ═══════════════════════════════════════════════════════════ */
.animate-fade-in {
  animation: fade-in var(--duration-slow) var(--ease-out-expo) forwards;
}

.animate-fade-in-up {
  animation: fade-in-up var(--duration-slow) var(--ease-out-expo) forwards;
}

.animate-scale-in {
  animation: scale-in var(--duration-normal) var(--ease-out-expo) forwards;
}

.animate-popover-in {
  animation: popover-in var(--duration-normal) var(--ease-spring) forwards;
}

.animate-message-in {
  animation: message-in var(--duration-slow) var(--ease-out-expo) forwards;
}

.animate-pulse-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}

.animate-shimmer {
  background: linear-gradient(
    90deg,
    hsl(var(--background-subtle)) 25%,
    hsl(var(--background-muted)) 50%,
    hsl(var(--background-subtle)) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

.animate-spin {
  animation: spin 1s linear infinite;
}

.animate-breathe {
  animation: breathe 4s ease-in-out infinite;
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-gradient {
  background-size: 200% 200%;
  animation: gradient-shift 8s ease infinite;
}

/* Staggered animation delays */
.stagger-1 { animation-delay: 0.05s; }
.stagger-2 { animation-delay: 0.1s; }
.stagger-3 { animation-delay: 0.15s; }
.stagger-4 { animation-delay: 0.2s; }
.stagger-5 { animation-delay: 0.25s; }
.stagger-6 { animation-delay: 0.3s; }

/* ═══════════════════════════════════════════════════════════
   Transition Utilities
   ═══════════════════════════════════════════════════════════ */
.transition-base {
  transition: all var(--duration-normal) var(--ease-out-quad);
}

.transition-fast {
  transition: all var(--duration-fast) var(--ease-out-quad);
}

.transition-slow {
  transition: all var(--duration-slow) var(--ease-out-expo);
}

.transition-colors {
  transition: color var(--duration-fast) var(--ease-out-quad),
              background-color var(--duration-fast) var(--ease-out-quad),
              border-color var(--duration-fast) var(--ease-out-quad);
}

.transition-transform {
  transition: transform var(--duration-normal) var(--ease-out-expo);
}

.transition-opacity {
  transition: opacity var(--duration-normal) var(--ease-out-quad);
}

/* Card hover effect */
.card-hover {
  transition:
    transform var(--duration-normal) var(--ease-out-expo),
    box-shadow var(--duration-normal) var(--ease-out-quad);
}

.card-hover:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

/* ═══════════════════════════════════════════════════════════
   Glassmorphism Utilities
   ═══════════════════════════════════════════════════════════ */
.glass {
  background: hsl(var(--glass-bg));
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid hsl(var(--glass-border));
}

.glass-subtle {
  background: hsl(var(--background) / 0.8);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

/* Input Capsule glass effect */
.capsule-glass {
  background: rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.4);
  box-shadow: var(--shadow-glass);
}

.dark .capsule-glass {
  background: rgba(30, 31, 34, 0.8);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* ═══════════════════════════════════════════════════════════
   Focus & Selection
   ═══════════════════════════════════════════════════════════ */
*:focus-visible {
  outline: 2px solid hsl(var(--accent));
  outline-offset: 2px;
}

::selection {
  background: hsl(var(--accent) / 0.15);
}

/* ═══════════════════════════════════════════════════════════
   Scrollbar Styling
   ═══════════════════════════════════════════════════════════ */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--foreground-subtle));
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--foreground-muted));
}

/* Hide scrollbar utility */
.scrollbar-none {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-none::-webkit-scrollbar {
  display: none;
}

/* Thin scrollbar */
.scrollbar-thin {
  scrollbar-width: thin;
  scrollbar-color: hsl(var(--foreground-subtle)) transparent;
}

/* ═══════════════════════════════════════════════════════════
   Loading Skeleton
   ═══════════════════════════════════════════════════════════ */
.skeleton {
  background: linear-gradient(
    90deg,
    hsl(var(--background-subtle)) 25%,
    hsl(var(--background-muted)) 50%,
    hsl(var(--background-subtle)) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
  border-radius: var(--radius-md);
}

/* ═══════════════════════════════════════════════════════════
   iOS Safe Area Support
   ═══════════════════════════════════════════════════════════ */
.safe-area-pb {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

.safe-area-pt {
  padding-top: env(safe-area-inset-top, 0px);
}

.safe-area-inset {
  padding-top: env(safe-area-inset-top, 0px);
  padding-right: env(safe-area-inset-right, 0px);
  padding-bottom: env(safe-area-inset-bottom, 0px);
  padding-left: env(safe-area-inset-left, 0px);
}

/* ═══════════════════════════════════════════════════════════
   Reduce Motion
   ═══════════════════════════════════════════════════════════ */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ═══════════════════════════════════════════════════════════
   Typewriter Effect
   ═══════════════════════════════════════════════════════════ */
.typewriter {
  overflow: hidden;
  white-space: nowrap;
  border-right: 2px solid hsl(var(--foreground-muted));
  animation: blink 1s step-end infinite;
}

/* ═══════════════════════════════════════════════════════════
   Gradient Text Utilities
   ═══════════════════════════════════════════════════════════ */
.gradient-text {
  background: linear-gradient(
    135deg,
    hsl(var(--foreground)) 0%,
    hsl(var(--foreground-muted)) 100%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.gradient-text-accent {
  background: linear-gradient(
    135deg,
    hsl(var(--accent)) 0%,
    hsl(var(--perma-m)) 100%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ═══════════════════════════════════════════════════════════
   Soul Orb Gradient Backgrounds
   ═══════════════════════════════════════════════════════════ */
.orb-gradient-default {
  background: linear-gradient(
    135deg,
    hsl(var(--orb-from)) 0%,
    hsl(var(--orb-to)) 100%
  );
}

.orb-gradient-insight {
  background: linear-gradient(
    135deg,
    hsl(var(--orb-insight-from)) 0%,
    hsl(var(--orb-insight-to)) 100%
  );
}

/* Element-specific orb gradients */
.orb-wood {
  background: linear-gradient(135deg, hsl(var(--element-wood)) 0%, hsl(var(--element-wood-dark)) 100%);
}

.orb-fire {
  background: linear-gradient(135deg, hsl(var(--element-fire)) 0%, hsl(var(--element-fire-dark)) 100%);
}

.orb-earth {
  background: linear-gradient(135deg, hsl(var(--element-earth)) 0%, hsl(var(--element-earth-dark)) 100%);
}

.orb-metal {
  background: linear-gradient(135deg, hsl(var(--element-metal)) 0%, hsl(var(--element-metal-dark)) 100%);
}

.orb-water {
  background: linear-gradient(135deg, hsl(var(--element-water)) 0%, hsl(var(--element-water-dark)) 100%);
}

/* ═══════════════════════════════════════════════════════════
   Landing Page Specific Styles
   ═══════════════════════════════════════════════════════════ */
.landing-section {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

/* Noise texture overlay */
.noise-overlay::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  opacity: 0.03;
  pointer-events: none;
}

/* ═══════════════════════════════════════════════════════════
   Component-specific Utilities
   ═══════════════════════════════════════════════════════════ */

/* Floating input capsule */
.input-capsule {
  border-radius: var(--radius-full);
  background: hsl(var(--card) / 0.8);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid hsl(var(--border));
  box-shadow: var(--shadow-capsule);
  transition:
    border-color var(--duration-fast) var(--ease-out-quad),
    box-shadow var(--duration-normal) var(--ease-out-quad),
    background-color var(--duration-fast) var(--ease-out-quad);
}

.input-capsule:focus-within {
  border-color: hsl(var(--border-hover));
  background: hsl(var(--card));
  box-shadow:
    var(--shadow-capsule),
    0 0 0 3px hsl(var(--accent) / 0.1);
}

/* Command palette item */
.command-item {
  transition: background-color var(--duration-fast) var(--ease-out-quad);
}

.command-item:hover {
  background: hsl(var(--background-subtle));
}

.command-item[data-selected="true"] {
  background: hsl(var(--accent-muted));
}

/* Insight card glassmorphism */
.insight-card {
  background: hsl(var(--glass-bg));
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
  border: 1px solid hsl(var(--glass-border));
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-glass);
}

/* Booting sequence text */
.boot-text {
  font-family: var(--font-mono);
  font-size: 0.875rem;
  color: hsl(var(--foreground-muted));
  opacity: 0;
  animation: fade-in 0.3s ease forwards;
}

.boot-text.completed {
  color: hsl(var(--success));
}
