# VibeLife 前端页面结构分析

## 研究任务（非实施任务）

用户询问 verbal（VibeLife）前端项目的页面结构，以及 bazi 和 zodiac 的访问方式。

---

## 页面结构总览

### 当前活跃页面 (src/app)

| 路由 | 文件 | 说明 |
|------|------|------|
| `/` | page.tsx | 首页/登陆页 |
| `/chat` | chat/page.tsx | 主聊天页面（三栏布局） |
| `/auth/login` | auth/login/page.tsx | 登录页 |
| `/auth/register` | auth/register/page.tsx | 注册页 |
| `/auth/sso-callback` | auth/sso-callback/page.tsx | SSO 回调页 |

### 存档页面 (archive/app) - 技能专属页面

| 路由 | 说明 |
|------|------|
| `/bazi` | 八字首页 |
| `/bazi/chat` | 八字聊天页 |
| `/zodiac` | 星座首页 |
| `/zodiac/chat` | 星座聊天页 |
| `/mbti` | MBTI 首页 |
| `/mbti/chat` | MBTI 聊天页 |

---

## Bazi（八字）访问方式

1. **子域名访问**：`bazi.vibelife.app`
2. **本地开发**：`bazi.localhost:3000` 或 `localhost:3000`（默认 skill=bazi）
3. **直接路由**：`/bazi` 和 `/bazi/chat`（存档版本）

---

## Zodiac（星座）访问方式

1. **子域名访问**：`zodiac.vibelife.app`
2. **本地开发**：`zodiac.localhost:3000`
3. **直接路由**：`/zodiac` 和 `/zodiac/chat`（存档版本）

---

## 路由机制

项目使用 **子域名 + Middleware** 的路由策略：

- `middleware.ts` - 检测子域名自动设置 skill 类型
- 支持的 skills: `bazi`, `zodiac`, `mbti`, `attach`, `career`
- 默认 skill: `bazi`

**当前架构**：采用"通用 `/chat` 页面 + 子域名识别 skill"的模式，存档页面是旧版本。

---

## 关键文件

- `/home/aiscend/work/vibelife/apps/web/src/middleware.ts` - 子域名路由中间件
- `/home/aiscend/work/vibelife/apps/web/src/providers/SkillProvider.tsx` - Skill 上下文
- `/home/aiscend/work/vibelife/apps/web/src/app/layout.tsx` - 根布局
