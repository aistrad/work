"use client";

/**
 * Payment Cancel Page - 支付取消页面
 */

import { useRouter } from "next/navigation";
import { motion } from "framer-motion";
import { XCircle, ArrowLeft, RefreshCw } from "lucide-react";
import { useSkill } from "@/providers";
import { LuminousPaper, BreathAura } from "@/components/core";

export default function PaymentCancelPage() {
  const router = useRouter();
  const { skill } = useSkill();

  const handleRetry = () => {
    router.back();
  };

  const handleBackToChat = () => {
    router.push("/chat");
  };

  return (
    <LuminousPaper skill={skill} variant="default" className="min-h-screen">
      <BreathAura
        skill={skill}
        size="xl"
        position="center"
        intensity="low"
        className="opacity-20"
      />

      <div className="relative z-10 min-h-screen flex items-center justify-center px-6">
        <motion.div
          initial={{ opacity: 0, scale: 0.95 }}
          animate={{ opacity: 1, scale: 1 }}
          className="max-w-md w-full text-center"
        >
          {/* Cancel Icon */}
          <motion.div
            initial={{ scale: 0 }}
            animate={{ scale: 1 }}
            transition={{ type: "spring", delay: 0.2 }}
            className="w-24 h-24 mx-auto mb-8 rounded-full bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center"
          >
            <XCircle className="w-12 h-12 text-amber-600 dark:text-amber-400" />
          </motion.div>

          {/* Title */}
          <motion.h1
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ delay: 0.3 }}
            className="font-serif text-3xl font-bold text-foreground mb-4"
          >
            支付已取消
          </motion.h1>

          {/* Description */}
          <motion.p
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ delay: 0.4 }}
            className="text-muted-foreground mb-8"
          >
            您的支付已取消，不会产生任何费用。
            <br />
            如有疑问，请随时联系我们。
          </motion.p>

          {/* Actions */}
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ delay: 0.5 }}
            className="space-y-3"
          >
            <button
              onClick={handleRetry}
              className="w-full py-4 bg-skill-primary text-white rounded-xl font-medium text-lg shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-0.5 flex items-center justify-center gap-2"
            >
              <RefreshCw className="w-5 h-5" />
              重新支付
            </button>

            <button
              onClick={handleBackToChat}
              className="w-full py-3 border border-border text-foreground rounded-xl font-medium hover:bg-foreground/5 transition-colors flex items-center justify-center gap-2"
            >
              <ArrowLeft className="w-5 h-5" />
              返回对话
            </button>
          </motion.div>

          {/* Help Text */}
          <motion.p
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            transition={{ delay: 0.6 }}
            className="text-sm text-muted-foreground mt-8"
          >
            遇到问题？
            <a href="mailto:support@vibelife.app" className="text-skill-primary hover:underline ml-1">
              联系客服
            </a>
          </motion.p>
        </motion.div>
      </div>
    </LuminousPaper>
  );
}
