"use client";

import { useParams } from "next/navigation";
import Link from "next/link";
import { ChatContainer } from "@/components/chat/ChatContainer";

const SKILL_CONFIG: Record<string, { name: string; icon: string; headerClass: string; backHref: string }> = {
  bazi: { name: "å…«å­—å‘½ç†", icon: "â˜¯ï¸", headerClass: "bg-amber-600", backHref: "/bazi" },
  zodiac: { name: "æ˜Ÿåº§å æ˜Ÿ", icon: "â­", headerClass: "bg-indigo-600", backHref: "/zodiac" },
  mbti: { name: "MBTI æ€§æ ¼", icon: "ğŸ§ ", headerClass: "bg-emerald-600", backHref: "/mbti" },
};

export default function ChatPage() {
  const params = useParams();
  const skillId = params.skillId as string;
  const config = SKILL_CONFIG[skillId] || {
    name: skillId,
    icon: "ğŸ’¬",
    headerClass: "bg-gray-600",
    backHref: "/",
  };

  return (
    <div className="h-screen flex flex-col bg-gray-50 dark:bg-gray-900">
      {/* Header */}
      <header className={`${config.headerClass} text-white px-4 py-3 flex items-center gap-3`}>
        <Link href={config.backHref} className="text-white/80 hover:text-white">
          â† è¿”å›
        </Link>
        <div className="flex items-center gap-2">
          <span className="text-2xl">{config.icon}</span>
          <h1 className="font-semibold">{config.name}</h1>
        </div>
      </header>

      {/* Chat */}
      <div className="flex-1 overflow-hidden">
        <ChatContainer skillId={skillId} />
      </div>
    </div>
  );
}
