# Mentis 前端与登录页设计方案

## 概述

基于 **Mentis OS v3.0** 产品文档和 **Fortune AI Soul OS Design System (Notion Zen Theme v4.1)** 设计语言，构建 Mentis 前端界面和登录页。

---

## 设计原则

### 继承 Fortune AI 设计系统

| 设计元素 | Fortune AI 规范 | Mentis 应用 |
|----------|-----------------|-------------|
| **主色调** | `#FDFCFA` (暖纸白) | Stream 背景 |
| **强调色** | `#C9A05A` (金麦色) | 能量/动量高亮 |
| **字体** | Playfair Display + Inter | 保持一致 |
| **圆角** | `rounded-lg` ~ `rounded-2xl` | 卡片系统 |
| **阴影** | 多层软阴影 | 浮动元素 |
| **玻璃态** | `backdrop-blur` + 半透明 | 输入框/模态框 |

### Mentis 特色元素

| 特色 | 设计表现 |
|------|----------|
| **Dynamic Aura** | 背景渐变动画 (5种情绪状态) |
| **Stream-First** | 时间线卡片流布局 |
| **Action Cards** | 可交互任务卡片 (长按充能) |
| **实时同步** | 微动画反馈 (能量变化/Aura 变化) |

---

## 页面结构

### 1. Landing Page (落地页)

```
┌────────────────────────────────────────────────────────────────┐
│  [Nav]  MENTIS     Features · Pricing · Login                  │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│                    ◉ Soul Orb (动态光球)                        │
│                    呼吸动画 + 元素渐变                          │
│                                                                │
│              "Decode. Reframe. Evolve."                        │
│              解码命运 · 重塑认知 · 进化人生                     │
│                                                                │
│     ┌──────────────────────────────────────────────────────┐   │
│     │  📅 输入你的生辰，获取即时洞察...                      │   │
│     │  [日期选择器] [时间选择器] [性别] [提交]              │   │
│     └──────────────────────────────────────────────────────┘   │
│                    (Input Capsule 胶囊输入框)                   │
│                                                                │
│              ↓ 提交后显示 Instant Insight                      │
│                                                                │
├────────────────────────────────────────────────────────────────┤
│              [特色功能展示区]                                   │
│   🎙️ Vibe Diary    🔮 命理解读    🧘 认知重塑    📈 动量追踪    │
├────────────────────────────────────────────────────────────────┤
│              [Footer]                                          │
└────────────────────────────────────────────────────────────────┘
```

**关键组件:**
- `MentisSoulOrb` - 带五行元素渐变的动态光球
- `BirthInputCapsule` - 玻璃态生辰输入框
- `InstantInsightCard` - 快速命盘洞察卡片
- `FeatureShowcase` - 功能特色展示

### 2. Login/Register Page (登录页)

```
┌────────────────────────────────────────────────────────────────┐
│                                                                │
│   [两栏响应式布局]                                              │
│                                                                │
│   ┌─────────────────────┬──────────────────────────────────┐   │
│   │                     │                                  │   │
│   │   ◉ Soul Orb        │   📊 命盘预览区                   │   │
│   │                     │   (输入生辰后实时显示)            │   │
│   │   [登录/注册切换]    │                                  │   │
│   │                     │   ┌──────────────────────────┐   │   │
│   │   📧 邮箱            │   │ 八字四柱                 │   │   │
│   │   🔑 密码            │   │ 年柱·月柱·日柱·时柱      │   │   │
│   │                     │   └──────────────────────────┘   │   │
│   │   [登录按钮]         │                                  │   │
│   │                     │   ┌──────────────────────────┐   │   │
│   │   ─── 或 ───        │   │ 紫微命宫                 │   │   │
│   │                     │   │ 命宫星曜分布             │   │   │
│   │   [Google] [Apple]  │   └──────────────────────────┘   │   │
│   │                     │                                  │   │
│   │   --- 新用户 ---    │   ┌──────────────────────────┐   │   │
│   │                     │   │ 今日运势                 │   │   │
│   │   📅 生辰信息        │   │ ⭐⭐⭐⭐☆ 综合评分        │   │   │
│   │   (日期/时间/性别)   │   └──────────────────────────┘   │   │
│   │                     │                                  │   │
│   │   [生成预览按钮]     │                                  │   │
│   │                     │                                  │   │
│   └─────────────────────┴──────────────────────────────────┘   │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

**关键组件:**
- `AuthForm` - 登录/注册表单 (Tab 切换)
- `BirthInfoPanel` - 生辰信息输入面板
- `FortunePreview` - 命盘预览区 (八字/紫微/运势)
- `SocialAuthButtons` - 第三方登录按钮

### 3. Main App (主应用 - Stream 界面)

```
Mobile (<1024px):
┌────────────────────────────────────────────────────────────────┐
│  [Status Bar]  🔥 72 动量  |  🌊 Day 7  |  ⚙️                   │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │ 🤖 MENTIS                                                │  │
│  │ "早上好！今天水星逆行进入尾声..."                         │  │
│  │                                                          │  │
│  │ [ 🧘 3分钟呼吸法 ]  ← Action Card                        │  │
│  │ ████████░░░░░░░░ 长按完成                                │  │
│  └──────────────────────────────────────────────────────────┘  │
│                                                                │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │ 👤 You (5 min ago)                       [VIBE DIARY]    │  │
│  │ "刚才开会真的气死我了..."                                 │  │
│  │                                                          │  │
│  │ 🏷️ #Work #Anger  |  🔥 能量 -3                          │  │
│  └──────────────────────────────────────────────────────────┘  │
│                                                                │
│                      ... more stream cards ...                 │
│                                                                │
├────────────────────────────────────────────────────────────────┤
│  [Magic Input - Fixed Bottom]                                  │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │  🎙️ (长按说话)   📷   |   有什么想告诉我的...              │  │
│  └──────────────────────────────────────────────────────────┘  │
└────────────────────────────────────────────────────────────────┘

Desktop (≥1024px):
┌──────────────┬─────────────────────────────┬───────────────────┐
│  CONTEXT     │         STREAM              │     INSIGHT       │
│  (左侧栏)    │         (中间主区)           │     (右侧栏)       │
│              │                             │                   │
│  🔥 动量 72   │    [Stream Cards]           │  💡 今日洞察       │
│  ████████░░  │                             │                   │
│              │                             │  🎯 待完成任务     │
│  📊 能量趋势  │                             │  ☐ 冥想 3分钟     │
│  [Mini Chart]│                             │  ☐ 补水 8杯       │
│              │                             │                   │
│  🌙 今日运势  │                             │                   │
│  ⭐⭐⭐⭐☆     │                             │                   │
└──────────────┴─────────────────────────────┴───────────────────┘
```

---

## 核心组件清单

### 通用组件 (继承 Fortune AI)

```
src/components/
├── ui/                          # 基础 UI 组件
│   ├── button.tsx               # 按钮 (Primary/Ghost/Text)
│   ├── input.tsx                # 输入框
│   ├── card.tsx                 # 卡片容器
│   ├── tabs.tsx                 # 标签页
│   ├── modal.tsx                # 模态框
│   └── toast.tsx                # 提示消息
├── layout/
│   ├── header.tsx               # 顶部导航
│   ├── footer.tsx               # 页脚
│   └── sidebar.tsx              # 侧边栏 (Desktop)
```

### Mentis 特色组件

```
src/components/
├── landing/
│   ├── mentis-soul-orb.tsx      # Mentis 版 Soul Orb (五行渐变)
│   ├── birth-input-capsule.tsx  # 生辰输入胶囊
│   ├── instant-insight-card.tsx # 即时洞察卡片
│   ├── feature-showcase.tsx     # 功能展示
│   └── portal-modal.tsx         # 登录/注册弹窗
├── auth/
│   ├── auth-form.tsx            # 认证表单
│   ├── birth-info-panel.tsx     # 生辰信息面板
│   ├── fortune-preview.tsx      # 命盘预览
│   └── social-auth-buttons.tsx  # 第三方登录
├── stream/
│   ├── stream-container.tsx     # Stream 容器
│   ├── stream-card.tsx          # 基础 Stream 卡片
│   ├── vibe-diary-card.tsx      # Vibe Diary 卡片
│   ├── action-card.tsx          # Action Card (可交互)
│   ├── insight-card.tsx         # 洞察卡片
│   ├── milestone-card.tsx       # 里程碑卡片
│   └── magic-input.tsx          # 魔法输入框 (语音/文字/图片)
├── aura/
│   ├── dynamic-aura.tsx         # Dynamic Aura 背景
│   ├── aura-particles.tsx       # 粒子效果
│   └── glow-orbs.tsx            # 光晕球体
├── hud/
│   ├── status-bar.tsx           # 顶部状态栏
│   ├── momentum-display.tsx     # 动量显示
│   ├── energy-indicator.tsx     # 能量指示器
│   └── fortune-badge.tsx        # 运势徽章
└── decode/
    ├── bazi-chart.tsx           # 八字图表
    ├── ziwei-palace.tsx         # 紫微命宫
    └── daily-fortune.tsx        # 每日运势
```

---

## 样式系统

### CSS 变量 (继承 + 扩展)

```css
/* 继承 Fortune AI 基础变量 */
--background: 40 20% 98%;          /* #FDFCFA */
--foreground: 30 10% 22%;          /* #37352F */
--accent: 35 60% 52%;              /* #C9A05A */
--card: 0 0% 100%;                 /* #FFFFFF */
--border: 40 10% 90%;              /* #E8E5E0 */

/* Mentis 专属变量 */
--aura-calm: linear-gradient(135deg, #1a1a2e, #2d3561);
--aura-alert: linear-gradient(135deg, #2e1a1a, #613535);
--aura-happy: linear-gradient(135deg, #2e2a1a, #61553d);
--aura-anxious: linear-gradient(135deg, #1a1a2e, #3d2d61);
--aura-flow: linear-gradient(135deg, #1a2e1a, #2d6135);

/* 五行颜色 */
--wuxing-wood: 142 60% 50%;        /* #4ade80 绿 */
--wuxing-fire: 0 80% 70%;          /* #f87171 红 */
--wuxing-earth: 45 90% 55%;        /* #fbbf24 金 */
--wuxing-metal: 30 5% 96%;         /* #f5f5f4 银 */
--wuxing-water: 213 90% 68%;       /* #60a5fa 蓝 */

/* 情绪颜色 */
--emotion-joy: 45 95% 65%;
--emotion-anger: 0 85% 60%;
--emotion-sadness: 210 50% 50%;
--emotion-fear: 270 50% 55%;
--emotion-calm: 200 60% 60%;
```

### 动画系统

```css
/* 继承 Fortune AI 动画 */
--ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
--ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
--duration-slow: 400ms;

/* Mentis 特色动画 */
@keyframes aura-transition {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes pulse-glow {
  0%, 100% { opacity: 0.6; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.05); }
}

@keyframes energy-flow {
  0% { stroke-dashoffset: 100; }
  100% { stroke-dashoffset: 0; }
}

@keyframes card-enter {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}
```

---

## 文件结构

```
/home/aiscend/work/mentis/apps/web/
├── src/
│   ├── app/
│   │   ├── globals.css           # 全局样式 (继承 Fortune AI)
│   │   ├── layout.tsx            # 根布局
│   │   ├── page.tsx              # Landing Page
│   │   ├── login/
│   │   │   └── page.tsx          # 登录页
│   │   ├── register/
│   │   │   └── page.tsx          # 注册页
│   │   └── app/
│   │       ├── layout.tsx        # App 布局 (含 Aura)
│   │       ├── page.tsx          # Stream 主页
│   │       └── settings/
│   │           └── page.tsx      # 设置页
│   ├── components/               # 组件 (见上述清单)
│   ├── lib/
│   │   ├── api.ts                # API 客户端
│   │   ├── auth.ts               # 认证逻辑
│   │   └── utils.ts              # 工具函数
│   ├── stores/
│   │   ├── user-store.ts         # 用户状态
│   │   ├── stream-store.ts       # Stream 状态
│   │   └── aura-store.ts         # Aura 状态
│   └── types/
│       ├── user.ts               # 用户类型
│       ├── stream.ts             # Stream 类型
│       └── fortune.ts            # 运势类型
├── public/
│   ├── fonts/                    # 字体文件
│   └── images/                   # 图片资源
├── package.json
├── tailwind.config.ts
├── postcss.config.mjs
└── next.config.ts
```

---

## 实现步骤

### Phase 1: 基础设施 (Day 1)

1. 初始化 Next.js 14 项目 (App Router)
2. 配置 Tailwind CSS v4
3. 复制 Fortune AI `globals.css` 并扩展 Mentis 变量
4. 配置字体 (Playfair Display + Inter)
5. 创建基础 UI 组件 (Button, Input, Card)

### Phase 2: Landing Page (Day 2)

1. 实现 `MentisSoulOrb` 组件 (五行渐变版)
2. 实现 `BirthInputCapsule` 组件
3. 实现 `InstantInsightCard` 组件
4. 组装 Landing Page 布局
5. 添加 Framer Motion 动画

### Phase 3: Auth Pages (Day 3)

1. 实现 `AuthForm` 组件 (登录/注册切换)
2. 实现 `BirthInfoPanel` 组件
3. 实现 `FortunePreview` 组件
4. 实现 `PortalModal` 组件 (Landing Page 弹窗)
5. 集成认证 API

### Phase 4: Stream UI (Day 4-5)

1. 实现 `DynamicAura` 背景组件
2. 实现 `StreamCard` 及其变体
3. 实现 `ActionCard` (长按交互)
4. 实现 `MagicInput` 组件
5. 实现 `StatusBar` 和 `HUD` 组件

### Phase 5: 集成与优化 (Day 6)

1. 接入后端 API
2. 实现 WebSocket 实时同步
3. 添加 Loading/Error 状态
4. 响应式适配优化
5. 性能优化 (React Query 缓存)

---

## 技术栈

| 类别 | 技术 |
|------|------|
| **框架** | Next.js 14 (App Router) |
| **语言** | TypeScript 5.3 |
| **样式** | Tailwind CSS v4 + CSS Variables |
| **动画** | Framer Motion |
| **状态** | Zustand + React Query |
| **表单** | React Hook Form + Zod |
| **UI 基础** | Radix UI + shadcn/ui |
| **图标** | Lucide React |

---

## 关键设计决策

### 1. 复用 Fortune AI 设计系统
- 直接继承 `globals.css` 的完整变量体系
- 保持相同的组件 API 和命名规范
- 使用相同的动画曲线和时长

### 2. Mentis 特色差异化
- Soul Orb 增加五行元素渐变
- 新增 Dynamic Aura 背景系统
- 新增 Action Card 长按交互
- Stream 卡片流布局

### 3. 移动优先响应式
- Mobile: 全屏 Stream 布局
- Desktop: 三栏布局 (Context/Stream/Insight)

### 4. 性能优化策略
- 组件懒加载
- 图片优化 (Next/Image)
- API 响应缓存
- WebSocket 连接池

---

## 待创建文件清单

| 优先级 | 文件路径 | 说明 |
|--------|----------|------|
| P0 | `src/app/globals.css` | 全局样式 |
| P0 | `src/app/layout.tsx` | 根布局 |
| P0 | `src/app/page.tsx` | Landing Page |
| P0 | `src/app/login/page.tsx` | 登录页 |
| P1 | `src/components/landing/mentis-soul-orb.tsx` | Soul Orb |
| P1 | `src/components/landing/birth-input-capsule.tsx` | 生辰输入 |
| P1 | `src/components/landing/instant-insight-card.tsx` | 即时洞察 |
| P1 | `src/components/auth/auth-form.tsx` | 认证表单 |
| P2 | `src/components/stream/*` | Stream 组件 |
| P2 | `src/components/aura/*` | Aura 组件 |
| P3 | `src/stores/*` | 状态管理 |
