# ç¬¬ä¸‰æ–¹æœåŠ¡å¯†é’¥é…ç½®æ¸…å•

> **å®‰å…¨æç¤ºï¼š** æœ¬æ–‡æ¡£ä»…ä½œä¸ºé…ç½®æ¨¡æ¿ï¼Œå®é™…å¯†é’¥è¯·å‹¿æäº¤åˆ° Git ä»“åº“

---

## 1ï¸âƒ£ Cloudflare Turnstileï¼ˆé˜²æœºå™¨äººï¼‰

| é…ç½®é¡¹ | ä½ç½® | ç¤ºä¾‹å€¼ | è·å–æ–¹å¼ |
|--------|------|--------|----------|
| Site Key | `apps/web/.env.local` | `0x4AAA...` | [Turnstile æ§åˆ¶å°](https://dash.cloudflare.com/turnstile) |
| Secret Key | `apps/api/.env` | `0x4AAA...` | åŒä¸Š |

**ç¯å¢ƒå˜é‡åç§°ï¼š**
```bash
# å‰ç«¯ï¼ˆæ³¨æ„ï¼šä»£ç ä½¿ç”¨ NEXT_PUBLIC_CF_SITE_KEYï¼‰
NEXT_PUBLIC_CF_SITE_KEY=

# åç«¯
CF_SECRET_KEY=
```

**å½“å‰çŠ¶æ€ï¼š** âœ… å·²é…ç½®ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

---

## 2ï¸âƒ£ Resendï¼ˆé‚®ä»¶æœåŠ¡ï¼‰

| é…ç½®é¡¹ | ä½ç½® | ç¤ºä¾‹å€¼ | è·å–æ–¹å¼ |
|--------|------|--------|----------|
| API Key | `apps/api/.env` | `re_Zujx...` | [Resend Dashboard](https://resend.com/api-keys) |
| å‘ä»¶åœ°å€ | `apps/api/.env` | `noreply@vibelife.app` | è‡ªå®šä¹‰ |

**ç¯å¢ƒå˜é‡åç§°ï¼š**
```bash
RESEND_API_KEY=
RESEND_FROM=
```

**å½“å‰çŠ¶æ€ï¼š** âœ… å·²é…ç½®ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
**å½“å‰ API Keyï¼š** `re_Zujx2GAK_H1BAVWzjd387LJPpzC8Jo6Ry`ï¼ˆéœ€éªŒè¯æœ‰æ•ˆæœŸï¼‰

---

## 3ï¸âƒ£ Google OAuth

| é…ç½®é¡¹ | ä½ç½® | ç¤ºä¾‹å€¼ | è·å–æ–¹å¼ |
|--------|------|--------|----------|
| Client ID | `apps/api/.env` | `xxx.apps.googleusercontent.com` | [Google Cloud Console](https://console.cloud.google.com/apis/credentials) |
| Client Secret | `apps/api/.env` | `GOCSPX-xxx` | åŒä¸Š |
| Client ID (å‰ç«¯) | `apps/web/.env.local` | `xxx.apps.googleusercontent.com` | åŒä¸Šï¼ˆä¸åç«¯ç›¸åŒï¼‰ |

**ç¯å¢ƒå˜é‡åç§°ï¼š**
```bash
# åç«¯
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# å‰ç«¯ï¼ˆå‰ç«¯ OAuth å¼¹çª—éœ€è¦ï¼‰
NEXT_PUBLIC_GOOGLE_CLIENT_ID=
```

**å›è°ƒ URL é…ç½®ï¼ˆéœ€åœ¨ Google Console æ·»åŠ ï¼‰ï¼š**
- ç”Ÿäº§ï¼š`https://vibelife.app/api/auth/oauth/google/callback`
- å¼€å‘ï¼š`http://localhost:3000/api/auth/oauth/google/callback`

**å½“å‰çŠ¶æ€ï¼š** ğŸ”§ **å¾…é…ç½®**ï¼ˆå‰ç«¯å·²å°±ç»ªï¼Œéœ€é…ç½®ç¯å¢ƒå˜é‡ï¼‰

---

## 4ï¸âƒ£ Apple Sign In

| é…ç½®é¡¹ | ä½ç½® | ç¤ºä¾‹å€¼ | è·å–æ–¹å¼ |
|--------|------|--------|----------|
| Service ID | `apps/api/.env` | `com.vibelife.signin` | [Apple Developer Console](https://developer.apple.com/account/resources/identifiers/list/serviceId) |
| Team ID | `apps/api/.env` | `ABCD123456` | [Membership Info](https://developer.apple.com/account) |
| Key ID | `apps/api/.env` | `XYZ1234567` | [Keys](https://developer.apple.com/account/resources/authkeys/list) |
| Private Key | æœåŠ¡å™¨æ–‡ä»¶ç³»ç»Ÿ | `/secrets/AuthKey_XXX.p8` | åˆ›å»º Key æ—¶ä¸‹è½½ |
| Client ID (å‰ç«¯) | `apps/web/.env.local` | `com.vibelife.signin` | åŒ Service ID |

**ç¯å¢ƒå˜é‡åç§°ï¼š**
```bash
# åç«¯
APPLE_CLIENT_ID=         # Service ID
APPLE_TEAM_ID=
APPLE_KEY_ID=
APPLE_PRIVATE_KEY_PATH=  # .p8 æ–‡ä»¶è·¯å¾„

# å‰ç«¯ï¼ˆå‰ç«¯ OAuth å¼¹çª—éœ€è¦ï¼‰
NEXT_PUBLIC_APPLE_CLIENT_ID=  # ä¸ APPLE_CLIENT_ID ç›¸åŒ
```

**å›è°ƒ URL é…ç½®ï¼ˆéœ€åœ¨ Apple Developer Console æ·»åŠ ï¼‰ï¼š**
- ç”Ÿäº§ï¼š`https://vibelife.app/api/auth/oauth/apple/callback`

**å½“å‰çŠ¶æ€ï¼š** â¸ï¸ **æš‚ä¸å¯ç”¨**ï¼ˆå‰ç«¯æŒ‰é’®å·²éšè—ï¼‰

---

## 5ï¸âƒ£ å¾®ä¿¡å¼€æ”¾å¹³å°

| é…ç½®é¡¹ | ä½ç½® | ç¤ºä¾‹å€¼ | è·å–æ–¹å¼ |
|--------|------|--------|----------|
| AppID | `apps/api/.env` | `wxXXXXXXXXXXXX` | [å¾®ä¿¡å¼€æ”¾å¹³å°](https://open.weixin.qq.com/) |
| AppSecret | `apps/api/.env` | `XXXXXXXXXXXXXXXX` | åŒä¸Š |

**ç¯å¢ƒå˜é‡åç§°ï¼š**
```bash
# åç«¯
WECHAT_APP_ID=
WECHAT_APP_SECRET=
```

**å›è°ƒåŸŸé…ç½®ï¼ˆéœ€åœ¨å¾®ä¿¡å¼€æ”¾å¹³å°æ·»åŠ ï¼‰ï¼š**
- æˆæƒå›è°ƒåŸŸï¼š`vibelife.app`ï¼ˆä¸åŠ  https://ï¼‰

**å½“å‰çŠ¶æ€ï¼š** â¸ï¸ **æš‚ä¸å¯ç”¨**ï¼ˆå‰ç«¯æŒ‰é’®å·²éšè—ï¼‰

---

## 6ï¸âƒ£ JWT è®¤è¯ï¼ˆè‡ªå»ºï¼‰

| é…ç½®é¡¹ | ä½ç½® | å½“å‰å€¼ |
|--------|------|--------|
| JWT Secret | `.env` / `apps/api/.env` | `vibelife-jwt-secret-key-2026-aiscend` |
| Access Token è¿‡æœŸæ—¶é—´ | `.env` | `60` åˆ†é’Ÿ |
| Refresh Token è¿‡æœŸæ—¶é—´ | `.env` | `30` å¤© |

**ç¯å¢ƒå˜é‡åç§°ï¼š**
```bash
VIBELIFE_JWT_SECRET=
VIBELIFE_ACCESS_TOKEN_EXPIRE_MINUTES=60
VIBELIFE_REFRESH_TOKEN_EXPIRE_DAYS=30
```

**å½“å‰çŠ¶æ€ï¼š** âœ… å·²é…ç½®

---

## é…ç½®ä¼˜å…ˆçº§

### å·²å¯ç”¨ï¼ˆå½“å‰ç”Ÿæ•ˆï¼‰
1. âœ… Cloudflare Turnstile
2. âœ… Resend
3. âœ… JWT Secret

### å¾…é…ç½®ï¼ˆå‰ç«¯å·²å°±ç»ªï¼‰
4. ğŸ”§ Google OAuth - éœ€è¦é…ç½®ç¯å¢ƒå˜é‡

### æš‚ä¸å¯ç”¨ï¼ˆå‰ç«¯å·²éšè—ï¼‰
5. â¸ï¸ Apple Sign In
6. â¸ï¸ å¾®ä¿¡å¼€æ”¾å¹³å°

---

## å®‰å…¨æ£€æŸ¥æ¸…å•

éƒ¨ç½²å‰è¯·ç¡®è®¤ï¼š

- [ ] æ‰€æœ‰ Secret Key / API Key æœªæäº¤åˆ° Git
- [ ] `.env` æ–‡ä»¶å·²æ·»åŠ åˆ° `.gitignore`
- [ ] ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ç‹¬ç«‹çš„ API Keyï¼ˆä¸æµ‹è¯•ç¯å¢ƒéš”ç¦»ï¼‰
- [ ] Resend API Key æœ‰è¶³å¤Ÿçš„é‚®ä»¶é¢åº¦
- [ ] Google/Apple å›è°ƒ URL é…ç½®æ­£ç¡®
- [ ] Apple ç§é’¥æ–‡ä»¶æƒé™è®¾ç½®ä¸º `600`ï¼ˆ`chmod 600 AuthKey_XXX.p8`ï¼‰
- [ ] JWT Secret è¶³å¤Ÿå¤æ‚ï¼ˆå»ºè®® 32+ å­—ç¬¦éšæœºå­—ç¬¦ä¸²ï¼‰

---

## å¯†é’¥è½®æ¢è®¡åˆ’

å»ºè®®å®šæœŸè½®æ¢ä»¥ä¸‹å¯†é’¥ï¼š

| å¯†é’¥ç±»å‹ | è½®æ¢å‘¨æœŸ | æœ€åæ›´æ–° | ä¸‹æ¬¡è½®æ¢ |
|---------|---------|---------|---------|
| JWT Secret | æ¯å¹´ | 2026-01 | 2027-01 |
| Resend API Key | æ¯ 6 ä¸ªæœˆ | å¾…ç¡®è®¤ | å¾…ç¡®è®¤ |
| Turnstile Secret | æ¯å¹´ | å¾…ç¡®è®¤ | å¾…ç¡®è®¤ |
| Google Client Secret | æ¯å¹´ | æœªé…ç½® | - |
| Apple Private Key | æ¯ 2 å¹´ | æœªé…ç½® | - |
| WeChat AppSecret | æ¯å¹´ | æœªé…ç½® | - |

---

## åº”æ€¥è”ç³»æ–¹å¼

| æœåŠ¡ | æ”¯æŒæ¸ é“ |
|------|---------|
| Cloudflare Turnstile | https://community.cloudflare.com |
| Resend | support@resend.com |
| Google Cloud | https://cloud.google.com/support |
| Apple Developer | https://developer.apple.com/contact/ |
| å¾®ä¿¡å¼€æ”¾å¹³å° | https://open.weixin.qq.com/ å·¥å•ç³»ç»Ÿ |
