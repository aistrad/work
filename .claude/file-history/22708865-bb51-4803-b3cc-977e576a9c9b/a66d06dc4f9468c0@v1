# ═══════════════════════════════════════════════════════════════
# VIBELIFE 环境变量配置
# ═══════════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────────
# 数据库 - PostgreSQL
# ─────────────────────────────────────────────────────────────────
VIBELIFE_DB_URL=postgresql://postgres:Ak4_9lScd-69WX@106.37.170.238:8224/vibelife
VIBELIFE_DB_HOST=106.37.170.238
VIBELIFE_DB_PORT=8224
VIBELIFE_DB_NAME=vibelife
VIBELIFE_DB_USER=postgres
VIBELIFE_DB_PASSWORD=Ak4_9lScd-69WX
VIBELIFE_DB_SSLMODE=prefer

# ─────────────────────────────────────────────────────────────────
# JWT & 认证
# ─────────────────────────────────────────────────────────────────
VIBELIFE_JWT_SECRET=vibelife-jwt-secret-key-2026-aiscend
VIBELIFE_ACCESS_TOKEN_EXPIRE_MINUTES=60
VIBELIFE_REFRESH_TOKEN_EXPIRE_DAYS=30

# ─────────────────────────────────────────────────────────────────
# API 配置
# ─────────────────────────────────────────────────────────────────
VIBELIFE_API_PORT=8000
VIBELIFE_API_HOST=0.0.0.0
VIBELIFE_DEV=1
VIBELIFE_CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://106.37.170.238:8232

# ─────────────────────────────────────────────────────────────────
# LLM 服务 - 智谱 GLM (主要)
# ─────────────────────────────────────────────────────────────────
GLM_API_KEY=42b82ed9a13e4e8890ef3854bb840ef8.TcWZ4DIq0NF2xElF
GLM_CHAT_MODEL=glm-4.7
GLM_VISION_MODEL=glm-4.6v
GLM_BASE_URL=https://open.bigmodel.cn/api/anthropic/v1

# ─────────────────────────────────────────────────────────────────
# LLM 服务 - DeepSeek
# ─────────────────────────────────────────────────────────────────
DEEPSEEK_API_KEY=sk-1f932f47fa5e4ecd912f1faa4bb8e8dd
DEEPSEEK_MODEL=deepseek-chat
DEEPSEEK_BASE_URL=https://api.deepseek.com/anthropic

# ─────────────────────────────────────────────────────────────────
# LLM 服务 - Claude
# ─────────────────────────────────────────────────────────────────
CLAUDE_API_KEY=cr_5b14c030a59e2965a32d574609df6e250a4bf1faee0dc2a9001522cddcf245e1
CLAUDE_BASE_URL=https://www.zz166.cn/api/v1
CLAUDE_MODEL=claude-opus-4-5-20251101

# ─────────────────────────────────────────────────────────────────
# LLM 服务 - Google Gemini (生图)
# ─────────────────────────────────────────────────────────────────
GEMINI_API_KEY=sk-Z0kVvuz5cIwtomKfLQH23MuYxsTgG7IuFxSDaeYoV4xwHGqD
GEMINI_BASE_URL=https://api2.qiandao.mom/v1
GEMINI_CHAT_MODEL=gemini-3-pro-preview
GEMINI_IMAGE_MODEL=gemini-3-pro-image-preview

# ─────────────────────────────────────────────────────────────────
# 向量嵌入 - 本地 BAAI/bge-m3 + PostgreSQL pgvector
# ─────────────────────────────────────────────────────────────────
EMBEDDING_MODEL_NAME=BAAI/bge-m3
EMBEDDING_DIMENSION=1024
EMBEDDING_DEVICE=cuda
EMBEDDING_LOCAL_DIR=/home/aiscend/.cache/vibelife/models/bge-m3

# ─────────────────────────────────────────────────────────────────
# 前端配置
# ─────────────────────────────────────────────────────────────────
NEXT_PUBLIC_API_BASE=http://localhost:8000/api/v1
NEXT_PUBLIC_WS_URL=ws://localhost:8000/ws

# ─────────────────────────────────────────────────────────────────
# 域名配置 (生产环境)
# ─────────────────────────────────────────────────────────────────
VIBELIFE_DOMAIN=vibelife.app
BAZI_DOMAIN=bazi.vibelife.app
ZODIAC_DOMAIN=zodiac.vibelife.app
MBTI_DOMAIN=mbti.vibelife.app
ID_DOMAIN=id.vibelife.app

# ─────────────────────────────────────────────────────────────────
# 数据目录配置
# ─────────────────────────────────────────────────────────────────
VIBELIFE_DATA_ROOT=/data/vibelife
VIBELIFE_KNOWLEDGE_ROOT=/data/vibelife/knowledge
VIBELIFE_UPLOADS_ROOT=/data/vibelife/uploads
VIBELIFE_CACHE_ROOT=/data/vibelife/cache
VIBELIFE_LOGS_ROOT=/data/vibelife/logs
VIBELIFE_JIEBA_TMPDIR=/tmp/vibelife/jieba

# ─────────────────────────────────────────────────────────────────
# 内部 API 配置 (Next.js 服务端 -> 后端)
# ─────────────────────────────────────────────────────────────────
VIBELIFE_API_INTERNAL=http://127.0.0.1:8000

# ─────────────────────────────────────────────────────────────────
# Next.js 图片域名白名单 (逗号分隔)
# ─────────────────────────────────────────────────────────────────
NEXT_PUBLIC_IMAGE_DOMAINS=localhost,106.37.170.238

# ─────────────────────────────────────────────────────────────────
# Email Auth - Cloudflare Turnstile & Resend
# ─────────────────────────────────────────────────────────────────
# Cloudflare Turnstile (留空则跳过验证，用于开发/测试)
CF_SECRET_KEY=0x4AAAAAACOqfMChj7EnDsKSf4uFGi3bgzk

# Resend Email Service
# 注意：需要在 Resend 验证 vibelife.app 域名后，改回 "VibeLife <noreply@vibelife.app>"
RESEND_API_KEY=re_PiwJqKEF_9CdT88HVr4qHZsBoENSvtXvV
RESEND_FROM=noreply@vibelife.app

# ─────────────────────────────────────────────────────────────────
# OAuth 认证 (按需配置)
# ─────────────────────────────────────────────────────────────────
# Google OAuth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# Apple OAuth
APPLE_CLIENT_ID=
APPLE_TEAM_ID=
APPLE_KEY_ID=

# ─────────────────────────────────────────────────────────────────
# Stripe 支付 (按需配置)
# ─────────────────────────────────────────────────────────────────
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=

# 海外订阅 Price IDs (USD, Recurring)
STRIPE_PRICE_SUB_MONTHLY_USD=
STRIPE_PRICE_SUB_QUARTERLY_USD=
STRIPE_PRICE_SUB_YEARLY_USD=

# 大陆/香港预付 Price IDs (HKD, One-time)
STRIPE_PRICE_PREPAID_1M_HKD=
STRIPE_PRICE_PREPAID_3M_HKD=
STRIPE_PRICE_PREPAID_12M_HKD=

# 支付回调 URLs
PAYMENT_SUCCESS_URL=https://vibelife.app/payment/success
PAYMENT_CANCEL_URL=https://vibelife.app/pricing
BILLING_PORTAL_RETURN_URL=https://vibelife.app/account
