---
name: vibe-skill
description: Transforms domain knowledge into well-structured Agent Skills. Use when user provides expertise, documentation, or best practices and wants to create a reusable skill. Triggers on phrases like "build a skill", "create skill from", "turn this into a skill".
---

# Vibe Skill - Domain Knowledge to Skill Transformer

## Core Mission

Transform raw domain knowledge into production-ready Agent Skills that embody expert-level capabilities.

## Workflow

### Phase 1: Knowledge Intake

When user provides domain knowledge:

1. **Identify knowledge type**:
   - Procedural (how to do X)
   - Declarative (facts, schemas, rules)
   - Heuristic (expert judgment patterns)
   - Reference (API docs, specifications)

2. **Extract core elements**:
   - Trigger conditions (when should this skill activate?)
   - Key workflows (what steps does an expert follow?)
   - Decision points (where does judgment matter?)
   - Failure modes (what goes wrong and how to recover?)

### Phase 2: Architecture Design

Decide skill structure based on complexity:

**Simple skill** (single workflow, <200 lines):
```
skill-name/
└── SKILL.md
```

**Standard skill** (multiple workflows, reference needed):
```
skill-name/
├── SKILL.md
└── reference/
    └── [domain-specific].md
```

**Complex skill** (scripts, validation, examples):
```
skill-name/
├── SKILL.md
├── reference/
├── scripts/
└── examples/
```

### Phase 3: Content Generation

**SKILL.md structure**:

```yaml
---
name: [lowercase-with-hyphens, max 64 chars]
description: [Third person. What it does + when to use. Max 1024 chars]
---
```

**Body guidelines**:
- Keep under 500 lines
- Lead with quick-start (most common use case)
- Use progressive disclosure (link to reference/ for details)
- Include concrete examples, not abstract explanations

**Freedom calibration** (see [reference/freedom-levels.md](reference/freedom-levels.md)):
- High freedom: Multiple valid approaches, context-dependent
- Medium freedom: Preferred pattern with allowed variations
- Low freedom: Fragile operations, exact steps required

### Phase 4: Validation

Before finalizing, verify:

- [ ] Description includes trigger phrases
- [ ] SKILL.md body < 500 lines
- [ ] No deeply nested references (max 1 level)
- [ ] Examples are concrete, not abstract
- [ ] Terminology is consistent throughout

### Phase 5: Optimization (for large skills)

When a skill file grows beyond 500 lines or contains multiple complex workflows:

**1. Add Quick Navigation Index** (at file top, after frontmatter):

```markdown
## 快速导航

> **渐进式加载**: 先读本节(L1-60)获取索引，再按需跳转到对应模块

| 模块 | 行号 | 说明 |
|------|------|------|
| [概述](#概述) | L30-55 | 核心架构 |
| [主流程](#主流程) | L57-150 | 常用操作 |
| [复杂流程](#复杂流程) | L152-350 | 详细步骤 ★ |
| [参考](#参考) | L352-400 | 数据结构、配置 |
```

**2. Leverage Progressive Loading**:
- Claude Code's `Read` tool supports `offset` and `limit` parameters
- Put navigation index in first 50-60 lines
- Large modules (like detailed workflows) go at the end
- Claude reads index first, then jumps to needed section

**3. Content Cleanup**:

| 清理项 | 处理方式 |
|--------|----------|
| 重复的 ASCII 流程图 | 合并为 1 个 + 文字说明 |
| 废弃/legacy 内容 | 删除或移到注释 |
| 冗余代码示例 | 保留 1 份规范定义 |
| 过长的表格 | 精简为核心项 |

**4. Structure Reorganization**:

```
文件结构优化原则:
├── 导航索引 (L1-60)        ← 必读，快速定位
├── 概述 + 常用操作         ← 高频使用
├── 详细流程 (大模块)       ← 按需加载
├── 参考资料 (数据结构等)   ← 按需加载
└── 附录 (自检、原则)       ← 低频使用
```

**5. Optimization Metrics**:

| 指标 | 目标 |
|------|------|
| 总行数 | 减少 30-50% |
| 导航索引 | 前 60 行内 |
| 单次加载 | < 300 行 |

**Example**: vibelife-skill 优化结果
- 优化前: 1040 行
- 优化后: 532 行 (-49%)
- 渐进加载: 只需读 ~255 行即可执行手工抽取流程

## Anti-patterns to Avoid

1. **Over-explaining** - Claude already knows common concepts
2. **Multiple options without default** - Pick one, mention alternatives
3. **Time-sensitive info** - Use "old patterns" section instead
4. **Windows paths** - Always use forward slashes
5. **Monolithic large files** - Use navigation index + progressive loading

## Output Format

Generate complete skill directory. For each file, output:

```
=== FILE: path/to/file.md ===
[content]
```

User can then save files to `~/.claude/skills/[skill-name]/`
