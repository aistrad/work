---
id: validation
name: 验证优化
impact: MEDIUM
impactDescription: 确保 Skill 质量，提供优化建议
tags: 验证, 检查, 优化, 质量, 清单
---

# 验证优化规则

## 适用场景

- 内容生成完成后
- 需要检查 Skill 质量
- 优化已有 Skill 结构

## 分析要点

| 步骤 | 检查项 | 标准 | 优先级 |
|-----|-------|------|-------|
| 1 | SKILL.md 检查 | 见检查清单 | 必须 |
| 2 | Rule 文件检查 | 见检查清单 | 必须 |
| 3 | 结构一致性 | 索引与文件对应 | 必须 |
| 4 | 优化建议 | 行数、复杂度 | 推荐 |

### SKILL.md 检查清单

| 检查项 | 标准 | 通过 |
|-------|------|------|
| 行数 | < 200 行 | [ ] |
| Frontmatter | 包含 name 和 description | [ ] |
| description | 包含触发词，< 1024 字符 | [ ] |
| 专家身份 | 明确核心理念 | [ ] |
| 核心能力索引 | 表格完整，每个能力有优先级 | [ ] |
| 规则文件引用 | 每个能力指向 rules/*.md | [ ] |
| 工具快速参考 | 表格完整 (如适用) | [ ] |
| 知识检索策略 | 表格完整 (如适用) | [ ] |
| 服务原则 | 5 条原则 | [ ] |
| 伦理边界 | 禁止事项 + 输出原则 | [ ] |
| 详细文档链接 | 指向所有 rules/ 和 reference/ | [ ] |

### Rule 文件检查清单

| 检查项 | 标准 | 通过 |
|-------|------|------|
| Frontmatter | 包含 id, name, impact, tags | [ ] |
| 适用场景 | 描述清晰 | [ ] |
| 分析要点表格 | 步骤、要点、检索、优先级完整 | [ ] |
| 输出要求 | 必须产出、格式要求、下一步引导 | [ ] |
| 常见问题 | 覆盖高频问题 (可选) | [ ] |

### 结构一致性检查

```
验证:
1. SKILL.md 能力索引中的每个规则文件都存在
2. rules/_index.md 与实际文件一致
3. 详细文档链接都有效
4. 无孤立文件 (未被引用的 rule)
```

### 优化建议矩阵

| 问题 | 症状 | 优化方案 |
|-----|------|---------|
| SKILL.md 过长 | > 200 行 | 拆分详细内容到 rules/ |
| Rule 文件过长 | > 150 行 | 拆分为多个 rule 或移到 reference/ |
| 硬编码知识 | 具体规则写在 SKILL.md | 移到 rules/ 或 reference/ |
| 索引不清晰 | 能力表格不完整 | 补充优先级和触发场景 |
| 触发词不足 | description 没有触发词 | 添加常见触发短语 |

## 输出要求

1. **必须产出**：
   - 检查清单结果 (通过/未通过)
   - 问题列表 (如有)
   - 优化建议 (如有)

2. **输出格式**：
   ```markdown
   ## 验证结果

   ### SKILL.md 检查
   - [x] 行数 < 200 行 (当前: 86 行)
   - [x] Frontmatter 完整
   - [ ] description 缺少部分触发词

   ### 问题列表
   1. description 建议添加触发词: "skill builder", "知识转换"

   ### 优化建议
   - 当前结构良好，无需优化
   ```

3. **下一步引导**：
   - 如有问题，返回「内容生成」修正
   - 如全部通过，提示用户可以保存使用

## 大文件优化指南

当 Skill 文件超过 500 行时：

**1. 添加快速导航索引** (文件顶部，frontmatter 后):

```markdown
## 快速导航

> **渐进式加载**: 先读本节(L1-60)获取索引，再按需跳转

| 模块 | 行号 | 说明 |
|------|------|------|
| [概述](#概述) | L30-55 | 核心架构 |
| [主流程](#主流程) | L57-150 | 常用操作 |
```

**2. 内容清理**:

| 清理项 | 处理方式 |
|--------|----------|
| 重复流程图 | 合并为 1 个 |
| 废弃内容 | 删除或归档 |
| 冗余示例 | 保留 1 份规范 |
| 过长表格 | 精简为核心项 |

**3. 优化目标**:

| 指标 | 目标 |
|------|------|
| 总行数 | 减少 30-50% |
| 导航索引 | 前 60 行内 |
| 单次加载 | < 300 行 |
