"""
Vibe Engine - Core AI Engine for VibeLife
Based on: vibelife spec v3.0

Components:
- LLM: Multi-model LLM service (Zhipu GLM-4 primary)
- Context: LLM context construction
- Portrait: User profile management

Legacy (for backward compatibility):
- LLMOrchestrator: Old LLM interface (use LLMService instead)
- EmotionEngine: Emotion analysis
- MemorySystem: Conversation history management
- InsightGenerator: LLM-driven insights
- PortraitService (old): Legacy portrait service
"""

# New v3.0 modules
from .llm import (
    LLMService,
    LLMMessage,
    LLMResponse,
    LLMProvider,
    LLMConfig,
    get_llm_service,
    create_message,
    create_system_message,
    create_user_message,
    create_assistant_message,
)

from .context import (
    ContextBuilder,
    ContextConfig,
    VoiceMode,
    Skill,
    Topic,
    get_context_builder,
)

from .portrait import (
    PortraitService as PortraitServiceV3,
    ProfileUpdate,
    get_portrait_service,
    DEFAULT_PROFILE,
)

# Legacy imports (backward compatibility)
try:
    from .llm_orchestrator import LLMOrchestrator, LLMMessage as LLMMessageOld
except ImportError:
    LLMOrchestrator = None
    LLMMessageOld = None

try:
    from .emotion_engine import EmotionEngine
except ImportError:
    EmotionEngine = None

try:
    from .memory_system import MemorySystem
except ImportError:
    MemorySystem = None

try:
    from .insight_generator import InsightGenerator
except ImportError:
    InsightGenerator = None

try:
    from .portrait_service import PortraitService as PortraitServiceOld
except ImportError:
    PortraitServiceOld = None


__all__ = [
    # New v3.0 exports
    "LLMService",
    "LLMMessage",
    "LLMResponse",
    "LLMProvider",
    "LLMConfig",
    "get_llm_service",
    "create_message",
    "create_system_message",
    "create_user_message",
    "create_assistant_message",
    "ContextBuilder",
    "ContextConfig",
    "VoiceMode",
    "Skill",
    "Topic",
    "get_context_builder",
    "PortraitServiceV3",
    "ProfileUpdate",
    "get_portrait_service",
    "DEFAULT_PROFILE",

    # Legacy exports
    "LLMOrchestrator",
    "EmotionEngine",
    "MemorySystem",
    "InsightGenerator",
    "PortraitServiceOld",
]
