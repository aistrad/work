/**
 * E2E 测试数据
 *
 * 集中管理测试用的数据，方便维护和更新
 */

// ═══════════════════════════════════════════════════════════════════════════
// 生日测试数据
// ═══════════════════════════════════════════════════════════════════════════

export interface BirthInfo {
  year: number
  month: number
  day: number
  hour?: number
  description: string
}

export const BIRTH_DATES: Record<string, BirthInfo> = {
  // 标准测试数据
  standard: {
    year: 1990,
    month: 6,
    day: 15,
    hour: 10,
    description: '标准测试日期 (1990-06-15 10:00)',
  },

  // 千禧年
  millennium: {
    year: 2000,
    month: 1,
    day: 1,
    hour: 0,
    description: '千禧年 (2000-01-01)',
  },

  // 闰年2月29日
  leapYear: {
    year: 2000,
    month: 2,
    day: 29,
    hour: 12,
    description: '闰年2月29日',
  },

  // 年底
  yearEnd: {
    year: 1985,
    month: 12,
    day: 31,
    hour: 23,
    description: '年底 (12-31)',
  },

  // 年初
  yearStart: {
    year: 1995,
    month: 1,
    day: 1,
    hour: 0,
    description: '年初 (01-01)',
  },

  // 较老的日期
  oldDate: {
    year: 1950,
    month: 8,
    day: 20,
    description: '较老日期 (1950)',
  },

  // 较新的日期
  youngDate: {
    year: 2015,
    month: 5,
    day: 10,
    description: '较新日期 (2015)',
  },

  // 各种时辰
  zi: { year: 1990, month: 6, day: 15, hour: 0, description: '子时 (00:00)' },
  chou: { year: 1990, month: 6, day: 15, hour: 2, description: '丑时 (02:00)' },
  yin: { year: 1990, month: 6, day: 15, hour: 4, description: '寅时 (04:00)' },
  mao: { year: 1990, month: 6, day: 15, hour: 6, description: '卯时 (06:00)' },
  chen: { year: 1990, month: 6, day: 15, hour: 8, description: '辰时 (08:00)' },
  si: { year: 1990, month: 6, day: 15, hour: 10, description: '巳时 (10:00)' },
  wu: { year: 1990, month: 6, day: 15, hour: 12, description: '午时 (12:00)' },
  wei: { year: 1990, month: 6, day: 15, hour: 14, description: '未时 (14:00)' },
  shen: { year: 1990, month: 6, day: 15, hour: 16, description: '申时 (16:00)' },
  you: { year: 1990, month: 6, day: 15, hour: 18, description: '酉时 (18:00)' },
  xu: { year: 1990, month: 6, day: 15, hour: 20, description: '戌时 (20:00)' },
  hai: { year: 1990, month: 6, day: 15, hour: 22, description: '亥时 (22:00)' },
}

// ═══════════════════════════════════════════════════════════════════════════
// Skill 触发词测试数据
// ═══════════════════════════════════════════════════════════════════════════

export interface SkillTrigger {
  skillId: string
  queries: string[]
  expectedKeywords: string[]
}

export const SKILL_TRIGGERS: SkillTrigger[] = [
  {
    skillId: 'bazi',
    queries: [
      '帮我看看八字',
      '我的命盘怎么样',
      '算一下我的命',
      '排盘看看',
      '分析我的四柱',
    ],
    expectedKeywords: ['八字', '日主', '格局', '五行', '命盘'],
  },
  {
    skillId: 'zodiac',
    queries: [
      '看看我的星盘',
      '我是什么星座',
      '分析一下我的太阳月亮上升',
      '最近星象怎么样',
      '水逆对我有什么影响',
    ],
    expectedKeywords: ['星座', '星盘', '太阳', '月亮', '上升'],
  },
  {
    skillId: 'tarot',
    queries: [
      '抽一张塔罗牌',
      '做个塔罗占卜',
      '用塔罗帮我看看感情',
      '三张牌阵',
      '今日塔罗指引',
    ],
    expectedKeywords: ['塔罗', '牌', '正位', '逆位'],
  },
  {
    skillId: 'psych',
    queries: [
      '我很焦虑怎么办',
      '感觉很抑郁',
      '最近压力好大',
      '帮我做个心理测试',
      '分析一下我的情绪',
    ],
    expectedKeywords: ['情绪', '心理', '感受', '建议'],
  },
  {
    skillId: 'mindfulness',
    queries: [
      '带我做个冥想',
      '呼吸练习',
      '我需要放松',
      '睡不着怎么办',
      '静心练习',
    ],
    expectedKeywords: ['呼吸', '放松', '冥想', '正念', '感受'],
  },
  {
    skillId: 'lifecoach',
    queries: [
      '我很迷茫',
      '帮我制定目标',
      '怎么克服拖延',
      '人生规划',
      '找到方向',
    ],
    expectedKeywords: ['目标', '行动', '计划', '建议'],
  },
  {
    skillId: 'career',
    queries: [
      '我想转行',
      '该不该跳槽',
      '面试准备',
      '职业发展',
      '怎么升职',
    ],
    expectedKeywords: ['职业', '工作', '发展', '建议'],
  },
]

// ═══════════════════════════════════════════════════════════════════════════
// Lifecoach 场景数据
// ═══════════════════════════════════════════════════════════════════════════

export interface LifecoachScenario {
  id: string
  name: string
  triggers: string[]
  description: string
}

export const LIFECOACH_SCENARIOS: LifecoachScenario[] = [
  {
    id: 'dankoe',
    name: 'Dan Koe 方法',
    triggers: ['用 Dan Koe 的方法', 'Dan Koe 风格', '网红创业者思维'],
    description: '现代网红创业者视角，强调个人品牌和数字化创业',
  },
  {
    id: 'covey',
    name: 'Covey 七个习惯',
    triggers: ['七个习惯', 'Covey', '高效能人士'],
    description: '经典效能管理方法论',
  },
  {
    id: 'yangming',
    name: '王阳明心学',
    triggers: ['王阳明', '心学', '知行合一', '致良知'],
    description: '中国传统儒家智慧',
  },
  {
    id: 'liaofan',
    name: '了凡四训',
    triggers: ['了凡四训', '袁了凡', '改命'],
    description: '中国传统命理与修身智慧',
  },
]

// ═══════════════════════════════════════════════════════════════════════════
// 用户场景数据
// ═══════════════════════════════════════════════════════════════════════════

export interface UserScenario {
  id: string
  name: string
  description: string
  variant: 'bazi' | 'zodiac' | 'jungastro' | 'dankoe'
  birthInfo?: BirthInfo
  initialMessage: string
  followUpMessages: string[]
}

export const USER_SCENARIOS: UserScenario[] = [
  {
    id: 'new-user-bazi',
    name: '八字新用户完整流程',
    description: '新用户从 onboarding 到首次对话',
    variant: 'bazi',
    birthInfo: BIRTH_DATES.standard,
    initialMessage: '分析一下我的命盘',
    followUpMessages: ['今年运势如何', '感情方面呢'],
  },
  {
    id: 'new-user-zodiac',
    name: '星座新用户完整流程',
    description: '新用户使用星座入口',
    variant: 'zodiac',
    birthInfo: BIRTH_DATES.standard,
    initialMessage: '看看我的星盘',
    followUpMessages: ['我的上升是什么', '最近运势怎样'],
  },
  {
    id: 'new-user-dankoe',
    name: 'Dankoe 直接对话',
    description: '新用户直接进入 Dan Koe 对话',
    variant: 'dankoe',
    initialMessage: '我想改变现状',
    followUpMessages: ['具体怎么做', '有什么建议'],
  },
  {
    id: 'anxious-user',
    name: '焦虑用户',
    description: '寻求心理支持的用户',
    variant: 'bazi',
    birthInfo: BIRTH_DATES.standard,
    initialMessage: '我最近很焦虑，压力好大',
    followUpMessages: ['怎么办呢', '有什么建议吗'],
  },
  {
    id: 'career-transition',
    name: '职业转型用户',
    description: '考虑转行的用户',
    variant: 'bazi',
    birthInfo: BIRTH_DATES.standard,
    initialMessage: '我想转行，不知道适合做什么',
    followUpMessages: ['从命理角度看呢', '有什么具体建议'],
  },
  {
    id: 'relationship-inquiry',
    name: '感情咨询用户',
    description: '询问感情问题的用户',
    variant: 'zodiac',
    birthInfo: BIRTH_DATES.standard,
    initialMessage: '最近感情不顺，想问问怎么回事',
    followUpMessages: ['会遇到对的人吗', '什么时候会好转'],
  },
  {
    id: 'self-improvement',
    name: '自我提升用户',
    description: '想要自我提升的用户',
    variant: 'dankoe',
    initialMessage: '我想变得更好，但不知道从哪开始',
    followUpMessages: ['具体怎么执行', '有什么方法论吗'],
  },
]

// ═══════════════════════════════════════════════════════════════════════════
// 边界值测试数据
// ═══════════════════════════════════════════════════════════════════════════

export const BOUNDARY_TESTS = {
  // 年份边界
  years: {
    min: 1900,
    max: 2100,
    invalid: [1800, 2200, 0, -1, 99999],
  },

  // 月份边界
  months: {
    valid: [1, 6, 12],
    invalid: [0, 13, -1, 99],
  },

  // 日期边界
  days: {
    jan: { valid: [1, 15, 31], invalid: [0, 32] },
    feb: { valid: [1, 14, 28], invalid: [0, 30] },
    febLeap: { valid: [1, 29], invalid: [30] },
    apr: { valid: [1, 15, 30], invalid: [31] },
  },

  // 时辰边界
  hours: {
    valid: [0, 12, 23],
    invalid: [-1, 24, 25],
  },
}

// ═══════════════════════════════════════════════════════════════════════════
// 错误场景数据
// ═══════════════════════════════════════════════════════════════════════════

export const ERROR_SCENARIOS = {
  // 网络错误
  networkErrors: [
    { type: 'timeout', description: 'API 超时' },
    { type: '500', description: '服务器错误' },
    { type: '404', description: '资源不存在' },
    { type: '403', description: '权限不足' },
  ],

  // 输入错误
  inputErrors: [
    { input: '', description: '空输入' },
    { input: ' ', description: '只有空格' },
    { input: 'a'.repeat(10000), description: '超长输入' },
    { input: '<script>alert(1)</script>', description: 'XSS 尝试' },
    { input: "'; DROP TABLE users; --", description: 'SQL 注入尝试' },
  ],
}

// ═══════════════════════════════════════════════════════════════════════════
// 响应式测试视口
// ═══════════════════════════════════════════════════════════════════════════

export const VIEWPORTS = [
  { name: 'iPhone SE', width: 375, height: 667, deviceType: 'mobile' },
  { name: 'iPhone 14', width: 390, height: 844, deviceType: 'mobile' },
  { name: 'iPhone 14 Pro Max', width: 430, height: 932, deviceType: 'mobile' },
  { name: 'iPad Mini', width: 768, height: 1024, deviceType: 'tablet' },
  { name: 'iPad Pro', width: 1024, height: 1366, deviceType: 'tablet' },
  { name: 'Desktop HD', width: 1366, height: 768, deviceType: 'desktop' },
  { name: 'Desktop FHD', width: 1920, height: 1080, deviceType: 'desktop' },
  { name: 'Desktop 2K', width: 2560, height: 1440, deviceType: 'desktop' },
]
