/* Editorial ritual: warm paper, serif headlines, refined sans body */
@import url("https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,400;9..144,600;9..144,700&family=Source+Sans+3:wght@400;500;600&family=Noto+Serif+SC:wght@500;600;700&family=Noto+Sans+SC:wght@400;500;600&display=swap");

:root{
  /* Warm editorial palette */
  --bg:#F7F2EA;--surface:#FFFCF7;--surface-2:#F1EADF;--ink:#1F1A14;--muted:#756C62;
  --line:rgba(31,26,20,.12);--shadow:rgba(31,26,20,.12);
  --brand:#C26A3C;--brand-solid:#C26A3C;--brand-hover:#A8572F;
  --ok:#2E7D5F;--warn:#C35A1C;--info:#3E5E99;

  /* Accent */
  --accent:#C26A3C;

  /* Shadows */
  --shadow-sm:0 1px 2px rgba(31,26,20,.08);
  --shadow-md:0 10px 24px rgba(31,26,20,.12);
  --shadow-lg:0 18px 40px rgba(31,26,20,.16);
  --shadow-input:0 6px 20px rgba(31,26,20,.14),0 1px 2px rgba(31,26,20,.08);

  /* Sizing */
  --header-h:60px;--page-pad:28px;--radius-xl:22px;--radius-lg:16px;--radius-md:12px;--radius-sm:8px;

  /* Typography */
  --font-display:"Fraunces","Noto Serif SC","Source Serif 4","Noto Serif",serif;
  --font-body:"Source Sans 3","Noto Sans SC","PingFang SC","Microsoft YaHei",sans-serif
}
*{box-sizing:border-box}html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font:15px/1.7 var(--font-body);
  letter-spacing:.01em;
  -webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale
}
body::before{
  content:"";
  position:fixed;inset:-120px;
  background:
    radial-gradient(1200px 640px at 8% -10%, rgba(194,106,60,.14), transparent 65%),
    radial-gradient(900px 520px at 100% 10%, rgba(62,94,153,.10), transparent 60%),
    linear-gradient(120deg, rgba(255,255,255,.85), rgba(247,242,234,.95)),
    repeating-linear-gradient(90deg, rgba(31,26,20,.03) 0 1px, transparent 1px 140px);
  opacity:.65;pointer-events:none;z-index:0
}
.ui-page{min-height:100%;display:flex;flex-direction:column;position:relative;z-index:1}
.ui-header{
  display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px;padding:12px 24px;
  border-bottom:1px solid var(--line);
  min-height:var(--header-h);position:sticky;top:0;z-index:20;
  background:rgba(247,242,234,.85);backdrop-filter:blur(8px);
  box-shadow:0 1px 0 rgba(31,26,20,.08)
}
.ui-brand{
  font:700 18px/1 var(--font-display);
  color:var(--ink);
  letter-spacing:.12em;text-transform:uppercase
}
.ui-topbar{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
.ui-topbar__label{color:var(--muted);font-size:11px;letter-spacing:.08em;text-transform:uppercase}
.ui-mobile-tabs{
  display:none;gap:6px;align-items:center;padding:4px;
  background:var(--surface);border-radius:999px;border:1px solid var(--line);
  box-shadow:var(--shadow-sm)
}
.ui-mobile-tab{
  padding:6px 14px;border:none;border-radius:999px;background:transparent;color:var(--muted);
  font:600 11px/1 var(--font-body);cursor:pointer;letter-spacing:.04em;text-transform:uppercase
}
.ui-mobile-tab--active{background:var(--surface-2);color:var(--ink)}
.ui-select{
  padding:8px 14px;border-radius:999px;border:1px solid var(--line);
  background:var(--surface);color:var(--ink);font:600 12px/1 var(--font-body);
  letter-spacing:.04em;text-transform:uppercase;box-shadow:var(--shadow-sm)
}
.ui-select:focus{outline:none;border-color:var(--brand)}
.ui-btn{
  padding:8px 16px;border-radius:999px;border:1px solid var(--line);background:var(--surface);
  cursor:pointer;color:var(--ink);font:600 12px/1 var(--font-body);letter-spacing:.04em;text-transform:uppercase;
  transition:all .15s ease;box-shadow:var(--shadow-sm)
}
.ui-btn:hover{background:var(--surface-2);border-color:var(--brand);transform:translateY(-1px)}
.ui-btn-ghost{background:transparent;border-color:transparent}
.ui-btn-ghost:hover{background:var(--surface-2);border-color:transparent;box-shadow:none}
.ui-btn-primary{background:var(--brand);border:none;color:#fff}
.ui-btn-primary:hover{background:var(--brand-hover)}

/* PC端布局 */
.ui-layout{
  display:grid;grid-template-columns:minmax(0,1.35fr) minmax(540px,1fr);gap:32px;
  max-width:1480px;margin:0 auto;padding:8px 36px 36px;align-items:stretch;flex:1;min-height:0
}
.ui-col{
  background:transparent;min-height:0;border:none
}
.ui-chat{display:flex;flex-direction:column;min-height:0;height:100%;overflow:hidden}
.ui-workbench{
  max-height:calc(100vh - var(--header-h));overflow:hidden;display:flex;flex-direction:column;
  border:1px solid var(--line);background:var(--surface);border-radius:var(--radius-lg);
  box-shadow:var(--shadow-lg)
}
.ui-result-dock{
  margin:0 0 18px;
  border:1px solid var(--line);border-radius:var(--radius-lg);
  background:var(--surface);
  box-shadow:var(--shadow-lg);
  overflow:hidden;
  display:flex;flex-direction:column
}
.ui-result-dock__header{
  display:flex;justify-content:space-between;align-items:center;
  padding:10px 14px;background:rgba(241,234,223,.6);border-bottom:1px solid var(--line);
  font:600 11px/1 var(--font-display);letter-spacing:.08em;text-transform:uppercase;color:var(--ink)
}
.ui-result-dock__actions .ui-btn{padding:6px 10px;font-size:10px}
.ui-result-dock__body{
  padding:10px 12px 14px;overflow:auto;max-height:clamp(220px, 42vh, 520px)
}
.ui-result-empty{color:var(--muted);font-size:12px;padding:6px 4px}
.ui-result-stack{display:grid;gap:12px}
.ui-result-dock .msg{margin:0;gap:12px}
.ui-result-dock .msg__icon{width:24px;height:24px;font-size:10px}
.ui-result-dock .result-card__content{max-height:none;overflow:visible}
.ui-layout > .ui-col{animation:pageRise .35s ease both}
.ui-layout > .ui-col:nth-child(2){animation-delay:.06s}
@keyframes pageRise{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
.ui-thread{
  flex:1 1 auto;min-height:0;overflow-y:auto;max-width:980px;width:100%;margin:0 auto;padding:28px 36px 32px;
  height:auto;overscroll-behavior:contain;-webkit-overflow-scrolling:touch
}
.msg{display:flex;gap:16px;margin:24px 0;align-items:flex-start;animation:msgIn .25s ease both}
.msg-user{justify-content:flex-end}
.msg-user .msg__bubble{
  background:rgba(194,106,60,.10);border-radius:18px;padding:12px 18px;max-width:82%;
  color:var(--ink);border:1px solid rgba(31,26,20,.12);box-shadow:var(--shadow-sm)
}
.msg-bot .msg__icon{
  width:30px;height:30px;border-radius:50%;background:var(--ink);
  display:flex;align-items:center;justify-content:center;font-size:11px;flex:0 0 auto;color:#F8F5EF;
  border:1px solid rgba(31,26,20,.12)
}
.msg-bot .msg__content{flex:1;max-width:100%}
.msg__bubble,.msg__content{white-space:pre-wrap;word-break:break-word;overflow-wrap:anywhere;line-height:1.75}
.msg.card .msg__content{
  background:var(--surface);border-radius:var(--radius-lg);padding:16px 20px;
  box-shadow:var(--shadow-md);border:1px solid rgba(31,26,20,.12)
}
.msg.progress .msg__content{
  background:var(--surface);border-radius:var(--radius-lg);border-left:3px solid var(--brand);padding:16px 20px
}

/* ========== Result Card ========== */
.result-card{animation:resultCardIn .28s ease both}
@keyframes resultCardIn{0%{opacity:0;transform:translateY(10px)}100%{opacity:1;transform:translateY(0)}}
.result-card .result-card__icon{border-radius:50%;font-size:10px;background:var(--ink);color:#F8F5EF;border:1px solid rgba(31,26,20,.12)}
.result-card .result-card__body{
  background:var(--surface);border-radius:var(--radius-lg);overflow:hidden;max-width:100%;
  box-shadow:var(--shadow-md);border:1px solid rgba(31,26,20,.12)
}
.result-card__header{
  display:flex;justify-content:space-between;align-items:center;
  padding:12px 16px;border-bottom:1px solid var(--line);
  background:rgba(241,234,223,.55)
}
.result-card__title{
  font:600 12px/1.2 var(--font-display);
  letter-spacing:.08em;text-transform:uppercase;color:var(--ink)
}
.result-card__actions{display:flex;gap:6px}
.result-card__actions .ui-btn{padding:4px 10px;font-size:12px;min-width:auto}
.result-card__content{
  padding:16px 18px;max-height:55vh;overflow:auto;overscroll-behavior:contain;
  -webkit-overflow-scrolling:touch
}
/* Progress state */
.result-card--progress .result-card__body{border-left:3px solid var(--warn)}
/* Error state */
.result-card--error .result-card__body{border-left:3px solid #EF4444}
.result-card--error .result-card__header{background:#FEF2F2}
/* Result state */
.result-card--result .result-card__body{border-left:3px solid var(--ok)}
/* Dismiss animation */
.result-card--dismissed{animation:resultCardOut .2s ease forwards}
@keyframes resultCardOut{to{opacity:0;transform:translateX(-10px);height:0;margin:0;padding:0}}
.msg a{color:var(--brand);text-decoration:none}
.msg a:hover{text-decoration:underline}
.msg h1,.msg h2,.msg h3{font-family:var(--font-display);letter-spacing:.02em;margin:14px 0 10px}
.msg h1{font-size:18px}
.msg h2{font-size:16px}
.msg h3{font-size:14px}
.msg ul,.msg ol{margin:8px 0 8px 18px;padding:0}
.msg li{margin:6px 0}
.msg blockquote{
  margin:12px 0;padding:12px 16px;border-left:3px solid var(--brand);
  background:rgba(241,234,223,.7);border-radius:var(--radius-sm);color:var(--muted)
}
.msg .md-code{background:rgba(241,234,223,.7);color:var(--ink);padding:14px 16px;overflow:auto;border-radius:var(--radius-sm)}
.msg .md-code code{font-family:ui-monospace,SFMono-Regular,Menlo,monospace;font-size:13px;white-space:pre}
.msg .meta{color:var(--muted);font-size:12px;margin-top:8px}
.msg .actions{margin-top:10px;display:flex;gap:8px;flex-wrap:wrap}
/* 骨架屏 */
.msg.skel .msg__content{
  background:linear-gradient(90deg,var(--surface-2) 25%,var(--surface) 37%,var(--surface-2) 63%);
  background-size:400% 100%;animation:shine 1.4s ease infinite;min-height:48px;border-radius:var(--radius-lg)
}
@keyframes shine{0%{background-position:100% 0}100%{background-position:0 0}}
@keyframes spin{to{transform:rotate(360deg)}}
@keyframes msgIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
/* 输入区 - Editorial 风格悬浮卡片 */
.ui-input{
  display:grid;grid-template-columns:auto 1fr auto;gap:12px;align-items:center;padding:14px 18px;
  background:var(--surface);border-radius:999px;border:1px solid var(--line);
  box-shadow:var(--shadow-input);
  position:relative;margin:16px auto 24px;max-width:980px;width:100%;align-self:center;z-index:5;
  transition:box-shadow .2s ease,border-color .2s ease
}
.ui-input:focus-within{border-color:var(--brand);box-shadow:var(--shadow-md)}
.ui-input textarea{
  width:100%;resize:none;border:none;background:transparent;outline:none;
  font:500 14px/1.6 var(--font-body);color:var(--ink);min-height:24px;max-height:160px
}
.ui-input textarea::placeholder{color:var(--muted)}
.ui-icon-btn{
  width:34px;height:34px;border-radius:50%;border:1px solid var(--line);background:var(--surface);
  cursor:pointer;color:var(--muted);font-size:16px;display:flex;align-items:center;justify-content:center;
  transition:all .15s ease;box-shadow:var(--shadow-sm)
}
.ui-icon-btn:hover{background:var(--surface-2);color:var(--ink);border-color:var(--brand)}
.ui-send-btn{
  position:relative;width:38px;height:38px;border-radius:50%;border:none;background:var(--brand);color:#fff;
  cursor:pointer;font-size:16px;display:flex;align-items:center;justify-content:center;
  transition:all .15s ease;overflow:hidden;box-shadow:0 6px 16px rgba(194,106,60,.35)
}
.ui-send-btn:hover{background:var(--brand-hover);transform:translateY(-1px)}
/* 发送按钮加载态 */
.ui-send-btn.loading{pointer-events:none;background:var(--surface-2)}
.ui-send-btn.loading::after{
  content:"";position:absolute;top:50%;left:50%;margin:-8px 0 0 -8px;
  width:16px;height:16px;border:2px solid var(--line);border-top-color:var(--brand);
  border-radius:50%;animation:spin .7s linear infinite
}
.ui-workbench{
  padding:20px;min-height:0;display:flex;flex-direction:column;
  background:var(--surface)
}
.ui-tabs{
  display:flex;gap:6px;margin-bottom:18px;flex-wrap:wrap;align-items:center;
  padding:6px;background:var(--surface-2);border-radius:999px;border:1px solid var(--line);box-shadow:var(--shadow-sm)
}
.ui-tab{
  padding:8px 16px;border:none;border-radius:999px;background:transparent;cursor:pointer;color:var(--muted);
  font:600 12px/1 var(--font-body);letter-spacing:.06em;text-transform:uppercase;transition:all .15s ease
}
.ui-tab:hover{color:var(--ink)}
.ui-tab--active{color:var(--ink);background:var(--surface);box-shadow:var(--shadow-sm)}
.ui-workbench-close{display:none}
.ui-panels{position:relative;min-height:0;flex:1;overflow:hidden}
.ui-panel{padding:4px 0;height:100%;overflow:auto}
.ui-form label{
  display:flex;flex-direction:column;gap:6px;font-size:11px;color:var(--muted);
  font-weight:600;letter-spacing:.08em;text-transform:uppercase
}
.ui-form input,.ui-form select,.ui-form textarea{
  padding:10px 14px;border:1px solid var(--line);border-radius:var(--radius-sm);
  background:var(--surface);color:var(--ink);font:500 13px/1.5 var(--font-body);
  transition:border-color .15s ease,box-shadow .15s ease
}
.ui-form input:focus,.ui-form select:focus,.ui-form textarea:focus{
  border-color:var(--brand);outline:none;box-shadow:0 0 0 3px rgba(194,106,60,.12)
}
.ui-grid-2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.ui-actions-row{margin-top:12px}
.ui-hint{margin-top:8px;color:var(--muted);font-size:12px}
.ui-reader{display:grid;grid-template-rows:auto 1fr;height:60vh}
.ui-reader__bar{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--line);padding:8px 12px}
.ui-reader__content{padding:16px;overflow:auto;font-family:var(--font-body)}

/* Bento cards */
.ui-bento{display:grid;gap:14px}

/* 功能分组 */
.ui-bento-group{margin-bottom:12px}
.ui-bento-group__title{
  font-size:11px;font-weight:600;color:var(--muted);
  text-transform:uppercase;letter-spacing:.1em;font-family:var(--font-display);
  margin-bottom:12px;padding-left:4px
}
.ui-bento-group__cards{display:grid;gap:10px}
/* 高优先级分组 */
.ui-bento-group[data-priority="high"] .ui-card{border-left:3px solid var(--brand)}
.ui-card{
  position:relative;
  border:1px solid var(--line);border-radius:var(--radius-md);
  background:var(--surface);
  overflow:hidden;
  transition:all .2s ease;
  box-shadow:var(--shadow-sm)
}
.ui-card::before{
  content:"";position:absolute;left:12px;right:12px;top:0;height:2px;
  background:linear-gradient(90deg,var(--brand),transparent);opacity:.6
}
.ui-card:hover{box-shadow:var(--shadow-md);border-color:var(--brand)}
.ui-card--flat{margin-bottom:10px}
.ui-card__hd{display:flex;justify-content:space-between;align-items:center;padding:12px 14px;border-bottom:1px solid var(--line);gap:10px;background:rgba(241,234,223,.55)}
.ui-card__hd-left{display:flex;align-items:center;gap:10px}
.ui-card__title{font-weight:600;font-size:13px;font-family:var(--font-display);letter-spacing:.04em}

@media (min-width:1280px){
  #panel-tools,
  #panel-settings{
    display:grid;
    grid-template-columns:repeat(2,minmax(0,1fr));
    gap:16px;
  }
  #panel-tools .ui-card--flat:first-child{grid-column:1 / -1}
}
.ui-card__status{
  display:inline-flex;align-items:center;gap:4px;padding:3px 10px;
  font-size:10px;font-weight:600;border-radius:999px;
  background:var(--surface-2);color:var(--muted);letter-spacing:.06em;text-transform:uppercase
}
.ui-card__status--active{background:rgba(22,163,74,.1);color:var(--ok)}
.ui-card__status--pending{background:rgba(234,88,12,.1);color:var(--warn)}
.ui-card__hd-right{display:flex;align-items:center;gap:8px}
.ui-card__btn{padding:6px 12px;font-size:12px}
/* 折叠按钮 */
.ui-card__toggle{
  width:26px;height:26px;display:flex;align-items:center;justify-content:center;
  cursor:pointer;border:none;border-radius:var(--radius-sm);background:transparent;color:var(--muted);
  transition:all .15s ease
}
.ui-card__toggle:hover{background:var(--surface-2);color:var(--ink)}
.ui-card__toggle svg{width:14px;height:14px}
.ui-card.collapsed .ui-card__toggle{transform:rotate(-90deg)}
/* 卡片内容折叠 */
.ui-card__bd{padding:12px 14px;color:var(--ink);transition:max-height .25s ease,padding .25s ease,opacity .2s ease;overflow:hidden}
.ui-card.collapsed .ui-card__bd{max-height:0;padding:0 14px;opacity:0}
.ui-task{display:flex;justify-content:space-between;gap:10px;align-items:flex-start;padding:10px 0;border-bottom:1px solid var(--line)}
.ui-task:last-child{border-bottom:none}
.ui-task__meta{color:var(--muted);font-size:12px}

/* 进度条 - Editorial 风格 */
.ui-progress{height:3px;background:var(--surface-2);overflow:hidden;margin:10px 0;border-radius:999px}
.ui-progress__bar{height:100%;background:var(--brand);transition:width .3s ease;border-radius:999px}
.ui-progress--indeterminate .ui-progress__bar{
  width:30%;animation:progressIndeterminate 1.2s ease-in-out infinite
}
@keyframes progressIndeterminate{
  0%{transform:translateX(-100%)}
  100%{transform:translateX(400%)}
}

/* 步骤指示器 - Editorial 风格 */
.ui-steps{display:flex;gap:8px;margin:12px 0;justify-content:center}
.ui-step{
  width:28px;height:28px;border:2px solid var(--line);border-radius:50%;
  display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:600;
  transition:all .2s ease;background:var(--surface);color:var(--muted)
}
.ui-step.current{border-color:var(--brand);background:var(--brand);color:#fff}
.ui-step.completed{border-color:var(--ok);background:var(--ok);color:#fff}
.ui-step__dot{
  width:24px;height:24px;border:2px solid var(--line);border-radius:50%;
  display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:600;
  transition:all .2s ease;background:var(--surface)
}
.ui-step.active .ui-step__dot{border-color:var(--brand);background:var(--brand);color:#fff}
.ui-step.completed .ui-step__dot{border-color:var(--ok);background:var(--ok);color:#fff}
.ui-step__label{font-size:10px;color:var(--muted);text-align:center;margin-top:4px}

/* 进度包装器 */
.ui-progress-wrapper{padding:8px 0}

/* Session drawer - Editorial 风格 */
.ui-drawer{position:fixed;inset:0;display:none;z-index:40}
.ui-drawer.open{display:block}
.ui-drawer__overlay{position:absolute;inset:0;background:rgba(31,26,20,.35);backdrop-filter:blur(4px)}
.ui-drawer__panel{
  position:absolute;top:0;bottom:0;left:0;width:min(380px, 90vw);
  background:var(--surface);border-right:1px solid var(--line);
  padding:20px;display:grid;grid-template-rows:auto auto 1fr;gap:16px;
  box-shadow:var(--shadow-lg)
}
.ui-drawer__hd{display:flex;gap:12px;align-items:center;justify-content:space-between}
.ui-drawer__title{font-weight:600;font-size:14px;color:var(--ink)}
.ui-drawer__search input{
  width:100%;padding:10px 14px;border:1px solid var(--line);
  background:var(--bg);color:var(--ink);font:inherit;
  border-radius:var(--radius-md);transition:all .2s ease
}
.ui-drawer__search input::placeholder{color:var(--muted)}
.ui-drawer__search input:focus{border-color:var(--brand);outline:none;box-shadow:0 0 0 3px rgba(217,119,87,.1)}
.ui-drawer__list{overflow:auto;min-height:0;display:grid;gap:8px}
.ui-session-item{
  padding:12px 14px;cursor:pointer;border:1px solid var(--line);
  transition:all .2s ease;background:var(--surface);
  border-radius:var(--radius-md)
}
.ui-session-item:hover{border-color:var(--brand);background:var(--surface-2);box-shadow:var(--shadow-sm)}
.ui-session-item .title{font-size:13px;font-weight:500;color:var(--ink)}
.ui-session-item .sub{font-size:12px;color:var(--muted);display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;margin-top:4px;line-height:1.4}
@media (min-width:1081px){
  body{overflow:hidden}
  .ui-layout{height:calc(100vh - var(--header-h))}
}
@media (max-width:1080px){
  body{overflow:auto}
  .ui-mobile-tabs{display:flex}
  .ui-layout{grid-template-columns:1fr;min-height:calc(100vh - var(--header-h));padding:12px 16px 80px;border:none}
  .ui-chat{border:none}
  .ui-panel{height:auto;max-height:none}
  .ui-chat{min-height:auto}
  .ui-thread{padding:16px 16px 100px;max-height:none}

  .ui-result-dock{margin:0 0 12px}
  .ui-result-dock__body{max-height:clamp(180px, 45vh, 420px)}

  /* 移动端输入框 - Editorial 风格悬浮 */
  .ui-input{
    position:fixed;bottom:16px;left:16px;right:16px;z-index:25;
    background:var(--surface);border:1px solid var(--line);
    border-radius:999px;
    box-shadow:var(--shadow-input);
    padding:12px 16px;
    max-width:none
  }

  .ui-workbench{
    position:relative;left:auto;right:auto;bottom:auto;
    height:auto;max-height:none;transform:none;transition:none;z-index:auto;
    background:var(--surface);border-radius:var(--radius-lg);padding:16px
  }

  body.show-bento::before{display:none}
  body.show-bento-peek .ui-workbench{transform:none}
  body[data-mobile-tab="chat"] .ui-workbench{display:none}
  body[data-mobile-tab="workbench"] .ui-chat{display:none}

  /* 移动端触摸反馈 - Editorial 风格 */
  .ui-card:hover{border-color:var(--line)}
  .ui-card:active{background:var(--surface-2);transform:scale(0.98);transition:all .1s ease}

  /* 移动端 Tabs */
  .ui-tabs{gap:4px;padding:6px;margin-bottom:12px;background:var(--surface-2);border-radius:999px;border:1px solid var(--line)}
  .ui-tab{padding:8px 12px;font-size:10px;border-radius:999px}

  /* 移动端 Bento */
  .ui-bento{gap:10px}
  .ui-bento-group{margin-bottom:8px}
  .ui-bento-group__title{font-size:10px;margin-bottom:8px;font-weight:600}
  .ui-bento-group__cards{gap:8px}

  /* 移动端卡片 - Editorial 风格 */
  .ui-card__hd{padding:10px 12px}
  .ui-card__bd{padding:10px 12px}
  .ui-card__title{font-size:12px}

  .ui-workbench-close{display:none}
}

/* =============================================================================
   A2UI Component Styles
   ============================================================================= */

/* Quick Replies */
.ui-chip {
  padding: 6px 14px;
  border-radius: 999px;
  border: 1px solid var(--line);
  background: var(--surface);
  color: var(--ink);
  font: 500 12px/1 var(--font-body);
  cursor: pointer;
  transition: all 0.15s ease;
}
.ui-chip:hover {
  background: var(--surface-2);
  border-color: var(--brand);
}
.a2ui-quick-replies {
  margin-top: 10px;
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}

/* Stat Card */
.a2ui-stat-card {
  background: var(--surface);
  border: 1px solid var(--line);
  border-radius: var(--radius-md);
  padding: 16px;
  margin: 12px 0;
}
.a2ui-card-title {
  font: 600 13px/1 var(--font-body);
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.06em;
  margin-bottom: 12px;
}
.a2ui-stat-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 16px;
}
.a2ui-stat {
  text-align: center;
}
.a2ui-stat-value {
  font: 700 24px/1 var(--font-display);
  color: var(--ink);
  margin-bottom: 4px;
}
.a2ui-stat-value.trend-up {
  color: var(--ok);
}
.a2ui-stat-value.trend-down {
  color: var(--warn);
}
.a2ui-stat-label {
  font: 500 11px/1 var(--font-body);
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.04em;
}

/* Progress Bar */
.a2ui-progress {
  margin: 12px 0;
}
.a2ui-progress-title {
  font: 600 12px/1 var(--font-body);
  color: var(--ink);
  margin-bottom: 8px;
}
.a2ui-progress-bar {
  height: 8px;
  background: var(--surface-2);
  border-radius: 999px;
  overflow: hidden;
}
.a2ui-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--brand), var(--brand-hover));
  border-radius: 999px;
  transition: width 0.3s ease;
}
.a2ui-progress-label {
  font: 500 11px/1 var(--font-body);
  color: var(--muted);
  margin-top: 6px;
  text-align: right;
}

/* List View */
.a2ui-list {
  margin: 12px 0;
}
.a2ui-list-header {
  font: 600 13px/1 var(--font-body);
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.06em;
  margin-bottom: 8px;
}
.a2ui-list-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  background: var(--surface);
  border: 1px solid var(--line);
  border-radius: var(--radius-sm);
  margin-bottom: 6px;
  transition: all 0.15s ease;
}
.a2ui-list-item-clickable {
  cursor: pointer;
}
.a2ui-list-item-clickable:hover {
  border-color: var(--brand);
  background: var(--surface-2);
}
.a2ui-list-icon {
  font-size: 20px;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--surface-2);
  border-radius: var(--radius-sm);
}
.a2ui-list-content {
  flex: 1;
  min-width: 0;
}
.a2ui-list-title {
  font: 500 14px/1.3 var(--font-body);
  color: var(--ink);
}
.a2ui-list-subtitle {
  font: 400 12px/1.3 var(--font-body);
  color: var(--muted);
  margin-top: 2px;
}

/* Key-Value Pairs */
.a2ui-kv {
  margin: 12px 0;
  background: var(--surface);
  border: 1px solid var(--line);
  border-radius: var(--radius-md);
  padding: 12px 16px;
}
.a2ui-kv-title {
  font: 600 13px/1 var(--font-body);
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.06em;
  margin-bottom: 12px;
  padding-bottom: 8px;
  border-bottom: 1px solid var(--line);
}
.a2ui-kv-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 0;
  border-bottom: 1px solid var(--line);
}
.a2ui-kv-row:last-child {
  border-bottom: none;
}
.a2ui-kv-key {
  font: 500 13px/1 var(--font-body);
  color: var(--muted);
}
.a2ui-kv-value {
  font: 600 13px/1 var(--font-body);
  color: var(--ink);
}

/* Divider */
.a2ui-divider {
  display: flex;
  align-items: center;
  margin: 16px 0;
  color: var(--muted);
}
.a2ui-divider::before,
.a2ui-divider::after {
  content: "";
  flex: 1;
  height: 1px;
  background: var(--line);
}
.a2ui-divider-text {
  padding: 0 12px;
  font: 500 11px/1 var(--font-body);
  text-transform: uppercase;
  letter-spacing: 0.06em;
}

/* Spacer */
.a2ui-spacer {
  display: block;
}

/* Button Styles */
.ui-btn-secondary {
  background: var(--surface-2);
  border-color: var(--line);
}
.ui-btn-secondary:hover {
  background: var(--surface);
  border-color: var(--brand);
}
.ui-btn-danger {
  background: var(--warn);
  border: none;
  color: #fff;
}
.ui-btn-danger:hover {
  background: #a84a15;
}
