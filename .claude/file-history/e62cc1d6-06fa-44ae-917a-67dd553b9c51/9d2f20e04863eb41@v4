# ═══════════════════════════════════════════════════════════════
# VIBELIFE 环境变量配置
# ═══════════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────────
# 数据库 - PostgreSQL (aiscend 服务器)
# ─────────────────────────────────────────────────────────────────
VIBELIFE_DB_URL=postgresql://postgres:Ak4_9lScd-69WX@106.37.170.238:8224/vibelife
VIBELIFE_DB_HOST=106.37.170.238
VIBELIFE_DB_PORT=8224
VIBELIFE_DB_NAME=vibelife
VIBELIFE_DB_USER=postgres
VIBELIFE_DB_PASSWORD=Ak4_9lScd-69WX
VIBELIFE_DB_SSLMODE=prefer

# ─────────────────────────────────────────────────────────────────
# JWT & 认证
# ─────────────────────────────────────────────────────────────────
VIBELIFE_JWT_SECRET=vibelife-jwt-secret-key-2026-aiscend
VIBELIFE_ACCESS_TOKEN_EXPIRE_MINUTES=60
VIBELIFE_REFRESH_TOKEN_EXPIRE_DAYS=30

# ─────────────────────────────────────────────────────────────────
# API 配置
# ─────────────────────────────────────────────────────────────────
VIBELIFE_API_PORT=8000
VIBELIFE_API_HOST=0.0.0.0
VIBELIFE_DEV=1
# 测试环境 CORS (IP + 端口)
VIBELIFE_CORS_ORIGINS=http://106.37.170.238:8230,http://106.37.170.238:8231,http://106.37.170.238:8232,http://localhost:3000,http://localhost:8230,http://localhost:8231,http://localhost:8232

# ─────────────────────────────────────────────────────────────────
# LLM 服务 - 智谱 GLM (主要)
# ─────────────────────────────────────────────────────────────────
GLM_API_KEY=42b82ed9a13e4e8890ef3854bb840ef8.TcWZ4DIq0NF2xElF
GLM_CHAT_MODEL=glm-4.7
GLM_VISION_MODEL=glm-4.6v
GLM_BASE_URL=https://open.bigmodel.cn/api/anthropic/v1

# ─────────────────────────────────────────────────────────────────
# LLM 服务 - DeepSeek V3 (官方 Anthropic 兼容 API)
# ─────────────────────────────────────────────────────────────────
DEEPSEEK_API_KEY=sk-1f932f47fa5e4ecd912f1faa4bb8e8dd
DEEPSEEK_BASE_URL=https://api.deepseek.com/anthropic

# ─────────────────────────────────────────────────────────────────
# LLM 服务 - Claude (默认)
# ─────────────────────────────────────────────────────────────────
CLAUDE_API_KEY=cr_5b14c030a59e2965a32d574609df6e250a4bf1faee0dc2a9001522cddcf245e1
CLAUDE_BASE_URL=https://www.zz166.cn/api/v1
CLAUDE_MODEL=claude-sonnet-4-20250514

# ─────────────────────────────────────────────────────────────────
# LLM 服务 - Google Gemini (生图默认)
# ─────────────────────────────────────────────────────────────────
GEMINI_API_KEY=sk-ynk9oTMtjhszj4IDoyUZreMg04NfefVGTlFtW7QvGYw4k9Dg
GEMINI_BASE_URL=https://new.12ai.org/v1
GEMINI_CHAT_MODEL=gemini-2.5-flash
GEMINI_IMAGE_MODEL=gemini-2.5-flash-image

# ─────────────────────────────────────────────────────────────────
# 向量嵌入 - BAAI/bge-m3 (默认，本地)
# ─────────────────────────────────────────────────────────────────
# 默认模型（可切换为 Alibaba-NLP/gte-Qwen2-7B-instruct）
EMBEDDING_MODEL_NAME=BAAI/bge-m3
# 目标维度：1024（bge-m3 原生维度）
EMBEDDING_DIMENSION=1024
EMBEDDING_DEVICE=cuda
# 可选：本地缓存目录（下载完成后设置）
EMBEDDING_LOCAL_DIR=/home/aiscend/.cache/vibelife/models/bge-m3

# ─────────────────────────────────────────────────────────────────
# 向量存储 - Pinecone
# ─────────────────────────────────────────────────────────────────
PINECONE_API_KEY=pcsk_tVETE_HsAhSvJG9yN2nSdGfkMz2aTefYa72inmvnp97musqf3twzRgDiLEtHDdYAsBmiQ
PINECONE_HOST=mentis-streams-nkchadl.svc.aped-4627-b74a.pinecone.io
PINECONE_INDEX=vibelife-knowledge
# 维度: 3072, Metric: cosine

# ─────────────────────────────────────────────────────────────────
# 默认提供商配置
# ─────────────────────────────────────────────────────────────────
DEFAULT_LLM_PROVIDER=glm
DEFAULT_EMBEDDING_PROVIDER=local
DEFAULT_VECTOR_PROVIDER=pinecone
DEFAULT_IMAGE_PROVIDER=gemini

# ─────────────────────────────────────────────────────────────────
# 前端配置 (测试环境)
# ─────────────────────────────────────────────────────────────────
NEXT_PUBLIC_API_URL=http://106.37.170.238:8000
NEXT_PUBLIC_API_BASE=http://106.37.170.238:8000/api/v1
NEXT_PUBLIC_WS_URL=ws://106.37.170.238:8000/ws

# ─────────────────────────────────────────────────────────────────
# 域名配置 (生产环境)
# ─────────────────────────────────────────────────────────────────
VIBELIFE_DOMAIN=vibelife.app
BAZI_DOMAIN=bazi.vibelife.app
ZODIAC_DOMAIN=zodiac.vibelife.app
MBTI_DOMAIN=mbti.vibelife.app
ID_DOMAIN=id.vibelife.app

# ─────────────────────────────────────────────────────────────────
# 数据目录配置
# ─────────────────────────────────────────────────────────────────
VIBELIFE_DATA_ROOT=/data/vibelife
VIBELIFE_KNOWLEDGE_ROOT=/data/vibelife/knowledge
VIBELIFE_UPLOADS_ROOT=/data/vibelife/uploads
VIBELIFE_CACHE_ROOT=/data/vibelife/cache
VIBELIFE_LOGS_ROOT=/data/vibelife/logs

# ─────────────────────────────────────────────────────────────────
# Stripe 支付 - 双轨制配置 (payment-design v2.0)
# ─────────────────────────────────────────────────────────────────
# 基础配置 (测试密钥)
STRIPE_SECRET_KEY=sk_test_51Snq9KE8u1baYET0WjoEzHNCjlDAkaaATNEFyziJs4X1HF1AjPnV4YhrjS2Gy6UIhGApAenJn8BbP1uxwMrleRbS000LPmMzrC
STRIPE_PUBLISHABLE_KEY=pk_test_51Snq9KE8u1baYET0sdytV9kjJbap7twi1CldxH2Jxkv4oPz7crnXIP110JbS3ufdXk6Tf1amsRaIYiFzeyBOR6UL00Qww7hoY0
# Webhook Secret (需要在 Stripe Dashboard 创建 webhook 后获取)
# STRIPE_WEBHOOK_SECRET=whsec_xxx

# 海外订阅 Price IDs (USD, Recurring) - 需要在 Stripe Dashboard 创建
# STRIPE_PRICE_SUB_MONTHLY_USD=price_xxx
# STRIPE_PRICE_SUB_QUARTERLY_USD=price_xxx
# STRIPE_PRICE_SUB_YEARLY_USD=price_xxx

# 大陆/香港预付 Price IDs (HKD, One-time) - 需要在 Stripe Dashboard 创建
# STRIPE_PRICE_PREPAID_1M_HKD=price_xxx
# STRIPE_PRICE_PREPAID_3M_HKD=price_xxx
# STRIPE_PRICE_PREPAID_12M_HKD=price_xxx

# 推送通知
# FCM_SERVER_KEY=xxx
# APNS_KEY_ID=xxx

# 邮件服务
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=xxx
# SMTP_PASSWORD=xxx

# ─────────────────────────────────────────────────────────────────
# OAuth 配置 (登录体系)
# ─────────────────────────────────────────────────────────────────
# Google OAuth (https://console.cloud.google.com/apis/credentials)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# Apple OAuth (https://developer.apple.com/account/resources/identifiers)
APPLE_CLIENT_ID=
APPLE_TEAM_ID=
APPLE_KEY_ID=

# 前端 OAuth (需要与后端一致)
NEXT_PUBLIC_GOOGLE_CLIENT_ID=
NEXT_PUBLIC_APPLE_CLIENT_ID=

# ─────────────────────────────────────────────────────────────────
# 密码重置配置
# ─────────────────────────────────────────────────────────────────
VIBELIFE_WEB_URL=http://106.37.170.238:8232

