#!/usr/bin/env python3
"""测试 fallback_type 配置"""
import yaml

mindfulness_tools = "/home/aiscend/work/vibelife/apps/api/skills/mindfulness/tools/tools.yaml"

with open(mindfulness_tools, 'r', encoding='utf-8') as f:
    tools_config = yaml.safe_load(f)

print("\n" + "="*70)
print("Mindfulness Fallback 配置测试")
print("="*70 + "\n")

if 'display' in tools_config:
    for tool in tools_config['display']:
        tool_name = tool.get('name', 'unknown')
        card_type = tool.get('card_type', 'N/A')
        fallback_type = tool.get('fallback_type', None)

        if tool_name == 'show_skill_intro':
            continue  # Skip intro card

        fallback_icon = "✅" if fallback_type else "❌"
        print(f"{fallback_icon} {tool_name:30} → {card_type:20} → fallback: {fallback_type or 'MISSING'}")

print("\n" + "="*70 + "\n")
