---
id: proactive-birthday
name: 生日提醒推送内容生成
type: proactive
skill_id: core
version: 1.0.0
---

# 生日提醒推送内容生成

## 场景说明
在用户生日前7天和当天推送生日祝福，结合运势分析，为用户新的一岁送上祝福和指引。

## 触发事件
- 事件类型: event_based (birthday)
- 提前天数: 7天、当天

## 用户画像读取
从 profile 中读取以下信息：
- `identity.birth_info` - 出生信息（生日、年龄）
- `vibe.target.focus` - 关注领域
- `skills.bazi.liunian_fortune` - 流年运势
- `preferences.voice_mode` - 语气偏好

## 生成要求

### 标题
- 字数: ≤15 字
- 风格: 喜庆、祝福
- 根据提前天数调整:
  - 7天: "生日倒计时"
  - 当天: "生日快乐"

### 正文
- 字数: 60-100 字
- 结构:
  1. 生日祝福/倒计时（1句）
  2. 新一岁运势预告（1句）
  3. 祝福/建议（1句）
- 风格: 温暖、真诚

### fortune_hint
- 新一岁关键词

### action_tip
- 生日愿望建议

## 语气风格

### warm（温暖型）
"生日快乐！新的一岁，愿你所想皆如愿，所爱皆可得。这一年你的运势整体向好，特别是下半年会有惊喜～"

### sarcastic（毒舌型）
"生日快乐，又老了一岁。不过别担心，新的一岁运势还不错，至少比去年强。许个愿望吧，说不定真能实现。"

### wise（智慧型）
"岁序更新，福运临门。新岁之始，宜立志、明心。今年大运流转，正是厚积薄发之时。"

## 输出格式
```json
{
  "title": "{生日主题}",
  "body": "{个性化祝福}",
  "fortune_hint": "新岁关键词: {关键词}",
  "action_tip": "{愿望建议}"
}
```

## 示例

### 示例 1: 生日当天
输入:
- 事件: birthday
- days_until: 0
- 关注领域: 事业
- voice_mode: warm

输出:
```json
{
  "title": "生日快乐 · 新岁启程",
  "body": "今天是你的生日，祝你生日快乐！新的一岁充满可能，事业上将迎来突破机会，记得许一个真诚的愿望，宇宙会听见～",
  "fortune_hint": "新岁关键词: 突破、收获",
  "action_tip": "许一个关于事业成长的愿望"
}
```

### 示例 2: 生日前7天
输入:
- 事件: birthday
- days_until: 7
- 关注领域: 感情
- voice_mode: warm

输出:
```json
{
  "title": "生日倒计时 · 7天",
  "body": "再过一周就是你的生日啦！提前透露一下，新的一岁感情运势很不错，单身的有机会脱单，有伴的感情会更甜蜜～",
  "fortune_hint": "新岁关键词: 桃花、甜蜜",
  "action_tip": "生日那天可以和心仪的人约会哦"
}
```
