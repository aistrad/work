# VibeLife Dashboard

> **人生仪表盘** - 一眼看见"我在哪、我要去哪、我该怎么做"

---

## 文档索引

| 文档 | 说明 |
|------|------|
| [DESIGN.md](./DESIGN.md) | 设计规格、布局、交互设计 |
| [COMPONENTS.md](./COMPONENTS.md) | 组件实现详图、动画规格 |
| [DATA-FLOW.md](./DATA-FLOW.md) | 数据流、API 规格、缓存策略 |

---

## 核心理念

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│   传统 Dashboard           VibeLife Dashboard                   │
│   ────────────────         ──────────────────                   │
│   展示静态数据             动态洞察与行动                       │
│   用户来看，然后离开       每次打开，都有新的指引和发现          │
│                                                                 │
│   "这是一个看数据的地方"   "这是每天获得方向和力量的地方"       │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 信息架构

```
┌─────────────────────────────────────────────────────────────────────────┐
│                         Dashboard 架构 v2.0                             │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  Layer 0: Ambient（情境感知）                                           │
│  ├── 时间问候 + 日期/节气                                               │
│  ├── 智能名言（触动人心）                                               │
│  └── 签到状态 + 连续天数                                                │
│                                                                         │
│  Layer 1: Lifecoach Card（生活教练 - 核心功能）                         │
│  ├── 北极星愿景                                                         │
│  ├── 月度项目进展                                                       │
│  ├── 本周大石头                                                         │
│  └── 今日杠杆行动                                                       │
│                                                                         │
│  Layer 2: My Skills（已订阅技能 - 横滑浏览）                            │
│  ├── 用户订阅的 Skill 推送的动态内容                                    │
│  ├── Proactive Engine 定期计算                                          │
│  └── 点击进入对应 Skill 对话                                            │
│                                                                         │
│  Layer 3: Discover（发现更多 - 横滑浏览）                               │
│  ├── 未订阅的 Skill 推荐                                                │
│  └── 引导用户探索更多能力                                               │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

---

## 页面预览 (Desktop)

```
┌─────────────────────────────────────────────────────────────────────────┐
│  ☀️ 早安，小薇                                 2026年1月19日 大寒前3天   │
│  "你的任务不是去寻找爱，而是去寻找并拆除你内心所有阻挡爱的障碍。" — 荣格 │
├─────────────────────────────────────────────────────────────────────────┤
│  🔥 7天连续     💪 能量 78%     ✓ 已签到                   [ 签到 ]     │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  🧭 LIFECOACH                                                           │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │  ⭐ 北极星: "成为用文字帮助他人的创作者"                          │   │
│  │  ─────────────────────────────────────────────────────────────   │   │
│  │  📊 月度项目                         ☀️ 今日杠杆                  │   │
│  │  完成书籍第3章                       □ 完成3.2节初稿              │   │
│  │  ████████░░░░░░░░ 40%               □ 回复小明邮件               │   │
│  │  还剩 12 天                          □ 30分钟阅读    (1/3)        │   │
│  │                                                                   │   │
│  │  📅 本周大石头 (1/4)                                              │   │
│  │  ✓ 完成3.2节初稿  ○ 周三带孩子  ○ 周六约会  ○ 跑步3次           │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                                                                         │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  🎯 MY SKILLS                                              ← 滑动 →    │
│  ─────────────────────────────────────────────────────────────────────  │
│  ┌───────────────────┐ ┌───────────────────┐ ┌───────────────────┐     │
│  │  🎭 荣格原型        │ │  🌙 八字运势       │ │  ⭐ 星座能量       │ ··· │
│  │  今日: 创造者       │ │  整体: ★★★★☆     │ │  水瓶座            │     │
│  │  💡 创意能量旺盛    │ │  贵人相助          │ │  💫 灵感爆发日     │     │
│  │  [与原型对话 →]    │ │  [查看详情 →]      │ │  [查看详情 →]      │     │
│  └───────────────────┘ └───────────────────┘ └───────────────────┘     │
│                                  ● ○ ○                                  │
│                                                                         │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  ✨ 发现更多                                               ← 滑动 →    │
│  ─────────────────────────────────────────────────────────────────────  │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐       │
│  │  🔮 塔罗     │ │  🧘 冥想     │ │  💰 财富     │ │  ❤️ 关系     │  ···  │
│  │  每日一牌   │ │  正念指导   │ │  理财建议   │ │  亲密关系   │       │
│  │  [+ 订阅]   │ │  [+ 订阅]   │ │  [+ 订阅]   │ │  [+ 订阅]   │       │
│  └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘       │
│                              ● ○ ○ ○                                    │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

---

## 页面预览 (Mobile)

```
┌─────────────────────────┐
│ ☀️ 早安，小薇            │
│ "你的任务不是去寻找爱..." │
├─────────────────────────┤
│ 🔥 7天  💪 78%  [签到]   │
├─────────────────────────┤
│                         │
│ 🧭 LIFECOACH            │
│ ⭐ "成为用文字帮助他人   │
│    的创作者"             │
│ ───────────────────     │
│ 📊 第3章 ████░░░░ 40%   │
│ ───────────────────     │
│ ☀️ 今日  □完成3.2节     │
│         □回复邮件       │
│         □30分钟阅读     │
│ ───────────────────     │
│ 📅 本周  ✓3.2节 ○带孩子 │
│                         │
├─────────────────────────┤
│                         │
│ 🎯 MY SKILLS    ← → 滑动│
│ ───────────────────     │
│ ┌─────────┬─────────┬─  │
│ │ 🎭 荣格  │ 🌙 八字  │   │
│ │ 创造者  │ ★★★★☆  │ ← │
│ │ 能量旺盛│ 贵人相助 │   │
│ │ [对话→] │ [详情→] │   │
│ └─────────┴─────────┴─  │
│         ● ○ ○           │
│                         │
├─────────────────────────┤
│                         │
│ ✨ 发现更多      ← → 滑动│
│ ───────────────────     │
│ ┌───────┬───────┬───────┬
│ │ 🔮塔罗 │ 🧘冥想 │ 💰财富 │
│ │每日一牌│正念指导│理财建议│←
│ │[+订阅]│[+订阅]│[+订阅]│
│ └───────┴───────┴───────┴
│       ● ○ ○ ○           │
│                         │
├─────────────────────────┤
│  🏠    💬    📊    👤    │
│ Home  Chat  Stats Profile│
└─────────────────────────┘
```

---

## 数据源

| 卡片 | 数据来源 | 存储位置 |
|------|---------|---------|
| Ambient | 系统时间 + 用户设置 | `preferences` |
| Lifecoach | Lifecoach State | `life_context._paths.lifecoach` |
| My Skills | Skill Proactive Engine | `dashboard_cards` (computed) |
| Discover | Skill Registry | `skills` (static + recommendations) |

---

## Skill Card 机制

```
┌─────────────────────────────────────────────────────────────────────────┐
│                         Skill Card 订阅驱动                             │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  1. Skill 注册 Dashboard Card                                           │
│     skills/{skill_id}/dashboard_card.yaml                               │
│     ├── card_id: jungian_daily_insight                                  │
│     ├── compute_endpoint: /api/skills/jungian/dashboard                 │
│     └── refresh: daily                                                  │
│                                                                         │
│  2. Proactive Engine 定时计算                                           │
│     ├── 遍历所有用户                                                    │
│     ├── 获取订阅 Skills                                                 │
│     ├── 调用 compute()                                                  │
│     └── 存入 dashboard_cards                                            │
│                                                                         │
│  3. 前端获取                                                            │
│     GET /api/dashboard                                                  │
│     ├── 返回 Lifecoach 数据                                             │
│     ├── 返回 My Skills (按用户订阅)                                     │
│     └── 返回 Discover (未订阅推荐)                                      │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

---

## 实施优先级

### Phase 1: MVP (P0)
- [ ] AmbientHeader (问候 + 日期 + 签到)
- [ ] LifecoachCard (合并版)
- [ ] 基础响应式布局
- [ ] useDashboard Hook

### Phase 2: Skill Cards (P1)
- [ ] SkillCarousel 横滑组件
- [ ] My Skills 区域
- [ ] Discover 区域
- [ ] Skill Card 注册机制

### Phase 3: 进阶体验 (P2)
- [ ] 签到动画
- [ ] Skill 订阅流程
- [ ] 空状态引导
- [ ] 性能优化

---

## 技术栈

- **框架**: Next.js 14 (App Router)
- **状态管理**: Zustand + SWR
- **样式**: Tailwind CSS
- **动画**: Framer Motion
- **横滑**: CSS snap + Touch events

---

## 相关文档

- [VibeProfile 架构](../VibeProfile/ARCHITECTURE.md)
- [Lifecoach 设计](../lifecoach/DESIGN-V2.md)
- [North Star V8](../../archive/v8/VibeLife-northstar-v8.md)

---

> **Version**: 2.0 | 2026-01-19
> **设计理念**: Skill 驱动 + 动态内容 + 横滑浏览 + 温暖东方美学
