"use client";

import { cn } from "@/lib/utils";
import { CarouselTrack } from "../shared/CarouselTrack";
import { SkillCard } from "./SkillCard";
import type { SkillCardData } from "@/types/dashboard";

interface SkillCarouselProps {
  skills: SkillCardData[];
  onCardClick?: (skillId: string) => void;
  className?: string;
}

/**
 * SkillCarousel - My Skills æ¨ªæ»‘å±•ç¤º
 *
 * å±•ç¤ºç”¨æˆ·å·²è®¢é˜…çš„ Skill çš„åŠ¨æ€å†…å®¹å¡ç‰‡
 */
export function SkillCarousel({
  skills,
  onCardClick,
  className,
}: SkillCarouselProps) {
  // Empty state
  if (skills.length === 0) {
    return (
      <div className={cn("rounded-2xl bg-white/90 backdrop-blur-sm p-6", className)}>
        <div className="flex items-center justify-between mb-4">
          <div className="flex items-center gap-2">
            <span className="text-xl">ğŸ¯</span>
            <h2 className="text-lg font-semibold text-gray-900">MY SKILLS</h2>
          </div>
        </div>
        <div className="flex flex-col items-center justify-center py-8 text-center">
          <span className="text-3xl mb-2">âœ¨</span>
          <p className="text-gray-500">
            æ¢ç´¢ä¸‹æ–¹çš„ Skillï¼Œè®¢é˜…åä¼šåœ¨è¿™é‡Œæ˜¾ç¤º
          </p>
        </div>
      </div>
    );
  }

  return (
    <div className={cn("rounded-2xl bg-white/90 backdrop-blur-sm p-6", className)}>
      {/* Header */}
      <div className="flex items-center justify-between mb-4">
        <div className="flex items-center gap-2">
          <span className="text-xl">ğŸ¯</span>
          <h2 className="text-lg font-semibold text-gray-900">MY SKILLS</h2>
        </div>
        <span className="text-sm text-gray-400">â† æ»‘åŠ¨ â†’</span>
      </div>

      {/* Carousel */}
      <CarouselTrack gap={16}>
        {skills.map((skill) => (
          <SkillCard
            key={skill.skillId}
            skillId={skill.skillId}
            icon={skill.icon}
            title={skill.title}
            content={skill.content}
            actionLabel={skill.actionLabel}
            actionRoute={skill.actionRoute}
            onClick={onCardClick ? () => onCardClick(skill.skillId) : undefined}
          />
        ))}
      </CarouselTrack>
    </div>
  );
}

export default SkillCarousel;
