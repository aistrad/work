# 规则抽取 Prompt 模板

> 此 Prompt 在 Claude Code 中手动执行，不调用外部 LLM API。

## 使用方法

1. 从 knowledge_chunks 表中读取待分析的知识内容
2. 查看 SKILL.md 的核心能力索引
3. 将内容填入下方模板
4. 在 Claude Code 中执行 prompt
5. 将结果写入 rules/{capability}.md 文件

---

## Prompt 模板

```
你是一个专业的分析规则设计专家。请分析以下知识内容，为指定能力抽取分析规则。

## Skill 类型: {skill_id}

## 目标能力: {capability_name}

## 知识内容

{content}

## 输出要求

请按以下格式输出 Rule 文件内容：

---
id: {capability-id}
name: {能力中文名}
impact: {CRITICAL|HIGH|MEDIUM|LOW}
impactDescription: {影响说明}
tags: {触发词1}, {触发词2}, {触发词3}
---

# {能力中文名}规则

## 适用场景

{详细描述该能力适用的场景，1-2 段}

## 分析要点

| 步骤 | 分析要点 | 检索 Query | 优先级 |
|-----|---------|-----------|-------|
| 1 | {要点 1} | "{query 1}" | 必须 |
| 2 | {要点 2} | "{query 2}" | 必须 |
| 3 | {要点 3} | "{query 3}" | 推荐 |
| 4 | {要点 4} | "{query 4}" | 推荐 |
| 5 | {要点 5} | 综合以上给出建议 | 必须 |

## 输出要求

1. **必须调用**：
   - `{tool_1}` {说明}
   - `{tool_2}` {说明}
   - `show_insight` 展示洞察（不超过 4 点）

2. **内容要求**：
   - {要求 1}
   - {要求 2}
   - {要求 3}

3. **引导方向**：
   - {引导 1}
   - {引导 2}

## 常见问题

### {问题 1}
{回答/指导}

### {问题 2}
{回答/指导}
```

---

## 抽取原则

1. **专业深度**：优先抽取大模型不知道的专业知识
2. **可操作性**：每个分析要点必须可执行
3. **可检索性**：提供具体的检索 Query
4. **来源标注**：重要规则标注来源文献
5. **避免常识**：不抽取大模型已知的常识性内容

## 质量检查

- [ ] 分析要点是否完整覆盖该能力
- [ ] 检索 Query 是否具体可用
- [ ] 输出要求是否明确
- [ ] 常见问题是否有针对性
