/**
 * Shared Panels - Available to all skills
 *
 * These panels provide common functionality across all skill types
 */

import { lazy } from "react";
import {
  MessageSquare,
  Target,
  FileText,
  Heart,
  Map,
  User,
  TrendingUp,
} from "lucide-react";
import type { PanelDefinition } from "./types";

// Lazy load panel components
const ChatPanel = lazy(() => import("@/components/layout/panels/ChatPanel"));
const ChartPanel = lazy(() => import("@/components/layout/panels/ChartPanel"));
const ReportPanel = lazy(() => import("./panels/ReportPanel"));
const RelationshipPanel = lazy(() => import("./panels/RelationshipPanel"));
const JourneyPanel = lazy(() => import("@/components/layout/panels/JourneyPanel"));
const MePanel = lazy(() => import("@/components/layout/panels/MePanel"));

// ═══════════════════════════════════════════════════════════════════════════
// Shared Panel Definitions
// ═══════════════════════════════════════════════════════════════════════════

export const sharedPanels: PanelDefinition[] = [
  {
    id: "chat",
    label: "对话",
    icon: MessageSquare,
    component: ChatPanel,
    order: 0,
  },
  {
    id: "chart",
    label: "命盘",
    icon: Target,
    component: ChartPanel,
    order: 5,
    requireAuth: true,
  },
  {
    id: "report",
    label: "报告",
    icon: FileText,
    component: ReportPanel,
    order: 10,
    requireAuth: true,
  },
  {
    id: "relationship",
    label: "关系",
    icon: Heart,
    component: RelationshipPanel,
    order: 15,
    requireAuth: true,
  },
  {
    id: "journey",
    label: "旅程",
    icon: Map,
    component: JourneyPanel,
    order: 20,
    requireAuth: true,
  },
  {
    id: "me",
    label: "我",
    icon: User,
    component: MePanel,
    order: 100,
  },
];

// ═══════════════════════════════════════════════════════════════════════════
// Panel ID Type
// ═══════════════════════════════════════════════════════════════════════════

export type SharedPanelId = "chat" | "chart" | "report" | "relationship" | "journey" | "me";

export function isSharedPanel(panelId: string): panelId is SharedPanelId {
  return sharedPanels.some((p) => p.id === panelId);
}
