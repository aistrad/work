# Vibe Skill 工具定义
# 注意: Claude Code Skill 使用内置工具 (Write, Read 等) 执行
# 此文件定义语义层工具，供 LLM 理解何时调用

tools:
  # 展示工具
  - name: output_skill_file
    description: 输出生成的 Skill 文件内容
    type: display
    parameters:
      - name: file_path
        type: string
        required: true
        description: 文件路径，如 skill-name/SKILL.md
      - name: content
        type: string
        required: true
        description: 文件内容
    when_to_call: 生成完成后，逐个输出每个文件
    implementation: |
      使用 Claude Code 的 Write 工具写入文件
      或以 === FILE: path === 格式输出供用户复制

  - name: show_skill_structure
    description: 展示 Skill 目录结构
    type: display
    parameters:
      - name: structure
        type: string
        required: true
        description: ASCII 树形结构图
    when_to_call: 架构设计完成后，向用户确认结构
    implementation: |
      直接输出树形结构文本

  # 检索工具
  - name: read_rule
    description: 读取规则文件
    type: search
    parameters:
      - name: rule_id
        type: string
        required: true
        description: 规则 ID，如 knowledge-intake
    when_to_call: 执行某能力前，加载对应规则
    implementation: |
      使用 Claude Code 的 Read 工具
      路径: rules/{rule_id}.md

  - name: read_reference
    description: 读取参考文档
    type: search
    parameters:
      - name: ref_name
        type: string
        required: true
        description: 参考文档名，如 freedom-levels
    when_to_call: 需要详细指导时
    implementation: |
      使用 Claude Code 的 Read 工具
      路径: reference/{ref_name}.md

  # 验证工具
  - name: validate_skill
    description: 验证 Skill 结构和内容
    type: validate
    parameters:
      - name: skill_path
        type: string
        required: true
        description: Skill 目录路径
    when_to_call: 生成完成后，执行验证检查
    implementation: |
      1. 检查 SKILL.md 行数 < 200
      2. 检查 frontmatter 完整性
      3. 检查能力索引与 rules/ 文件对应
      4. 输出检查清单结果

# 工具分类说明
tool_categories:
  display:
    description: 展示结果
    prefix: show_ / output_
  search:
    description: 检索内容
    prefix: read_
  validate:
    description: 验证检查
    prefix: validate_
