<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>VibeLife v3.0 - Interactive Demo</title>
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:ital,opsz,wght@0,9..144,300;0,9..144,400;0,9..144,500;1,9..144,300;1,9..144,400&family=Bricolage+Grotesque:opsz,wght@12..96,400;12..96,500;12..96,600&family=Noto+Serif+SC:wght@400;500;600&display=swap" rel="stylesheet">
  
  <style>
    :root {
      /* Core Colors - Light Mode */
      --background: #FBF7F1;
      --foreground: #1C1A17;
      --accent: #B88A44;
      --accent-light: #D4A55A;
      --muted: #F5F0E8;
      --muted-foreground: #6D655B;
      --border: #E8E0D6;
      --card: #FFFFFF;
      
      /* Skill Theme Colors */
      --bazi-primary: #8B7355;
      --bazi-accent: #C45C48;
      --zodiac-primary: #4A5568;
      --zodiac-accent: #D4AF37;
      --mbti-primary: #6B46C1;
      --mbti-accent: #EC4899;
      
      /* Typography */
      --font-serif: 'Fraunces', 'Noto Serif SC', Georgia, serif;
      --font-sans: 'Bricolage Grotesque', 'Noto Sans SC', system-ui, sans-serif;
      
      /* Animation */
      --ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
      --spring: cubic-bezier(0.34, 1.56, 0.64, 1);
      
      /* Spacing */
      --safe-area-bottom: env(safe-area-inset-bottom, 0px);
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    html {
      font-size: 16px;
      -webkit-font-smoothing: antialiased;
    }
    
    body {
      font-family: var(--font-sans);
      background: var(--background);
      color: var(--foreground);
      min-height: 100vh;
      overflow-x: hidden;
    }
    
    /* ========================================
       LUMINOUS PAPER - å…‰çº¸æè´¨
       ======================================== */
    
    .luminous-paper {
      position: relative;
      min-height: 100vh;
      background: var(--background);
    }
    
    /* çº¸å¼ çº¹ç† */
    .luminous-paper::before {
      content: '';
      position: fixed;
      inset: 0;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
      opacity: 0.025;
      pointer-events: none;
      z-index: 0;
    }
    
    /* èƒŒå…‰å…‰æ™• */
    .luminous-paper::after {
      content: '';
      position: fixed;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: 
        radial-gradient(ellipse 40% 30% at 30% 20%, rgba(184, 138, 68, 0.08) 0%, transparent 50%),
        radial-gradient(ellipse 35% 40% at 70% 60%, rgba(139, 115, 85, 0.06) 0%, transparent 45%);
      pointer-events: none;
      z-index: 0;
      animation: aura-breathe 20s ease-in-out infinite;
    }
    
    @keyframes aura-breathe {
      0%, 100% { opacity: 0.6; transform: scale(1); }
      50% { opacity: 0.9; transform: scale(1.02); }
    }
    
    /* ========================================
       APP SHELL
       ======================================== */
    
    .app-container {
      position: relative;
      z-index: 1;
      max-width: 100%;
      min-height: 100vh;
      padding-bottom: calc(80px + var(--safe-area-bottom));
    }
    
    @media (min-width: 1024px) {
      .app-container {
        display: grid;
        grid-template-columns: 240px 1fr 360px;
        padding-bottom: 0;
      }
    }
    
    /* ========================================
       SCREENS (Mobile-first)
       ======================================== */
    
    .screen {
      display: none;
      padding: 1rem;
      padding-top: calc(60px + 1rem);
      min-height: 100vh;
    }
    
    .screen.active {
      display: block;
    }
    
    @media (min-width: 1024px) {
      .screen {
        padding-top: 1.5rem;
        grid-column: 2;
      }
    }
    
    /* ========================================
       TOP NAV (Mobile)
       ======================================== */
    
    .top-nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 60px;
      background: rgba(251, 247, 241, 0.9);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 1rem;
      z-index: 100;
    }
    
    .top-nav-title {
      font-family: var(--font-serif);
      font-size: 1.25rem;
      font-weight: 400;
    }
    
    .top-nav-skill {
      font-size: 0.75rem;
      color: var(--muted-foreground);
      padding: 0.25rem 0.75rem;
      background: var(--muted);
      border-radius: 999px;
    }
    
    @media (min-width: 1024px) {
      .top-nav {
        display: none;
      }
    }
    
    /* ========================================
       BOTTOM NAV (Mobile)
       ======================================== */
    
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: calc(80px + var(--safe-area-bottom));
      padding-bottom: var(--safe-area-bottom);
      background: rgba(251, 247, 241, 0.95);
      backdrop-filter: blur(20px);
      border-top: 1px solid var(--border);
      display: flex;
      justify-content: space-around;
      align-items: flex-start;
      padding-top: 0.5rem;
      z-index: 100;
    }
    
    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.25rem;
      padding: 0.5rem 1rem;
      border: none;
      background: none;
      color: var(--muted-foreground);
      cursor: pointer;
      transition: color 0.2s;
      font-family: var(--font-sans);
    }
    
    .nav-item.active {
      color: var(--foreground);
    }
    
    .nav-item-icon {
      font-size: 1.5rem;
    }
    
    .nav-item-label {
      font-size: 0.6875rem;
    }
    
    @media (min-width: 1024px) {
      .bottom-nav {
        display: none;
      }
    }
    
    /* ========================================
       SIDE NAV (PC)
       ======================================== */
    
    .side-nav {
      display: none;
    }
    
    @media (min-width: 1024px) {
      .side-nav {
        display: flex;
        flex-direction: column;
        height: 100vh;
        position: sticky;
        top: 0;
        border-right: 1px solid var(--border);
        padding: 1.5rem;
        background: rgba(251, 247, 241, 0.5);
      }
      
      .side-nav-logo {
        font-family: var(--font-serif);
        font-size: 1.5rem;
        margin-bottom: 2rem;
      }
      
      .side-nav-items {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }
      
      .side-nav-item {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.75rem 1rem;
        border-radius: 0.75rem;
        border: none;
        background: none;
        color: var(--muted-foreground);
        cursor: pointer;
        transition: all 0.2s;
        font-family: var(--font-sans);
        font-size: 0.9375rem;
        text-align: left;
      }
      
      .side-nav-item:hover {
        background: var(--muted);
        color: var(--foreground);
      }
      
      .side-nav-item.active {
        background: var(--muted);
        color: var(--foreground);
      }
    }
    
    /* ========================================
       INSIGHT PANEL (PC)
       ======================================== */
    
    .insight-panel {
      display: none;
    }
    
    @media (min-width: 1024px) {
      .insight-panel {
        display: block;
        height: 100vh;
        position: sticky;
        top: 0;
        border-left: 1px solid var(--border);
        padding: 1.5rem;
        overflow-y: auto;
        background: rgba(251, 247, 241, 0.3);
      }
    }
    
    /* ========================================
       DAILY GREETING
       ======================================== */
    
    .daily-greeting {
      background: linear-gradient(135deg, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0.6) 100%);
      backdrop-filter: blur(16px);
      border: 1px solid var(--border);
      border-radius: 1rem;
      padding: 1.25rem;
      margin-bottom: 1.5rem;
      position: relative;
      overflow: hidden;
    }
    
    .daily-greeting::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 4px;
      height: 100%;
      background: linear-gradient(180deg, var(--accent) 0%, var(--accent-light) 100%);
    }
    
    .greeting-header {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.75rem;
    }
    
    .greeting-icon {
      font-size: 1.25rem;
    }
    
    .greeting-title {
      font-family: var(--font-serif);
      font-size: 1rem;
      font-weight: 500;
    }
    
    .greeting-body {
      font-size: 0.9375rem;
      color: var(--muted-foreground);
      line-height: 1.6;
      margin-bottom: 1rem;
    }
    
    .today-one-step {
      background: var(--muted);
      border-radius: 0.75rem;
      padding: 1rem;
    }
    
    .step-label {
      font-size: 0.75rem;
      color: var(--accent);
      font-weight: 600;
      margin-bottom: 0.5rem;
    }
    
    .step-checkbox {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      cursor: pointer;
    }
    
    .step-checkbox input {
      width: 20px;
      height: 20px;
      accent-color: var(--accent);
    }
    
    .step-text {
      font-size: 0.9375rem;
    }
    
    /* ========================================
       IDENTITY PRISM
       ======================================== */
    
    .identity-prism {
      background: rgba(255,255,255,0.85);
      backdrop-filter: blur(16px);
      border: 1px solid var(--border);
      border-radius: 1rem;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
    }
    
    .prism-header {
      text-align: center;
      margin-bottom: 1.5rem;
    }
    
    .prism-label {
      font-size: 0.6875rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--accent);
      font-weight: 600;
    }
    
    /* TriToggle - ä¸‰æ¡£å¼€å…³ */
    .tri-toggle {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0;
      background: var(--muted);
      border-radius: 999px;
      padding: 4px;
      margin-bottom: 1.5rem;
      position: relative;
    }
    
    .tri-toggle-indicator {
      position: absolute;
      width: calc(33.333% - 4px);
      height: calc(100% - 8px);
      background: var(--card);
      border-radius: 999px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      left: 4px;
    }
    
    .tri-toggle[data-value="inner"] .tri-toggle-indicator {
      transform: translateX(0);
    }
    
    .tri-toggle[data-value="core"] .tri-toggle-indicator {
      transform: translateX(100%);
    }
    
    .tri-toggle[data-value="outer"] .tri-toggle-indicator {
      transform: translateX(200%);
    }
    
    .tri-toggle-btn {
      flex: 1;
      padding: 0.625rem 0;
      border: none;
      background: none;
      font-family: var(--font-sans);
      font-size: 0.8125rem;
      font-weight: 500;
      color: var(--muted-foreground);
      cursor: pointer;
      position: relative;
      z-index: 1;
      transition: color 0.2s;
    }
    
    .tri-toggle-btn.active {
      color: var(--foreground);
    }
    
    .prism-content {
      text-align: center;
    }
    
    .prism-intro {
      font-size: 0.875rem;
      color: var(--muted-foreground);
      margin-bottom: 0.75rem;
    }
    
    .prism-keyword {
      font-family: var(--font-serif);
      font-size: 1.5rem;
      font-weight: 500;
      color: var(--foreground);
      padding: 1rem 1.5rem;
      background: linear-gradient(135deg, var(--muted) 0%, rgba(184,138,68,0.1) 100%);
      border-radius: 1rem;
      margin-bottom: 1rem;
      display: inline-block;
    }
    
    .prism-description {
      font-size: 0.9375rem;
      color: var(--muted-foreground);
      line-height: 1.7;
      margin-bottom: 1rem;
    }
    
    .prism-evidence {
      font-size: 0.75rem;
      color: var(--accent);
    }
    
    /* ========================================
       NOW/NEXT CARD
       ======================================== */
    
    .now-next-card {
      background: rgba(255,255,255,0.8);
      backdrop-filter: blur(16px);
      border: 1px solid var(--border);
      border-radius: 1rem;
      overflow: hidden;
      margin-bottom: 1.5rem;
    }
    
    .now-section, .next-section {
      padding: 1.25rem;
    }
    
    .now-section {
      border-bottom: 1px solid var(--border);
    }
    
    .section-header {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.75rem;
    }
    
    .section-icon {
      font-size: 1rem;
    }
    
    .section-label {
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }
    
    .now-section .section-label { color: var(--bazi-accent); }
    .next-section .section-label { color: var(--zodiac-primary); }
    
    .section-theme {
      font-family: var(--font-serif);
      font-size: 1.125rem;
      font-weight: 500;
      margin-bottom: 0.75rem;
    }
    
    .section-warning {
      display: flex;
      align-items: flex-start;
      gap: 0.5rem;
      font-size: 0.875rem;
      color: var(--muted-foreground);
      margin-bottom: 0.5rem;
    }
    
    .section-action {
      display: flex;
      align-items: flex-start;
      gap: 0.5rem;
      font-size: 0.875rem;
      color: var(--foreground);
    }
    
    /* ========================================
       CHAT SCREEN
       ======================================== */
    
    .chat-messages {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      padding-bottom: 100px;
    }
    
    .message {
      max-width: 85%;
      animation: message-in 0.4s var(--ease-out-expo);
    }
    
    @keyframes message-in {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .message.ai {
      align-self: flex-start;
    }
    
    .message.user {
      align-self: flex-end;
    }
    
    .message-bubble {
      padding: 1rem;
      border-radius: 1rem;
      line-height: 1.6;
    }
    
    .message.ai .message-bubble {
      background: rgba(255,255,255,0.85);
      backdrop-filter: blur(12px);
      border: 1px solid var(--border);
      border-top-left-radius: 0.25rem;
    }
    
    .message.user .message-bubble {
      background: var(--muted);
      border-top-right-radius: 0.25rem;
    }
    
    .message-time {
      font-size: 0.6875rem;
      color: var(--muted-foreground);
      margin-top: 0.25rem;
      padding: 0 0.5rem;
    }
    
    .message.user .message-time {
      text-align: right;
    }
    
    /* Quick Replies */
    .quick-replies {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 0.75rem;
    }
    
    .quick-reply {
      padding: 0.5rem 1rem;
      background: var(--muted);
      border: 1px solid var(--border);
      border-radius: 999px;
      font-size: 0.8125rem;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .quick-reply:hover {
      background: var(--card);
      border-color: var(--accent);
    }
    
    /* ========================================
       INSIGHT CARD (åœ¨èŠå¤©ä¸­)
       ======================================== */
    
    .insight-card {
      background: rgba(255,255,255,0.9);
      backdrop-filter: blur(16px);
      border: 1px solid var(--border);
      border-left: 4px solid var(--accent);
      border-radius: 1rem;
      padding: 1rem;
      margin-top: 0.75rem;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .insight-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(0,0,0,0.08);
    }
    
    .insight-card-header {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.5rem;
    }
    
    .insight-card-icon {
      font-size: 1rem;
    }
    
    .insight-card-type {
      font-size: 0.6875rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--accent);
      font-weight: 600;
    }
    
    .insight-card-title {
      font-family: var(--font-serif);
      font-size: 1rem;
      font-weight: 500;
      margin-bottom: 0.5rem;
    }
    
    .insight-card-summary {
      font-size: 0.875rem;
      color: var(--muted-foreground);
      line-height: 1.5;
    }
    
    .insight-card-expand {
      display: flex;
      align-items: center;
      gap: 0.25rem;
      margin-top: 0.75rem;
      font-size: 0.8125rem;
      color: var(--accent);
    }
    
    /* ========================================
       OMNIBAR (Input)
       ======================================== */
    
    .omnibar-container {
      position: fixed;
      bottom: calc(80px + var(--safe-area-bottom) + 1rem);
      left: 1rem;
      right: 1rem;
      z-index: 50;
    }
    
    @media (min-width: 1024px) {
      .omnibar-container {
        bottom: 1.5rem;
        left: 256px;
        right: 376px;
        max-width: 720px;
        margin: 0 auto;
      }
    }
    
    .omnibar {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      background: rgba(255,255,255,0.9);
      backdrop-filter: blur(20px);
      border: 1px solid var(--border);
      border-radius: 999px;
      padding: 0.5rem 0.75rem;
      box-shadow: 0 4px 24px rgba(0,0,0,0.08);
    }
    
    .omnibar-btn {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: none;
      background: none;
      color: var(--muted-foreground);
      cursor: pointer;
      border-radius: 50%;
      transition: all 0.2s;
    }
    
    .omnibar-btn:hover {
      background: var(--muted);
      color: var(--foreground);
    }
    
    .omnibar-divider {
      width: 1px;
      height: 24px;
      background: var(--border);
    }
    
    .omnibar-input {
      flex: 1;
      border: none;
      background: none;
      font-family: var(--font-sans);
      font-size: 0.9375rem;
      outline: none;
    }
    
    .omnibar-input::placeholder {
      color: var(--muted-foreground);
    }
    
    .omnibar-send {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: none;
      background: var(--foreground);
      color: var(--background);
      border-radius: 50%;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .omnibar-send:hover {
      transform: scale(1.05);
    }
    
    /* ========================================
       BIRTH INPUT CAPSULE
       ======================================== */
    
    .birth-capsule {
      background: rgba(255,255,255,0.85);
      backdrop-filter: blur(24px);
      border: 1px solid var(--border);
      border-radius: 1.5rem;
      padding: 1.5rem;
      margin: 2rem auto;
      max-width: 400px;
      box-shadow: 0 4px 24px rgba(0,0,0,0.06);
      transition: all 0.3s var(--ease-out-expo);
    }
    
    .birth-capsule:focus-within {
      transform: scale(1.02);
      border-color: var(--accent);
      box-shadow: 0 8px 32px rgba(184,138,68,0.15);
    }
    
    .capsule-title {
      font-family: var(--font-serif);
      font-size: 1.125rem;
      text-align: center;
      margin-bottom: 1.25rem;
    }
    
    .date-row {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }
    
    .date-field {
      position: relative;
    }
    
    .date-field select {
      width: 100%;
      padding: 0.75rem;
      font-family: var(--font-sans);
      font-size: 0.9375rem;
      background: var(--muted);
      border: 1px solid var(--border);
      border-radius: 0.75rem;
      appearance: none;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .date-field select:focus {
      outline: none;
      border-color: var(--accent);
    }
    
    .date-field::after {
      content: 'â–¾';
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 0.75rem;
      color: var(--muted-foreground);
      pointer-events: none;
    }
    
    .advanced-toggle {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.8125rem;
      color: var(--muted-foreground);
      margin-bottom: 1rem;
      cursor: pointer;
    }
    
    .advanced-toggle input {
      width: 16px;
      height: 16px;
      accent-color: var(--accent);
    }
    
    .advanced-fields {
      display: none;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }
    
    .advanced-fields.show {
      display: grid;
      grid-template-columns: 1fr 1fr;
    }
    
    .submit-btn {
      width: 100%;
      padding: 0.875rem;
      font-family: var(--font-sans);
      font-size: 1rem;
      font-weight: 500;
      color: var(--background);
      background: var(--foreground);
      border: none;
      border-radius: 999px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(0,0,0,0.15);
    }
    
    /* ========================================
       TRANSITION OVERLAY (æ¨æ¼”è¿‡åœº)
       ======================================== */
    
    .transition-overlay {
      position: fixed;
      inset: 0;
      background: var(--background);
      z-index: 1000;
      display: none;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }
    
    .transition-overlay.active {
      display: flex;
      animation: overlay-in 0.3s var(--ease-out-expo);
    }
    
    @keyframes overlay-in {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .transition-rings {
      position: relative;
      width: 200px;
      height: 200px;
    }
    
    .ring {
      position: absolute;
      border: 2px solid var(--accent);
      border-radius: 50%;
      opacity: 0.3;
    }
    
    .ring-1 {
      inset: 0;
      animation: ring-spin 8s linear infinite;
    }
    
    .ring-2 {
      inset: 20%;
      animation: ring-spin 6s linear infinite reverse;
    }
    
    .ring-3 {
      inset: 40%;
      animation: ring-spin 4s linear infinite;
    }
    
    @keyframes ring-spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    
    .transition-text {
      font-family: var(--font-serif);
      font-size: 1.125rem;
      color: var(--muted-foreground);
      margin-top: 2rem;
      animation: ink-reveal 0.6s var(--ease-out-expo);
    }
    
    @keyframes ink-reveal {
      from { filter: blur(4px); opacity: 0; }
      to { filter: blur(0); opacity: 1; }
    }
    
    .transition-skip {
      position: absolute;
      bottom: 3rem;
      padding: 0.5rem 1.5rem;
      font-size: 0.875rem;
      color: var(--muted-foreground);
      background: none;
      border: 1px solid var(--border);
      border-radius: 999px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .transition-skip:hover {
      background: var(--muted);
    }
    
    /* ========================================
       BOTTOM SHEET
       ======================================== */
    
    .sheet-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.4);
      z-index: 200;
      display: none;
      opacity: 0;
      transition: opacity 0.3s;
    }
    
    .sheet-overlay.active {
      display: block;
      opacity: 1;
    }
    
    .bottom-sheet {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: var(--card);
      border-radius: 1.5rem 1.5rem 0 0;
      z-index: 201;
      transform: translateY(100%);
      transition: transform 0.4s var(--ease-out-expo);
      max-height: 85vh;
      overflow-y: auto;
    }
    
    .bottom-sheet.active {
      transform: translateY(0);
    }
    
    .sheet-handle {
      width: 40px;
      height: 4px;
      background: var(--border);
      border-radius: 999px;
      margin: 0.75rem auto;
    }
    
    .sheet-content {
      padding: 0 1.5rem 2rem;
    }
    
    .sheet-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 1rem;
    }
    
    .sheet-type {
      font-size: 0.6875rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--accent);
      font-weight: 600;
    }
    
    .sheet-close {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: none;
      background: var(--muted);
      border-radius: 50%;
      cursor: pointer;
    }
    
    .sheet-title {
      font-family: var(--font-serif);
      font-size: 1.375rem;
      font-weight: 500;
      margin-bottom: 1rem;
    }
    
    .sheet-body {
      font-size: 0.9375rem;
      color: var(--muted-foreground);
      line-height: 1.7;
      margin-bottom: 1.5rem;
    }
    
    .sheet-evidence {
      background: var(--muted);
      border-radius: 0.75rem;
      padding: 1rem;
      margin-bottom: 1.5rem;
    }
    
    .evidence-label {
      font-size: 0.6875rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--muted-foreground);
      margin-bottom: 0.5rem;
    }
    
    .evidence-text {
      font-size: 0.875rem;
      color: var(--foreground);
    }
    
    .sheet-actions {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 0.5rem;
    }
    
    .sheet-action {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.25rem;
      padding: 0.75rem;
      border: 1px solid var(--border);
      border-radius: 0.75rem;
      background: none;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .sheet-action:hover {
      background: var(--muted);
      border-color: var(--accent);
    }
    
    .sheet-action-icon {
      font-size: 1.25rem;
    }
    
    .sheet-action-label {
      font-size: 0.6875rem;
      color: var(--muted-foreground);
    }
    
    /* ========================================
       RELATIONSHIP SIMULATOR
       ======================================== */
    
    .relationship-entry {
      background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.7) 100%);
      backdrop-filter: blur(16px);
      border: 1px solid var(--border);
      border-radius: 1rem;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
    }
    
    .rel-title {
      font-family: var(--font-serif);
      font-size: 1.25rem;
      text-align: center;
      margin-bottom: 1rem;
    }
    
    .rel-subtitle {
      font-size: 0.875rem;
      color: var(--muted-foreground);
      text-align: center;
      margin-bottom: 1.5rem;
    }
    
    .rel-options {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }
    
    .rel-option {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1rem;
      background: var(--muted);
      border: 1px solid transparent;
      border-radius: 0.75rem;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .rel-option:hover {
      background: var(--card);
      border-color: var(--accent);
    }
    
    .rel-option-icon {
      font-size: 1.5rem;
    }
    
    .rel-option-text {
      flex: 1;
    }
    
    .rel-option-title {
      font-weight: 500;
      margin-bottom: 0.125rem;
    }
    
    .rel-option-desc {
      font-size: 0.8125rem;
      color: var(--muted-foreground);
    }
    
    .rel-option-arrow {
      color: var(--muted-foreground);
    }
    
    /* ========================================
       CHART SCREEN
       ======================================== */
    
    .chart-header {
      text-align: center;
      margin-bottom: 2rem;
    }
    
    .chart-title {
      font-family: var(--font-serif);
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
    }
    
    .chart-subtitle {
      font-size: 0.875rem;
      color: var(--muted-foreground);
    }
    
    .bazi-chart {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 0.75rem;
      margin-bottom: 2rem;
    }
    
    .bazi-pillar {
      background: rgba(255,255,255,0.8);
      border: 1px solid var(--border);
      border-radius: 0.75rem;
      padding: 1rem;
      text-align: center;
    }
    
    .pillar-label {
      font-size: 0.6875rem;
      color: var(--muted-foreground);
      margin-bottom: 0.5rem;
    }
    
    .pillar-stem {
      font-family: var(--font-serif);
      font-size: 1.5rem;
      color: var(--bazi-primary);
      margin-bottom: 0.25rem;
    }
    
    .pillar-branch {
      font-family: var(--font-serif);
      font-size: 1.25rem;
      color: var(--bazi-accent);
    }
    
    /* ========================================
       UTILITY CLASSES
       ======================================== */
    
    .text-center { text-align: center; }
    .mt-1 { margin-top: 0.25rem; }
    .mt-2 { margin-top: 0.5rem; }
    .mt-4 { margin-top: 1rem; }
    .mb-2 { margin-bottom: 0.5rem; }
    .mb-4 { margin-bottom: 1rem; }
    
    /* ========================================
       SKILL TABS (in Chart)
       ======================================== */
    
    .skill-tabs {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 1.5rem;
      overflow-x: auto;
      padding-bottom: 0.5rem;
    }
    
    .skill-tab {
      padding: 0.5rem 1rem;
      background: var(--muted);
      border: 1px solid var(--border);
      border-radius: 999px;
      font-size: 0.8125rem;
      white-space: nowrap;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .skill-tab.active {
      background: var(--foreground);
      color: var(--background);
      border-color: var(--foreground);
    }
    
    /* ========================================
       JOURNEY SCREEN
       ======================================== */
    
    .journey-header {
      margin-bottom: 1.5rem;
    }
    
    .journey-title {
      font-family: var(--font-serif);
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
    }
    
    .journey-filter {
      display: flex;
      gap: 0.5rem;
    }
    
    .filter-btn {
      padding: 0.375rem 0.75rem;
      font-size: 0.75rem;
      background: var(--muted);
      border: 1px solid var(--border);
      border-radius: 999px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .filter-btn.active {
      background: var(--accent);
      color: white;
      border-color: var(--accent);
    }
    
    .saved-insights {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    
    .saved-insight {
      background: rgba(255,255,255,0.8);
      border: 1px solid var(--border);
      border-left: 4px solid var(--accent);
      border-radius: 0.75rem;
      padding: 1rem;
    }
    
    .saved-insight-date {
      font-size: 0.6875rem;
      color: var(--muted-foreground);
      margin-bottom: 0.5rem;
    }
    
    .saved-insight-title {
      font-family: var(--font-serif);
      font-size: 1rem;
      margin-bottom: 0.25rem;
    }
    
    .saved-insight-summary {
      font-size: 0.875rem;
      color: var(--muted-foreground);
    }
  </style>
</head>
<body>
  <div class="luminous-paper">
    <div class="app-container">
      
      <!-- Top Nav (Mobile) -->
      <nav class="top-nav">
        <span class="top-nav-title">VibeLife</span>
        <span class="top-nav-skill">å…«å­—å‘½ç†</span>
      </nav>
      
      <!-- Side Nav (PC) -->
      <aside class="side-nav">
        <div class="side-nav-logo">VibeLife</div>
        <div class="side-nav-items">
          <button class="side-nav-item active" onclick="switchScreen('chat')">
            <span>ğŸ’¬</span> Chat
          </button>
          <button class="side-nav-item" onclick="switchScreen('chart')">
            <span>ğŸ“Š</span> Chart
          </button>
          <button class="side-nav-item" onclick="switchScreen('journey')">
            <span>ğŸ›¤</span> Journey
          </button>
          <button class="side-nav-item" onclick="switchScreen('me')">
            <span>ğŸ‘¤</span> Me
          </button>
          <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--border);">
            <button class="side-nav-item" onclick="switchScreen('relationship')">
              <span>ğŸ’</span> å…³ç³»æ¨¡æ‹Ÿå™¨
            </button>
          </div>
        </div>
      </aside>
      
      <!-- ===================== CHAT SCREEN ===================== -->
      <main class="screen active" id="screen-chat">
        
        <!-- Daily Greeting -->
        <div class="daily-greeting">
          <div class="greeting-header">
            <span class="greeting-icon">ğŸ‹</span>
            <span class="greeting-title">å°å¯’ Â· å¯’æ°”æ¸ç››</span>
          </div>
          <p class="greeting-body">
            å¯’æ°”æ¸ç››ï¼Œå®œæ”¶æ•›ç²¾æ°”ã€‚ä»Šå¤©é€‚åˆå¤„ç†éœ€è¦è€å¿ƒçš„äº‹ã€‚
          </p>
          <div class="today-one-step">
            <div class="step-label">ä»Šæ—¥ä¸€æ­¥</div>
            <label class="step-checkbox">
              <input type="checkbox">
              <span class="step-text">æ‹’ç»ä¸€ä¸ªä¸åˆç†çš„è¯·æ±‚</span>
            </label>
          </div>
        </div>
        
        <!-- Chat Messages -->
        <div class="chat-messages">
          <div class="message ai">
            <div class="message-bubble">
              <p>ä½ å¥½ï¼Œæˆ‘å·²ç»çœ‹åˆ°ä½ çš„å‘½ç›˜äº†ã€‚</p>
              <p class="mt-2">ç”²æœ¨æ—¥ä¸»ï¼Œç”Ÿäºå¯…æœˆï¼Œæœ¨æ°”æ—ºç››ã€‚ä½ å¤©ç”Ÿæœ‰å¼€æ‹“è€…çš„æ°”è´¨ï¼Œå–„äºå¼€å§‹æ–°äº‹ç‰©ï¼Œä½†éœ€è¦å­¦ä¹ "æ‰æ ¹"ã€‚</p>
              
              <!-- Quick Replies -->
              <div class="quick-replies">
                <button class="quick-reply" onclick="addUserMessage('èŠèŠäº‹ä¸šè¿åŠ¿')">äº‹ä¸šè¿åŠ¿</button>
                <button class="quick-reply" onclick="addUserMessage('æ„Ÿæƒ…æ–¹é¢æ€ä¹ˆæ ·ï¼Ÿ')">æ„Ÿæƒ…åˆ†æ</button>
                <button class="quick-reply" onclick="addUserMessage('æœ€è¿‘é€‚åˆåšä»€ä¹ˆï¼Ÿ')">è¿‘æœŸå»ºè®®</button>
              </div>
            </div>
            <div class="message-time">10:32</div>
          </div>
          
          <div class="message user">
            <div class="message-bubble">
              æœ€è¿‘æ€»è§‰å¾—åšäº‹å·®ä¸€ç‚¹ç‚¹ï¼Œæ€»æ˜¯ä¸å¤ªé¡ºåˆ©...
            </div>
            <div class="message-time">10:33</div>
          </div>
          
          <div class="message ai">
            <div class="message-bubble">
              <p>è®©æˆ‘çœ‹çœ‹...</p>
              <p class="mt-2">ä½ ç°åœ¨æµå¹´èµ°åˆ°"åå°"è¿äº†ã€‚åå°ä¸»æ€è€ƒã€å­¦ä¹ ï¼Œä½†ä¹Ÿå®¹æ˜“è®©äººæƒ³å¤ªå¤šã€è¡ŒåŠ¨å‡å°‘ã€‚</p>
              
              <!-- Insight Card -->
              <div class="insight-card" onclick="openInsightSheet()">
                <div class="insight-card-header">
                  <span class="insight-card-icon">âœ¨</span>
                  <span class="insight-card-type">å‘ç°</span>
                </div>
                <div class="insight-card-title">æœ¨æ—ºè€Œæ°´å¼±ï¼Œå–„äºå¼€å§‹éœ€å­¦æ‰æ ¹</div>
                <div class="insight-card-summary">
                  è¿‡å»ä¸€ä¸ªæœˆä½ æåˆ°äº† 3 æ¬¡"å·®ä¸€ç‚¹ç‚¹"ï¼Œè¿™å¯èƒ½å’Œæœ¨çš„ç‰¹è´¨æœ‰å…³ã€‚
                </div>
                <div class="insight-card-expand">
                  <span>å±•å¼€è¯¦æƒ…</span>
                  <span>â†’</span>
                </div>
              </div>
            </div>
            <div class="message-time">10:34</div>
          </div>
        </div>
        
      </main>
      
      <!-- ===================== CHART SCREEN ===================== -->
      <main class="screen" id="screen-chart">
        
        <div class="chart-header">
          <h1 class="chart-title">ä½ çš„å‘½ç›˜</h1>
          <p class="chart-subtitle">1990å¹´2æœˆ15æ—¥ å¯…æ—¶</p>
        </div>
        
        <!-- Identity Prism -->
        <div class="identity-prism">
          <div class="prism-header">
            <span class="prism-label">Identity Prism</span>
          </div>
          
          <div class="tri-toggle" data-value="core">
            <div class="tri-toggle-indicator"></div>
            <button class="tri-toggle-btn" onclick="switchPrism('inner')">Inner</button>
            <button class="tri-toggle-btn active" onclick="switchPrism('core')">Core</button>
            <button class="tri-toggle-btn" onclick="switchPrism('outer')">Outer</button>
          </div>
          
          <div class="prism-content">
            <p class="prism-intro" id="prism-intro">ä½ çœŸæ­£ç¨³å®šçš„é©±åŠ¨åŠ›æ˜¯</p>
            <div class="prism-keyword" id="prism-keyword">ã€Œè¿½æ±‚æ·±åº¦ç†è§£ã€</div>
            <p class="prism-description" id="prism-description">
              ä½ å¤©ç”Ÿå¯¹è¡¨è±¡ä¸æ»¡è¶³ï¼Œæ€»æƒ³æ¢ç©¶äº‹ç‰©èƒŒåçš„æœ¬è´¨ã€‚è¿™è®©ä½ åœ¨ç ”ç©¶ã€åˆ†æã€ç­–ç•¥åˆ¶å®šæ–¹é¢æœ‰ç‹¬ç‰¹ä¼˜åŠ¿ã€‚
            </p>
            <p class="prism-evidence" id="prism-evidence">æ¥æºï¼šæ—¥ä¸»ç”²æœ¨ Â· åå°æ ¼</p>
          </div>
        </div>
        
        <!-- Bazi Chart -->
        <div class="skill-tabs">
          <button class="skill-tab active">å…«å­—</button>
          <button class="skill-tab">æ˜Ÿåº§</button>
          <button class="skill-tab">MBTI</button>
        </div>
        
        <div class="bazi-chart">
          <div class="bazi-pillar">
            <div class="pillar-label">å¹´æŸ±</div>
            <div class="pillar-stem">åºš</div>
            <div class="pillar-branch">åˆ</div>
          </div>
          <div class="bazi-pillar">
            <div class="pillar-label">æœˆæŸ±</div>
            <div class="pillar-stem">æˆŠ</div>
            <div class="pillar-branch">å¯…</div>
          </div>
          <div class="bazi-pillar">
            <div class="pillar-label">æ—¥æŸ±</div>
            <div class="pillar-stem">ç”²</div>
            <div class="pillar-branch">å­</div>
          </div>
          <div class="bazi-pillar">
            <div class="pillar-label">æ—¶æŸ±</div>
            <div class="pillar-stem">ä¸™</div>
            <div class="pillar-branch">å¯…</div>
          </div>
        </div>
        
        <!-- Now/Next Card -->
        <div class="now-next-card">
          <div class="now-section">
            <div class="section-header">
              <span class="section-icon">ğŸ“</span>
              <span class="section-label">å½“å‰é˜¶æ®µ</span>
            </div>
            <div class="section-theme">ä¸»é¢˜ï¼šæ²‰æ·€ä¸ç§¯ç´¯</div>
            <div class="section-warning">
              <span>âš ï¸</span>
              <span>å®¹æ˜“é™·å…¥ç»†èŠ‚ï¼Œå¿˜è®°å¤§å±€</span>
            </div>
            <div class="section-action">
              <span>âœ“</span>
              <span>æ¯å‘¨ç•™å‡º 2 å°æ—¶åšè§„åˆ’</span>
            </div>
          </div>
          <div class="next-section">
            <div class="section-header">
              <span class="section-icon">â¡ï¸</span>
              <span class="section-label">ä¸‹ä¸€é˜¶æ®µï¼ˆ3æœˆèµ·ï¼‰</span>
            </div>
            <div class="section-theme">ä¸»é¢˜ï¼šå‘å¤–æ‹“å±•</div>
          </div>
        </div>
        
      </main>
      
      <!-- ===================== JOURNEY SCREEN ===================== -->
      <main class="screen" id="screen-journey">
        
        <div class="journey-header">
          <h1 class="journey-title">æˆ‘çš„å‘ç°</h1>
          <div class="journey-filter">
            <button class="filter-btn active">å…¨éƒ¨</button>
            <button class="filter-btn">èº«ä»½</button>
            <button class="filter-btn">å…³ç³»</button>
            <button class="filter-btn">è¶‹åŠ¿</button>
          </div>
        </div>
        
        <div class="saved-insights">
          <div class="saved-insight">
            <div class="saved-insight-date">ä»Šå¤© Â· 10:34</div>
            <div class="saved-insight-title">æœ¨æ—ºè€Œæ°´å¼±ï¼Œå–„äºå¼€å§‹éœ€å­¦æ‰æ ¹</div>
            <div class="saved-insight-summary">è¿‡å»ä¸€ä¸ªæœˆä½ æåˆ°äº† 3 æ¬¡"å·®ä¸€ç‚¹ç‚¹"ï¼Œè¿™å¯èƒ½å’Œæœ¨çš„ç‰¹è´¨æœ‰å…³ã€‚</div>
          </div>
          <div class="saved-insight">
            <div class="saved-insight-date">æ˜¨å¤© Â· 15:22</div>
            <div class="saved-insight-title">åå°è¿æœŸé—´ï¼Œé€‚åˆå­¦ä¹ æ–°æŠ€èƒ½</div>
            <div class="saved-insight-summary">å½“å‰å¤§è¿å¸¦æ¥çš„èƒ½é‡æ›´é€‚åˆå†…åœ¨ç§¯ç´¯ï¼Œè€Œéå¤–åœ¨çªç ´ã€‚</div>
          </div>
          <div class="saved-insight">
            <div class="saved-insight-date">3å¤©å‰ Â· 09:15</div>
            <div class="saved-insight-title">ä½ çš„å†³ç­–æ¨¡å¼ï¼šå…´å¥‹â†’çŠ¹è±«â†’åæ‚”</div>
            <div class="saved-insight-summary">è¿™ä¸ªæ¨¡å¼åœ¨è¿‡å» 3 ä¸ªæœˆå‡ºç°äº† 4 æ¬¡ã€‚å»ºè®®è®¾å®šå†³ç­–æ—¶é™ã€‚</div>
          </div>
        </div>
        
      </main>
      
      <!-- ===================== ME SCREEN ===================== -->
      <main class="screen" id="screen-me">
        
        <!-- Identity Prism (å¸¸é©») -->
        <div class="identity-prism">
          <div class="prism-header">
            <span class="prism-label">æˆ‘çš„èº«ä»½æ£±é•œ</span>
          </div>
          
          <div class="tri-toggle" data-value="core" id="me-toggle">
            <div class="tri-toggle-indicator"></div>
            <button class="tri-toggle-btn" onclick="switchMePrism('inner')">Inner</button>
            <button class="tri-toggle-btn active" onclick="switchMePrism('core')">Core</button>
            <button class="tri-toggle-btn" onclick="switchMePrism('outer')">Outer</button>
          </div>
          
          <div class="prism-content">
            <p class="prism-intro" id="me-prism-intro">ä½ çœŸæ­£ç¨³å®šçš„é©±åŠ¨åŠ›æ˜¯</p>
            <div class="prism-keyword" id="me-prism-keyword">ã€Œè¿½æ±‚æ·±åº¦ç†è§£ã€</div>
            <p class="prism-description" id="me-prism-description">
              ä½ å¤©ç”Ÿå¯¹è¡¨è±¡ä¸æ»¡è¶³ï¼Œæ€»æƒ³æ¢ç©¶äº‹ç‰©èƒŒåçš„æœ¬è´¨ã€‚
            </p>
          </div>
        </div>
        
        <!-- Birth Input (å¯ä¿®æ”¹) -->
        <div class="birth-capsule">
          <div class="capsule-title">æˆ‘çš„å‡ºç”Ÿä¿¡æ¯</div>
          <div class="date-row">
            <div class="date-field">
              <select><option>1990</option></select>
            </div>
            <div class="date-field">
              <select><option>2æœˆ</option></select>
            </div>
            <div class="date-field">
              <select><option>15æ—¥</option></select>
            </div>
          </div>
          <label class="advanced-toggle" onclick="toggleAdvanced()">
            <input type="checkbox" checked>
            <span>é«˜çº§é€‰é¡¹</span>
          </label>
          <div class="advanced-fields show" id="advanced-fields">
            <div class="date-field">
              <select><option>å¯…æ—¶ (3-5ç‚¹)</option></select>
            </div>
            <div class="date-field">
              <select><option>åŒ—äº¬</option></select>
            </div>
          </div>
        </div>
        
        <!-- Relationship Entry -->
        <div class="relationship-entry">
          <div class="rel-title">ğŸ’ å…³ç³»æ¨¡æ‹Ÿå™¨</div>
          <div class="rel-subtitle">æ¢ç´¢ä½ å’Œ TA çš„å…³ç³»å¯†ç </div>
          <div class="rel-options">
            <div class="rel-option" onclick="switchScreen('relationship')">
              <span class="rel-option-icon">ğŸ“…</span>
              <div class="rel-option-text">
                <div class="rel-option-title">æˆ‘çŸ¥é“ TA çš„ç”Ÿæ—¥</div>
                <div class="rel-option-desc">è·å¾—æœ€å®Œæ•´çš„å…³ç³»åˆ†æ</div>
              </div>
              <span class="rel-option-arrow">â†’</span>
            </div>
            <div class="rel-option">
              <span class="rel-option-icon">ğŸ”—</span>
              <div class="rel-option-text">
                <div class="rel-option-title">å‘é€ Vibe Link</div>
                <div class="rel-option-desc">éšç§å‹å¥½çš„åŒäººæ¨¡å¼</div>
              </div>
              <span class="rel-option-arrow">â†’</span>
            </div>
          </div>
        </div>
        
      </main>
      
      <!-- ===================== RELATIONSHIP SCREEN ===================== -->
      <main class="screen" id="screen-relationship">
        
        <div class="relationship-entry" style="margin-top: 0;">
          <div class="rel-title">ğŸ’ å…³ç³»æ¨¡æ‹Ÿå™¨</div>
          <div class="rel-subtitle">é€‰æ‹©å¯¹æ–¹ä¿¡æ¯æ¥æº</div>
          <div class="rel-options">
            <div class="rel-option">
              <span class="rel-option-icon">ğŸ“…</span>
              <div class="rel-option-text">
                <div class="rel-option-title">æˆ‘çŸ¥é“ TA çš„ç”Ÿæ—¥</div>
                <div class="rel-option-desc">è·å¾—æœ€å®Œæ•´çš„å…³ç³»åˆ†æ</div>
              </div>
              <span class="rel-option-arrow">â†’</span>
            </div>
            <div class="rel-option">
              <span class="rel-option-icon">â™ˆ</span>
              <div class="rel-option-text">
                <div class="rel-option-title">æˆ‘åªçŸ¥é“ TA çš„æ˜Ÿåº§</div>
                <div class="rel-option-desc">åŸºäºæ˜Ÿåº§çš„å¿«é€Ÿåˆ†æ</div>
              </div>
              <span class="rel-option-arrow">â†’</span>
            </div>
            <div class="rel-option">
              <span class="rel-option-icon">ğŸ§ </span>
              <div class="rel-option-text">
                <div class="rel-option-title">æˆ‘çŸ¥é“ TA çš„ MBTI</div>
                <div class="rel-option-desc">åŸºäºäººæ ¼ç±»å‹çš„åˆ†æ</div>
              </div>
              <span class="rel-option-arrow">â†’</span>
            </div>
          </div>
        </div>
        
        <div style="text-align: center; padding: 2rem 0;">
          <p style="color: var(--muted-foreground); font-size: 0.875rem; margin-bottom: 1rem;">æˆ–è€…</p>
          <button class="submit-btn" style="max-width: 280px;">
            ğŸ”— å‘é€ Vibe Link ç»™ TA
          </button>
          <p style="color: var(--muted-foreground); font-size: 0.75rem; margin-top: 0.75rem;">
            éšç§å‹å¥½ï¼šTA çœ‹ä¸åˆ°ä½ çš„ç”Ÿæ—¥
          </p>
        </div>
        
      </main>
      
      <!-- Insight Panel (PC) -->
      <aside class="insight-panel">
        <div class="identity-prism" style="margin-bottom: 1.5rem;">
          <div class="prism-header">
            <span class="prism-label">Identity Prism</span>
          </div>
          <div class="tri-toggle" data-value="core" id="panel-toggle">
            <div class="tri-toggle-indicator"></div>
            <button class="tri-toggle-btn" onclick="switchPanelPrism('inner')">Inner</button>
            <button class="tri-toggle-btn active" onclick="switchPanelPrism('core')">Core</button>
            <button class="tri-toggle-btn" onclick="switchPanelPrism('outer')">Outer</button>
          </div>
          <div class="prism-content">
            <p class="prism-intro" id="panel-prism-intro">ä½ çœŸæ­£ç¨³å®šçš„é©±åŠ¨åŠ›æ˜¯</p>
            <div class="prism-keyword" id="panel-prism-keyword" style="font-size: 1.25rem;">ã€Œè¿½æ±‚æ·±åº¦ç†è§£ã€</div>
          </div>
        </div>
        
        <div class="now-next-card">
          <div class="now-section">
            <div class="section-header">
              <span class="section-icon">ğŸ“</span>
              <span class="section-label">å½“å‰é˜¶æ®µ</span>
            </div>
            <div class="section-theme">æ²‰æ·€ä¸ç§¯ç´¯</div>
          </div>
          <div class="next-section">
            <div class="section-header">
              <span class="section-icon">â¡ï¸</span>
              <span class="section-label">3æœˆèµ·</span>
            </div>
            <div class="section-theme">å‘å¤–æ‹“å±•</div>
          </div>
        </div>
      </aside>
      
      <!-- Bottom Nav (Mobile) -->
      <nav class="bottom-nav">
        <button class="nav-item active" onclick="switchScreen('chat')">
          <span class="nav-item-icon">ğŸ’¬</span>
          <span class="nav-item-label">Chat</span>
        </button>
        <button class="nav-item" onclick="switchScreen('chart')">
          <span class="nav-item-icon">ğŸ“Š</span>
          <span class="nav-item-label">Chart</span>
        </button>
        <button class="nav-item" onclick="switchScreen('journey')">
          <span class="nav-item-icon">ğŸ›¤</span>
          <span class="nav-item-label">Journey</span>
        </button>
        <button class="nav-item" onclick="switchScreen('me')">
          <span class="nav-item-icon">ğŸ‘¤</span>
          <span class="nav-item-label">Me</span>
        </button>
      </nav>
      
      <!-- Omnibar -->
      <div class="omnibar-container" id="omnibar" style="display: block;">
        <div class="omnibar">
          <button class="omnibar-btn">ğŸ¤</button>
          <button class="omnibar-btn">ğŸ“·</button>
          <div class="omnibar-divider"></div>
          <input class="omnibar-input" type="text" placeholder="æœ‰ä»€ä¹ˆæƒ³é—®çš„..." id="chat-input">
          <button class="omnibar-send" onclick="sendMessage()">â†’</button>
        </div>
      </div>
      
    </div>
  </div>
  
  <!-- ===================== BOTTOM SHEET ===================== -->
  <div class="sheet-overlay" id="sheet-overlay" onclick="closeInsightSheet()"></div>
  <div class="bottom-sheet" id="insight-sheet">
    <div class="sheet-handle"></div>
    <div class="sheet-content">
      <div class="sheet-header">
        <span class="sheet-type">âœ¨ å‘ç°</span>
        <button class="sheet-close" onclick="closeInsightSheet()">âœ•</button>
      </div>
      <h2 class="sheet-title">æœ¨æ—ºè€Œæ°´å¼±ï¼Œå–„äºå¼€å§‹éœ€å­¦æ‰æ ¹</h2>
      <div class="sheet-body">
        <p>ä½ çš„å‘½ç›˜æ˜¾ç¤ºï¼šæœ¨æ—ºè€Œæ°´å¼±ã€‚</p>
        <p class="mt-2">è¿™æ„å‘³ç€ä½ å¤©ç”Ÿå–„äºå¼€å§‹æ–°äº‹ç‰©ï¼Œå……æ»¡åˆ›æ„ä¸å†²åŠ²ã€‚ä½†ä¹Ÿéœ€è¦å­¦ä¹ "æ‰æ ¹"â€”â€”ç»™è‡ªå·±æ›´å¤šçš„æ²‰æ·€æ—¶é—´ï¼Œè®©æƒ³æ³•çœŸæ­£è½åœ°ã€‚</p>
        <p class="mt-2">è¿‡å»ä¸€ä¸ªæœˆä½ æåˆ°äº† 3 æ¬¡"å·®ä¸€ç‚¹ç‚¹"ï¼Œè¿™å¯èƒ½å’Œæœ¨çš„ç‰¹è´¨æœ‰å…³ï¼šæœ¨æ€§å–œæ¬¢å‘ä¸Šç”Ÿé•¿ï¼Œä½†å®¹æ˜“æ ¹åŸºä¸ç¨³ã€‚</p>
      </div>
      <div class="sheet-evidence">
        <div class="evidence-label">è¯æ®</div>
        <div class="evidence-text">æ—¥ä¸»=ç”²æœ¨ Â· æœˆä»¤=å¯…æœ¨ Â· åå°é€å‡º</div>
      </div>
      <div class="sheet-actions">
        <button class="sheet-action">
          <span class="sheet-action-icon">â¤ï¸</span>
          <span class="sheet-action-label">å–œæ¬¢</span>
        </button>
        <button class="sheet-action">
          <span class="sheet-action-icon">ğŸ“¤</span>
          <span class="sheet-action-label">åˆ†äº«</span>
        </button>
        <button class="sheet-action">
          <span class="sheet-action-icon">ğŸ”</span>
          <span class="sheet-action-label">æ·±å…¥</span>
        </button>
        <button class="sheet-action">
          <span class="sheet-action-icon">ğŸ’¾</span>
          <span class="sheet-action-label">ä¿å­˜</span>
        </button>
      </div>
    </div>
  </div>
  
  <!-- ===================== TRANSITION OVERLAY ===================== -->
  <div class="transition-overlay" id="transition-overlay">
    <div class="transition-rings">
      <div class="ring ring-1"></div>
      <div class="ring ring-2"></div>
      <div class="ring ring-3"></div>
    </div>
    <p class="transition-text">æ­£åœ¨æ¨æ¼”å‘½ç›˜...</p>
    <button class="transition-skip" onclick="skipTransition()">è·³è¿‡</button>
  </div>
  
  <script>
    // Screen switching
    function switchScreen(screenId) {
      // Hide all screens
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      // Show target screen
      document.getElementById('screen-' + screenId).classList.add('active');
      
      // Update bottom nav
      document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
      document.querySelectorAll('.side-nav-item').forEach(n => n.classList.remove('active'));
      
      const navItems = document.querySelectorAll('.nav-item');
      const sideNavItems = document.querySelectorAll('.side-nav-item');
      
      const screenMap = { chat: 0, chart: 1, journey: 2, me: 3, relationship: -1 };
      const idx = screenMap[screenId];
      if (idx >= 0) {
        navItems[idx]?.classList.add('active');
        sideNavItems[idx]?.classList.add('active');
      }
      
      // Show/hide omnibar based on screen
      const omnibar = document.getElementById('omnibar');
      omnibar.style.display = screenId === 'chat' ? 'block' : 'none';
    }
    
    // Prism data
    const prismData = {
      inner: {
        intro: 'åœ¨ä½ å¿ƒé‡Œï¼Œå…¶å®æœ€åœ¨æ„çš„æ˜¯',
        keyword: 'ã€Œè¢«çœŸæ­£ç†è§£ã€',
        description: 'ä½ å†…å¿ƒæ¸´æœ›æœ‰äººèƒ½çœ‹é€è¡¨é¢ï¼Œç†è§£çœŸå®çš„ä½ ã€‚è¿™ç§æ¸´æœ›é©±åŠ¨ç€ä½ çš„å¾ˆå¤šè¡Œä¸ºé€‰æ‹©ã€‚',
        evidence: 'æ¥æºï¼šæœˆäº®æ˜Ÿåº§åˆ†æ Â· æ—¥ä¸»è—å¹²'
      },
      core: {
        intro: 'ä½ çœŸæ­£ç¨³å®šçš„é©±åŠ¨åŠ›æ˜¯',
        keyword: 'ã€Œè¿½æ±‚æ·±åº¦ç†è§£ã€',
        description: 'ä½ å¤©ç”Ÿå¯¹è¡¨è±¡ä¸æ»¡è¶³ï¼Œæ€»æƒ³æ¢ç©¶äº‹ç‰©èƒŒåçš„æœ¬è´¨ã€‚è¿™è®©ä½ åœ¨ç ”ç©¶ã€åˆ†æã€ç­–ç•¥åˆ¶å®šæ–¹é¢æœ‰ç‹¬ç‰¹ä¼˜åŠ¿ã€‚',
        evidence: 'æ¥æºï¼šæ—¥ä¸»ç”²æœ¨ Â· åå°æ ¼'
      },
      outer: {
        intro: 'ä½ ç»™äººçš„æ„Ÿè§‰æ˜¯',
        keyword: 'ã€Œå¯é çš„æ€è€ƒè€…ã€',
        description: 'åˆ«äººçœ¼ä¸­çš„ä½ æ²‰ç¨³ã€ç†æ€§ï¼Œæ˜¯å¯ä»¥ä¿¡èµ–çš„åˆ†æè€…å’Œé—®é¢˜è§£å†³è€…ã€‚',
        evidence: 'æ¥æºï¼šä¸Šå‡æ˜Ÿåº§ Â· åç¥ç»“æ„'
      }
    };
    
    function switchPrism(value) {
      const toggle = document.querySelector('.identity-prism .tri-toggle');
      toggle.dataset.value = value;
      
      // Update active button
      toggle.querySelectorAll('.tri-toggle-btn').forEach(btn => btn.classList.remove('active'));
      toggle.querySelectorAll('.tri-toggle-btn')[['inner', 'core', 'outer'].indexOf(value)].classList.add('active');
      
      // Update content
      const data = prismData[value];
      document.getElementById('prism-intro').textContent = data.intro;
      document.getElementById('prism-keyword').textContent = data.keyword;
      document.getElementById('prism-description').textContent = data.description;
      document.getElementById('prism-evidence').textContent = data.evidence;
    }
    
    function switchMePrism(value) {
      const toggle = document.getElementById('me-toggle');
      toggle.dataset.value = value;
      
      toggle.querySelectorAll('.tri-toggle-btn').forEach(btn => btn.classList.remove('active'));
      toggle.querySelectorAll('.tri-toggle-btn')[['inner', 'core', 'outer'].indexOf(value)].classList.add('active');
      
      const data = prismData[value];
      document.getElementById('me-prism-intro').textContent = data.intro;
      document.getElementById('me-prism-keyword').textContent = data.keyword;
      document.getElementById('me-prism-description').textContent = data.description;
    }
    
    function switchPanelPrism(value) {
      const toggle = document.getElementById('panel-toggle');
      toggle.dataset.value = value;
      
      toggle.querySelectorAll('.tri-toggle-btn').forEach(btn => btn.classList.remove('active'));
      toggle.querySelectorAll('.tri-toggle-btn')[['inner', 'core', 'outer'].indexOf(value)].classList.add('active');
      
      const data = prismData[value];
      document.getElementById('panel-prism-intro').textContent = data.intro;
      document.getElementById('panel-prism-keyword').textContent = data.keyword;
    }
    
    // Bottom sheet
    function openInsightSheet() {
      document.getElementById('sheet-overlay').classList.add('active');
      document.getElementById('insight-sheet').classList.add('active');
      document.body.style.overflow = 'hidden';
    }
    
    function closeInsightSheet() {
      document.getElementById('sheet-overlay').classList.remove('active');
      document.getElementById('insight-sheet').classList.remove('active');
      document.body.style.overflow = '';
    }
    
    // Transition overlay
    function showTransition() {
      document.getElementById('transition-overlay').classList.add('active');
      setTimeout(() => {
        skipTransition();
      }, 2000);
    }
    
    function skipTransition() {
      document.getElementById('transition-overlay').classList.remove('active');
    }
    
    // Chat functions
    function addUserMessage(text) {
      const chatMessages = document.querySelector('.chat-messages');
      const now = new Date();
      const time = now.getHours() + ':' + String(now.getMinutes()).padStart(2, '0');
      
      const msgHtml = `
        <div class="message user">
          <div class="message-bubble">${text}</div>
          <div class="message-time">${time}</div>
        </div>
      `;
      chatMessages.insertAdjacentHTML('beforeend', msgHtml);
      chatMessages.scrollTop = chatMessages.scrollHeight;
      
      // Simulate AI response
      setTimeout(() => {
        addAIResponse(text);
      }, 1000);
    }
    
    function addAIResponse(userText) {
      const chatMessages = document.querySelector('.chat-messages');
      const now = new Date();
      const time = now.getHours() + ':' + String(now.getMinutes()).padStart(2, '0');
      
      let response = 'è®©æˆ‘çœ‹çœ‹ä½ çš„å‘½ç›˜...';
      if (userText.includes('äº‹ä¸š')) {
        response = 'ä»ä½ çš„å…«å­—æ¥çœ‹ï¼Œä»Šå¹´äº‹ä¸šè¿åŠ¿å¤„äºè“„åŠ›æœŸã€‚åå°é€å‡ºæ„å‘³ç€é€‚åˆå­¦ä¹ æ–°æŠ€èƒ½ã€åšæ·±åº¦ç ”ç©¶ï¼Œä½†ä¸å®œæ€¥äºæ±‚æˆã€‚å»ºè®®è¿™æ®µæ—¶é—´å¤šç§¯ç´¯ï¼Œç­‰å¾…ä¸‹åŠå¹´çš„æœºä¼šã€‚';
      } else if (userText.includes('æ„Ÿæƒ…')) {
        response = 'æ„Ÿæƒ…æ–¹é¢ï¼Œä½ çš„æ—¥æ”¯å­æ°´ä¸æœˆæ”¯å¯…æœ¨å½¢æˆç›¸ç”Ÿå…³ç³»ï¼Œè¯´æ˜ä½ åœ¨äº²å¯†å…³ç³»ä¸­å€¾å‘äºç»™äºˆå’Œæ»‹å…»ã€‚ä¸è¿‡æœ¨æ—ºçš„ç‰¹è´¨ä¹Ÿè®©ä½ å®¹æ˜“åœ¨æ„Ÿæƒ…ä¸­"æƒ³å¤ªå¤š"ï¼Œå»ºè®®å¤šå…³æ³¨å½“ä¸‹çš„æ„Ÿå—ã€‚';
      } else if (userText.includes('é€‚åˆ')) {
        response = 'æœ€è¿‘é€‚åˆåšä¸€äº›éœ€è¦æ·±åº¦æ€è€ƒçš„äº‹æƒ…ï¼Œæ¯”å¦‚å­¦ä¹ ã€è§„åˆ’ã€æ¢³ç†ã€‚åå°è¿æœŸé—´çš„èƒ½é‡æ›´é€‚åˆå†…åœ¨ç§¯ç´¯ã€‚å¦‚æœæœ‰é‡å¤§å†³ç­–ï¼Œå»ºè®®ç­‰åˆ°3æœˆä¹‹åå†è¡ŒåŠ¨ã€‚';
      }
      
      const msgHtml = `
        <div class="message ai">
          <div class="message-bubble">${response}</div>
          <div class="message-time">${time}</div>
        </div>
      `;
      chatMessages.insertAdjacentHTML('beforeend', msgHtml);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }
    
    function sendMessage() {
      const input = document.getElementById('chat-input');
      const text = input.value.trim();
      if (text) {
        addUserMessage(text);
        input.value = '';
      }
    }
    
    // Enter key to send
    document.getElementById('chat-input').addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        sendMessage();
      }
    });
    
    // Advanced toggle
    function toggleAdvanced() {
      const fields = document.getElementById('advanced-fields');
      fields.classList.toggle('show');
    }
  </script>
</body>
</html>
