<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Protocol å¡ç‰‡å‰ç«¯é›†æˆæµ‹è¯•</title>
    <script>
        // æ¨¡æ‹Ÿ AI SDK çš„ tool call è¿”å›æ•°æ®
        const mockToolCalls = [
            {
                name: "show_protocol_progress",
                result: {
                    card_type: "protocol_progress",
                    data: {
                        protocol_id: "dankoe_vision",
                        protocol_name: "æ„¿æ™¯è®¾è®¡åè®®",
                        step: 3,
                        total: 8,
                        phase: "Phase 1",
                        phase_name: "å‹¾å‹’æ„¿æ™¯ç”»é¢",
                        is_completed: false,
                        generated_at: new Date().toISOString()
                    }
                }
            },
            {
                name: "show_protocol_step",
                result: {
                    card_type: "protocol_step",
                    data: {
                        step_number: 1,
                        step_name: "æç»˜ç†æƒ³åœºæ™¯",
                        content: "é—­ä¸Šçœ¼ç›ï¼Œæƒ³è±¡3å¹´åçš„ä¸€ä¸ªæ™®é€šå‘¨äºŒ...\n\nä½ åœ¨å“ªé‡Œï¼Ÿå‘¨å›´æ˜¯ä»€ä¹ˆæ ·çš„ç¯å¢ƒï¼Ÿ",
                        is_question: false,
                        generated_at: new Date().toISOString()
                    }
                }
            },
            {
                name: "show_protocol_completion",
                result: {
                    card_type: "protocol_completion",
                    data: {
                        protocol_name: "æ„¿æ™¯è®¾è®¡åè®®",
                        completed_steps: 8,
                        total_steps: 8,
                        summary: "æ­å–œï¼ä½ å·²ç»å®Œæˆäº†æ„¿æ™¯è®¾è®¡åè®®ã€‚",
                        next_actions: [
                            "è®¾å®šä¸€å¹´ç›®æ ‡ï¼ˆä¸»çº¿ä»»åŠ¡ï¼‰",
                            "è®¾è®¡æœ¬æœˆé¡¹ç›®ï¼ˆBossæˆ˜ï¼‰"
                        ],
                        generated_at: new Date().toISOString()
                    }
                }
            }
        ];

        function testCardRegistry() {
            console.log("ğŸ§ª æµ‹è¯• CardRegistry");

            // æ£€æŸ¥ CardRegistry æ˜¯å¦å­˜åœ¨
            if (typeof CardRegistry === "undefined") {
                console.error("âŒ CardRegistry æœªå®šä¹‰");
                return false;
            }

            console.log("âœ… CardRegistry å·²åŠ è½½");

            // æ£€æŸ¥å¡ç‰‡ç±»å‹æ˜¯å¦æ³¨å†Œ
            const expectedTypes = [
                "protocol_progress",
                "protocol_step",
                "protocol_completion"
            ];

            let allRegistered = true;
            for (const type of expectedTypes) {
                const hasCard = CardRegistry.has(type);
                if (hasCard) {
                    console.log(`âœ… ${type} å·²æ³¨å†Œ`);
                } else {
                    console.error(`âŒ ${type} æœªæ³¨å†Œ`);
                    allRegistered = false;
                }
            }

            return allRegistered;
        }

        function renderMockCards() {
            console.log("ğŸ¨ æ¸²æŸ“æ¨¡æ‹Ÿå¡ç‰‡");

            // è¿™éœ€è¦åœ¨å®é™…çš„ Next.js ç¯å¢ƒä¸­è¿è¡Œ
            console.log("âš ï¸  æ­¤æµ‹è¯•éœ€è¦åœ¨æµè§ˆå™¨ä¸­çš„å®é™…åº”ç”¨ç¯å¢ƒä¸­è¿è¡Œ");
            console.log("   è¯·è®¿é—®: http://localhost:8232/chat/lifecoach");
            console.log("   ç„¶ååœ¨æ§åˆ¶å°è¿è¡Œ: testCardRegistry()");
        }

        console.log("ğŸ“‹ æµ‹è¯•å·¥å…·å·²åŠ è½½");
        console.log("   è¿è¡Œ testCardRegistry() æ£€æŸ¥å¡ç‰‡æ³¨å†Œ");
        console.log("   è¿è¡Œ renderMockCards() æŸ¥çœ‹å¡ç‰‡æ¸²æŸ“");
    </script>
</head>
<body>
    <h1>Protocol å¡ç‰‡å‰ç«¯é›†æˆæµ‹è¯•</h1>
    <p>æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹æµ‹è¯•è¯´æ˜</p>

    <h2>æµ‹è¯•æ­¥éª¤ï¼š</h2>
    <ol>
        <li>å¯åŠ¨æµ‹è¯•ç¯å¢ƒ: <code>npm run dev</code></li>
        <li>è®¿é—®: <a href="http://localhost:8232/chat/lifecoach">http://localhost:8232/chat/lifecoach</a></li>
        <li>æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰</li>
        <li>è¿è¡Œ: <code>testCardRegistry()</code></li>
        <li>æ£€æŸ¥è¾“å‡ºï¼Œç¡®è®¤æ‰€æœ‰å¡ç‰‡ç±»å‹å·²æ³¨å†Œ</li>
    </ol>

    <h2>é¢„æœŸå¡ç‰‡æ•°æ®æ ¼å¼ï¼š</h2>
    <pre id="mock-data"></pre>

    <script>
        document.getElementById("mock-data").textContent = JSON.stringify(mockToolCalls, null, 2);
    </script>
</body>
</html>
