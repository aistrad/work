# SKILL.md 模板

本模板定义了 SKILL.md 的标准结构，请严格按照此模板编写。

---

## 模板

```markdown
---
name: {skill-name}
description: {一句话描述}。触发词：{词1}、{词2}、{词3}。
---

# {Skill 中文名} Skill

## 专家身份

{专家身份描述，2-3 段}

**核心理念**：
- {理念 1}
- {理念 2}
- {理念 3}

**知识来源优先级**：
1. {来源 1}
2. {来源 2}
3. {来源 3}

---

## 核心能力索引

| 能力 | 优先级 | 规则文件 | 触发场景 |
|-----|-------|---------|---------|
| {能力 1} | CRITICAL | `rules/{file-1}.md` | {触发场景描述} |
| {能力 2} | HIGH | `rules/{file-2}.md` | {触发场景描述} |
| {能力 3} | HIGH | `rules/{file-3}.md` | {触发场景描述} |
| {能力 4} | MEDIUM | `rules/{file-4}.md` | {触发场景描述} |
| {能力 5} | MEDIUM | `rules/{file-5}.md` | {触发场景描述} |
| {能力 6} | LOW | `rules/{file-6}.md` | {触发场景描述} |

**使用方式**：匹配用户意图后，读取对应规则文件获取详细分析步骤。

---

## 工具快速参考

### 信息收集
| 工具 | 用途 | 何时调用 |
|-----|------|---------|
| `collect_{skill}_info` | 收集用户信息 | 用户未提供必要信息时 |
| `request_info` | 请求补充信息 | 需要更多信息时 |

### 展示工具
| 工具 | 用途 | 何时调用 |
|-----|------|---------|
| `show_{skill}_chart` | 展示主图表 | 用户想看图表时 |
| `show_{skill}_detail` | 展示详情 | 用户想看详情时 |
| `show_insight` | 展示洞察卡片 | 总结分析结果时 |

### 检索工具
| 工具 | 用途 | 何时调用 |
|-----|------|---------|
| `search_db` | 检索知识/案例 | 需要专业知识支撑时 |

---

## 知识检索策略

| 检索类型 | Query 模式 | 示例 |
|---------|-----------|------|
| 理论知识 | "{概念} 理论 原理" | "{主题} 理论 原理" |
| 分析方法 | "{主题} 分析方法" | "{主题} 分析方法 步骤" |
| 规则依据 | "{主题} 规则 原则" | "{主题} 规则 原则" |
| 参考案例 | "{特征} 案例" | "{特征} 案例" |
| 经典引用 | "{书名} {主题}" | "{书名} {主题}" |

**原则**：不确定时先检索，query 要具体，结果作为依据。

---

## 服务原则

1. **框架完整**：按分析框架覆盖关键要点，不遗漏
2. **知识支撑**：重要结论必须有知识库检索结果支撑
3. **工具优先**：用工具展示结果（图表、洞察卡片）
4. **引导深入**：分析后引导用户探索更多方面
5. **语言亲和**：用通俗语言解读，避免过多术语

---

## 伦理边界

### 绝对禁止
- {禁止事项 1}
- {禁止事项 2}
- {禁止事项 3}
- {禁止事项 4}

### 敏感话题处理
| 话题 | 处理方式 |
|-----|---------|
| {话题 1} | {处理方式} |
| {话题 2} | {处理方式} |
| {话题 3} | {处理方式} |

---

## 详细文档

- 分析规则详情: `rules/*.md`
- 工具定义: `tools/tools.yaml`
```

---

## 填写说明

### Frontmatter

| 字段 | 说明 | 示例 |
|-----|------|------|
| `name` | Skill ID，kebab-case | `bazi`, `zodiac` |
| `description` | 一句话描述 + 触发词 | `八字命理专家。触发词：八字、命盘、算命。` |

### 专家身份

- 2-3 段描述专家角色
- 列出 3 个核心理念
- 列出知识来源优先级（3-4 个）

### 核心能力索引

- 5-10 个核心能力
- 每个能力标注优先级（CRITICAL/HIGH/MEDIUM/LOW）
- 每个能力指向对应的 framework 文件
- 触发场景用逗号分隔的关键词

### 工具快速参考

- 按类别分组（信息收集、展示工具、检索工具）
- 每个工具说明用途和调用时机

### 知识检索策略

- 列出 4-5 种检索类型
- 提供 Query 模式和示例

### 服务原则

- 固定 5 条原则
- 可根据 Skill 特点微调措辞

### 伦理边界

- 列出 4-5 个绝对禁止事项
- 列出 3-4 个敏感话题及处理方式

---

## 行数检查

| 部分 | 目标行数 | 检查 |
|-----|---------|------|
| Frontmatter | ~5 行 | |
| 专家身份 | ~20 行 | |
| 核心能力索引 | ~15 行 | |
| 工具快速参考 | ~25 行 | |
| 知识检索策略 | ~15 行 | |
| 服务原则 | ~15 行 | |
| 伦理边界 | ~20 行 | |
| 分隔线和标题 | ~15 行 | |
| **总计** | **< 200 行** | |
