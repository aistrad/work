# Lifecoach 通用教练框架

> Version: 3.0 | Date: 2026-01-19
> 定义所有教练方法论共享的流程、数据、工具规范

---

## 1. 框架概述

Lifecoach 采用**方法论插件化**架构：
- **通用框架**：定义流程阶段、数据结构、工具接口
- **方法论协议**：每个方法论是一个完整的教练流程（rule 文件）
- **陪伴系统**：方法论无关的日常陪伴

```
┌─────────────────────────────────────────────────────────────────────────┐
│                         Lifecoach 架构                                   │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                    SKILL.md (通用框架)                           │   │
│  │  • 专家身份                                                      │   │
│  │  • 方法论索引                                                    │   │
│  │  • 通用流程框架                                                  │   │
│  │  • 陪伴系统                                                      │   │
│  │  • 工具快速参考                                                  │   │
│  │  • 服务原则 + 伦理边界                                           │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                                                                         │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                    rules/ (方法论协议)                           │   │
│  │                                                                  │   │
│  │  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐           │   │
│  │  │ dankoe   │ │  covey   │ │ yangming │ │ liaofan  │           │   │
│  │  │ 一日重置 │ │ 7 Habits │ │  心学    │ │ 四训     │           │   │
│  │  └──────────┘ └──────────┘ └──────────┘ └──────────┘           │   │
│  │                                                                  │   │
│  │  ┌─────────────────────────────────────────────────────────┐   │   │
│  │  │                  companion/ (陪伴规则)                    │   │   │
│  │  │  daily-checkin | weekly-review | monthly-review          │   │   │
│  │  └─────────────────────────────────────────────────────────┘   │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

---

## 2. 通用流程框架

所有方法论都遵循**四阶段流程**：

```
┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐
│  诊断   │ → │  设计   │ → │  执行   │ → │  复盘   │
│ Diagnose│    │ Design  │    │ Execute │    │ Review  │
└─────────┘    └─────────┘    └─────────┘    └─────────┘
     │              │              │              │
     ▼              ▼              ▼              ▼
  理解现状      构建愿景      制定计划      回顾调整
  识别问题      设定目标      采取行动      持续改进
```

### 2.1 阶段定义

| 阶段 | 目的 | 核心活动 | 数据输出 |
|-----|------|---------|---------|
| **诊断** | 理解现状、识别问题 | 提问、倾听、分析 | journal (insight) |
| **设计** | 构建愿景、设定目标 | 引导、澄清、确认 | north_star, goals |
| **执行** | 制定计划、采取行动 | 拆解、规划、承诺 | roadmap, current |
| **复盘** | 回顾进展、调整方向 | 反思、庆祝、调整 | journal, progress |

### 2.2 方法论映射

每个方法论必须将其流程映射到四阶段：

| 方法论 | 诊断 | 设计 | 执行 | 复盘 |
|-------|------|------|------|------|
| Dan Koe | 心理考古 | 反愿景+愿景 | 身份+目标层级 | 游戏化整合 |
| Covey | 效能诊断 | 使命宣言 | 角色+大石头 | 周复盘 |
| 王阳明 | 省察克治 | 致良知 | 事上磨练 | 日课反省 |
| 了凡四训 | 认命 | 立命 | 改过+积善 | 功过格 |

---

## 3. 数据结构规范

所有方法论共享同一套数据结构，存储在 `life_context._paths["lifecoach"]`。

### 3.1 核心字段

```json
{
  "lifecoach": {
    "system": {
      "active_framework": "dankoe",
      "persona": "future_self",
      "initialized_at": "2026-01-19T10:00:00Z"
    },
    "north_star": { ... },
    "goals": [ ... ],
    "roadmap": { ... },
    "current": { ... },
    "identity": { ... },
    "progress": { ... },
    "journal": [ ... ]
  }
}
```

### 3.2 方法论数据映射

| 通用字段 | Dan Koe | Covey | 王阳明 | 了凡四训 |
|---------|---------|-------|-------|---------|
| `north_star.vision` | 愿景MVP | 使命宣言 | 良知 | 立命 |
| `north_star.anti_vision` | 反愿景 | - | 私欲/习气 | 过 |
| `north_star.principles` | 约束 | 原则 | 天理 | 谦德 |
| `goals[]` | - | 角色目标 | 志向 | 善行类别 |
| `identity.target` | 新身份 | - | 圣人 | 君子 |
| `identity.current` | 旧身份 | - | 凡夫 | 凡夫 |
| `roadmap.year` | 一年目标 | 年度目标 | 年志 | 年度善行 |
| `current.month` | Boss战 | 月度项目 | 月课 | 月度功过 |
| `current.week` | - | 大石头 | 周课 | 周度功过 |
| `current.daily` | 每日杠杆 | 每日任务 | 日课 | 日行一善 |
| `journal[]` | 洞察日志 | 周复盘 | 省察录 | 功过格 |

---

## 4. 工具接口规范

### 4.1 数据工具

| 工具 | 用途 | 参数 |
|-----|------|------|
| `read_lifecoach_state` | 读取状态 | sections: string[] |
| `write_lifecoach_state` | 写入状态 | section: string, data: object |
| `add_journal_entry` | 添加日志 | entry_type, content, ... |
| `update_progress` | 更新进度 | action_type, ... |

### 4.2 展示工具

| 工具 | 卡片类型 | 适用方法论 |
|-----|---------|-----------|
| `show_vision_map` | VisionMapCard | Dan Koe, 王阳明 |
| `show_identity_design` | IdentityDesignCard | Dan Koe, 王阳明 |
| `show_life_game` | LifeGameCard | Dan Koe |
| `show_action_plan` | ActionPlanCard | 通用 |
| `show_role_balance` | RoleBalanceCard | Covey |
| `show_weekly_rocks` | WeeklyRocksCard | Covey |
| `show_merit_ledger` | MeritLedgerCard | 了凡四训 |
| `show_daily_reflection` | DailyReflectionCard | 王阳明, 了凡四训 |
| `show_progress_streak` | ProgressStreakCard | 通用 |

---

## 5. 陪伴系统规范

陪伴系统是**方法论无关**的，所有方法论共享。

### 5.1 触发机制

| 触发类型 | 时间/条件 | 规则文件 | 说明 |
|---------|----------|---------|------|
| 每日签到 | 每日 8:00 | `companion/daily-checkin.md` | 今日计划提醒 |
| 周复盘 | 周日 20:00 | `companion/weekly-review.md` | 周回顾+下周规划 |
| 月度检查 | 每月1日 | `companion/monthly-review.md` | 月度进度检查 |
| 卡点检测 | 连续3天未签到 | - | 关怀询问 |
| 里程碑庆祝 | 完成关键目标 | - | 庆祝+下一步引导 |

### 5.2 陪伴内容适配

陪伴系统根据 `system.active_framework` 适配内容：

| 方法论 | 每日提醒内容 | 周复盘内容 |
|-------|------------|-----------|
| Dan Koe | 今日杠杆行动 | Boss战进度 |
| Covey | 今日大石头 | 角色平衡 |
| 王阳明 | 今日日课 | 省察总结 |
| 了凡四训 | 今日善行 | 功过统计 |

---

## 6. 方法论协议规范

每个方法论是一个 rule 文件，必须包含以下部分：

### 6.1 Frontmatter

```yaml
---
id: {methodology-id}
name: {方法论名称}
impact: HIGH
impactDescription: {影响说明}
tags: {触发词列表}
origin: {来源/创始人}
card_types: [{该方法论使用的卡片类型}]
---
```

### 6.2 必须包含的章节

1. **核心理念**：3 个核心信念 + 核心引用
2. **协议流程**：4 个阶段的详细步骤
3. **数据映射**：本方法论概念到通用字段的映射
4. **启动前**：读取状态的要求
5. **完成后**：写入状态的要求
6. **适用人群**：适合使用该方法论的用户
7. **不适用场景**：不建议使用的情况

---

## 7. 前端卡片规范

### 7.1 通用卡片

所有方法论共享的卡片：

| 卡片 | 用途 | 数据来源 |
|-----|------|---------|
| `ProgressStreakCard` | 连续签到统计 | progress |
| `ActionPlanCard` | 行动计划展示 | current |
| `JournalCard` | 日志/复盘展示 | journal |

### 7.2 方法论特定卡片

| 方法论 | 特定卡片 | 用途 |
|-------|---------|------|
| Dan Koe | `VisionMapCard` | 愿景/反愿景地图 |
| Dan Koe | `IdentityDesignCard` | 身份转换设计 |
| Dan Koe | `LifeGameCard` | 人生游戏化 |
| Covey | `RoleBalanceCard` | 角色平衡轮 |
| Covey | `WeeklyRocksCard` | 周大石头 |
| 王阳明 | `ConscienceCard` | 良知觉察 |
| 王阳明 | `DailyReflectionCard` | 日课反省 |
| 了凡四训 | `MeritLedgerCard` | 功过格 |
| 了凡四训 | `FateTransformCard` | 改命进度 |

---

## 8. 版本历史

| 版本 | 日期 | 变更 |
|-----|------|------|
| 3.0 | 2026-01-19 | 重构：方法论插件化架构 |
| 2.0 | 2026-01-19 | 新增：持续陪伴、多方法论支持 |
| 1.0 | 2026-01-15 | 初版：基于 Dan Koe |
