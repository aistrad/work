# VibeLife 30ç§’ Onboarding æµç¨‹åŸå‹è®¾è®¡

> **æ–‡æ¡£ç‰ˆæœ¬**: v1.0
> **è®¾è®¡æ—¥æœŸ**: 2026-01-07
> **è®¾è®¡åŸåˆ™**: Aha Moment ä¼˜å…ˆï¼Œå…ˆç»™ä»·å€¼å†è¦ä¿¡æ¯
> **æ ¸å¿ƒç›®æ ‡**: 30ç§’å†…è®©ç”¨æˆ·äº§ç”Ÿ"å“‡ï¼Œè¿™ä¸œè¥¿çœŸå‡†"çš„é¡¿æ‚Ÿæ—¶åˆ»

---

## 1. è®¾è®¡å“²å­¦

### 1.1 ä¼ ç»Ÿæµç¨‹ vs ä¼˜åŒ–æµç¨‹å¯¹æ¯”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä¼ ç»Ÿ Onboarding æµç¨‹ï¼ˆé—®é¢˜ç‰ˆï¼‰                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚   ç”¨æˆ·è¿›å…¥ â†’ å¼ºåˆ¶è®¿è°ˆ(10ä¸ªé—®é¢˜) â†’ ç­‰å¾…åˆ†æ â†’ çœ‹åˆ°ç»“æœ            â”‚
â”‚       â”‚            â”‚                  â”‚           â”‚             â”‚
â”‚       â–¼            â–¼                  â–¼           â–¼             â”‚
â”‚    æ³¨å†Œèµ·ç‚¹    æµå¤±ç‡60%+         æµå¤±ç‡40%+    Aha Moment      â”‚
â”‚                                                                  â”‚
â”‚   é—®é¢˜ï¼šå¤§å¤šæ•°ç”¨æˆ·åœ¨Aha Momentå‰å°±æµå¤±äº†                         â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä¼˜åŒ–å Onboarding æµç¨‹                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚   ç”¨æˆ·è¿›å…¥ â†’ å¿«é€Ÿé€‰æ‹©(1é¢˜) â†’ ç«‹å³çœ‹åˆ°å‘½ç›˜ â†’ ä»Šæ—¥è¿åŠ¿ â†’ ğŸ”¥Aha!   â”‚
â”‚       â”‚           â”‚              â”‚            â”‚       â”‚         â”‚
â”‚       â–¼           â–¼              â–¼            â–¼       â–¼         â”‚
â”‚    æ³¨å†Œèµ·ç‚¹    æµå¤±ç‡<10%     æµå¤±ç‡<15%   å…è´¹ä»·å€¼  é¡¿æ‚Ÿæ—¶åˆ»    â”‚
â”‚                                                                  â”‚
â”‚   æ ¸å¿ƒæ”¹å˜ï¼šå…ˆç»™ä»·å€¼ï¼Œå»ºç«‹ä¿¡ä»»ï¼Œå†è¦æ·±åº¦ä¿¡æ¯                     â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 æ ¸å¿ƒè®¾è®¡åŸåˆ™

| åŸåˆ™ | è¯´æ˜ | å®ç° |
|------|------|------|
| **30ç§’æ³•åˆ™** | Aha Momentå¿…é¡»åœ¨30ç§’å†…å‘ç”Ÿ | å¿«é€Ÿé—®é¢˜ + å³æ—¶åé¦ˆ |
| **ä»·å€¼å…ˆè¡Œ** | å…ˆå±•ç¤ºèƒ½åŠ›ï¼Œå†ç´¢å–ä¿¡æ¯ | å‘½ç›˜é¢„è§ˆæ— éœ€è®¿è°ˆ |
| **æ¸è¿›å¼æŠ«éœ²** | ä¿¡æ¯é€æ­¥äº¤æ¢ï¼Œé™ä½é—¨æ§› | å…ˆ3é¢˜å¿«é€Ÿï¼Œå10é¢˜æ·±åº¦ |
| **è§†è§‰å†²å‡»** | ç¬¬ä¸€çœ¼å¿…é¡»"å“‡" | ä¸“ä¸šå‘½ç›˜+åŠ¨æ€æ•ˆæœ |
| **å…è´¹ä»·å€¼æ˜ç¡®** | å…è´¹ç”¨æˆ·ä¹Ÿæ„Ÿåˆ°ç‰©è¶…æ‰€å€¼ | ä»Šæ—¥è¿åŠ¿+è½»åº¦è§£è¯» |
| **ä»˜è´¹è§¦å‘è‡ªç„¶** | å½“ç”¨æˆ·æƒ³è¦æ›´å¤šæ—¶æ‰ä»˜è´¹ | ä¸»åŠ¨è¯·æ±‚æ·±åº¦åˆ†æ |

---

## 2. ç§’çº§æµç¨‹è¯¦è§£

### 2.1 å®Œæ•´30ç§’æµç¨‹æ—¶é—´è½´

```
æ—¶é—´è½´      ç”¨æˆ·æ“ä½œ                    ç³»ç»Ÿå“åº”                  è®¾è®¡æ„å›¾
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 0s        ç‚¹å‡»"å¼€å§‹å¯¹è¯"               è·³è½¬åˆ°å¿«é€Ÿé€‰æ‹©é¡µé¢          é™ä½é—¨æ§›
  â”‚
 3s        é€‰æ‹©ä»Šæ—¥å…³æ³¨ç‚¹               ç«‹å³å¼€å§‹è®¡ç®—å‘½ç›˜            å•é€‰é™ä½è®¤çŸ¥è´Ÿæ‹…
 â”‚          â”œâ”€ æ„Ÿæƒ…è¿åŠ¿              (åå°ä½¿ç”¨ç®€åŒ–çš„å…«å­—ç®—æ³•)
 â”‚          â”œâ”€ èŒä¸šå‘å±•
 â”‚          â””â”€ è‡ªæˆ‘è®¤çŸ¥
 â”‚
 8s        çœ‹åˆ°å‘½ç›˜å¯è§†åŒ–ï¼ˆåŠ è½½åŠ¨ç”»ï¼‰    "æ­£åœ¨ä¸ºä½ ç»˜åˆ¶å‘½ç›˜..."       åˆ¶é€ æœŸå¾…æ„Ÿ
 â”‚          â–¼                                                     â”‚
12s        ğŸ”¥ Aha Moment #1             "ä½ æ˜¯ä¸™ç«æ—¥ä¸»ï¼Œ            è§†è§‰å†²å‡»+
 â”‚          ä¸“ä¸šå‘½ç›˜å±•ç¤º                å¤©ç”Ÿæ¸©æš–æ˜äº®..."            å³æ—¶ä¸ªæ€§åŒ–
 â”‚            â”œâ”€ å››æŸ±å…«å­—                                        â”‚
 â”‚            â”œâ”€ äº”è¡Œé…è‰²                                        â”‚
 â”‚            â””â”€ æ—¥ä¸»çªå‡ºæ˜¾ç¤º                                    â”‚
 â”‚
18s        çœ‹åˆ°ä»Šæ—¥è¿åŠ¿å¡ç‰‡             "æœ¬å‘¨ä½ çš„è´µäººè¿â¬†ï¸ï¼Œ        å…è´¹ä»·å€¼+
 â”‚          (æ»šåŠ¨å‡ºç°)                 é€‚åˆä¸»åŠ¨å‡ºå‡»..."            å®ç”¨å»ºè®®
 â”‚            â”œâ”€ è¿åŠ¿æŒ‡æ•°(65/100)                               â”‚
 â”‚            â”œâ”€ ä»Šæ—¥å®œå¿Œ                                        â”‚
 â”‚            â””â”€ ä¸€å¥è¯é‡‘å¥                                     â”‚
 â”‚
25s        è‡ªåŠ¨å¼¹å‡ºå¼•å¯¼                 "æƒ³è¦æ›´æ·±åº¦è§£è¯»å—ï¼Ÿ        è‡ªç„¶å¼•å¯¼ï¼Œ
 â”‚          (éå¼ºåˆ¶)                    åªéœ€3ä¸ªé—®é¢˜..."            ä¸æ‰“æ–­ä½“éªŒ
 â”‚           â”œâ”€ "ç»§ç»­æ·±åº¦è§£è¯»"æŒ‰é’®                              â”‚
 â”‚           â””â”€ "æš‚æ—¶å…ˆçœ‹çœ‹"è·³è¿‡æŒ‰é’®                             â”‚
 â”‚
30s        ğŸ”¥ Aha Moment #2             ç”¨æˆ·æ„Ÿå—åˆ°ï¼š"è¿™ä¸œè¥¿        æƒ…æ„Ÿè¿æ¥
 â”‚          (å¦‚æœç‚¹å‡»ç»§ç»­)               çœŸçš„æ‡‚æˆ‘ï¼"               å»ºç«‹ä¿¡ä»»
 â”‚          å¼€å§‹æ·±åº¦è®¿è°ˆ(3ä¸ªé—®é¢˜)                                 â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

### 2.2 å…³é”®çŠ¶æ€æœºè®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç”¨æˆ·çŠ¶æ€è½¬æ¢                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚   STATE_NEW (æ–°ç”¨æˆ·)                                            â”‚
â”‚        â”‚                                                        â”‚
â”‚        â–¼ é€‰æ‹©å…³æ³¨ç‚¹                                             â”‚
â”‚   STATE_QUICK_ANSWER (å¿«é€Ÿå›ç­”)                                  â”‚
â”‚        â”‚                                                        â”‚
â”‚        â–¼ çœ‹åˆ°å‘½ç›˜é¢„è§ˆ                                           â”‚
â”‚   STATE_AHA_VISUAL (è§†è§‰é¡¿æ‚Ÿ)                                    â”‚
â”‚        â”‚                                                        â”‚
â”‚        â–¼ çœ‹åˆ°ä»Šæ—¥è¿åŠ¿                                           â”‚
â”‚   STATE_AHA_VALUE (ä»·å€¼é¡¿æ‚Ÿ)                                     â”‚
â”‚        â”‚                                                        â”‚
â”‚        â”œâ”€â”€ è·³è¿‡ â”€â”€â–º STATE_LIGHT_USER (è½»åº¦ç”¨æˆ·)                 â”‚
â”‚        â”‚           - ç»§ç»­æµè§ˆ                                   â”‚
â”‚        â”‚           - å¯èƒ½åˆ†äº«                                   â”‚
â”‚        â”‚           - æœªæ¥å¯èƒ½è½¬åŒ–                               â”‚
â”‚        â”‚                                                        â”‚
â”‚        â””â”€â”€ ç»§ç»­ â”€â”€â–º STATE_DEEP_INTERVIEW (æ·±åº¦è®¿è°ˆ)             â”‚
â”‚                    â”‚                                            â”‚
â”‚                    â–¼ å®Œæˆ3ä¸ªæ ¸å¿ƒé—®é¢˜                            â”‚
â”‚                STATE_ENGAGED (å·²æŠ•å…¥ç”¨æˆ·)                        â”‚
â”‚                        â”‚                                        â”‚
â”‚                        â–¼ çœ‹åˆ°ä»˜è´¹å¢™                             â”‚
â”‚                    STATE_CONVERT (è½¬åŒ–å†³ç­–)                     â”‚
â”‚                        â”œâ”€â”€ ä»˜è´¹ â”€â”€â–º PAID_USER                   â”‚
â”‚                        â””â”€â”€ ç¦»å¼€ â”€â”€â–º è®°å½•è¡Œä¸ºï¼Œåç»­å¬å›           â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. é¡µé¢çº§äº¤äº’è®¾è®¡

### 3.1 Landing é¡µé¢ä¼˜åŒ–

**ç›®æ ‡**: 5ç§’å†…ä¼ è¾¾"è¿™æ˜¯ä»€ä¹ˆ"+"èƒ½ä¸ºæˆ‘åšä»€ä¹ˆ"

```typescript
// apps/web/src/app/(bazi)/page.tsx
export default function BaziLandingPage() {
  return (
    <div className="min-h-screen bg-gradient-to-b from-amber-50 to-vellum">
      {/* Hero Section - 3ç§’ä¼ è¾¾æ ¸å¿ƒä»·å€¼ */}
      <section className="container mx-auto px-4 py-16 text-center">
        <h1 className="text-5xl font-serif text-ink mb-4">
          AI å…«å­—å‘½ç†
        </h1>
        <p className="text-xl text-ink/70 mb-8">
          åƒå¤§å¸ˆä¸€æ ·ä¸“ä¸šï¼Œåƒé—ºèœœä¸€æ ·æ‡‚ä½ 
        </p>

        {/* 3ä¸ªå¿«é€Ÿé—®é¢˜ - é™ä½é—¨æ§› */}
        <QuickSelectionCard />
      </section>

      {/* ç¤¾ä¼šè¯æ˜ - å»ºç«‹ä¿¡ä»» */}
      <section className="py-8 border-t border-vellum-200">
        <SocialProof stats={{
          users: "10,000+",
          accuracy: "94%æ»¡æ„",
          rating: "4.9æ˜Ÿ"
        }} />
      </section>
    </div>
  );
}
```

### 3.2 å¿«é€Ÿé€‰æ‹©ç»„ä»¶ï¼ˆå…³é”®ç»„ä»¶ï¼‰

```typescript
// apps/web/src/components/onboarding/QuickSelectionCard.tsx
'use client';

import { useState } from 'react';
import { useRouter } from 'next/navigation';
import { useSkill } from '@/providers/SkillProvider';

const FOCUS_OPTIONS = [
  {
    id: 'relationship',
    label: 'æ„Ÿæƒ…è¿åŠ¿',
    icon: 'â¤ï¸',
    description: 'çˆ±æƒ…ã€å©šå§»ã€æ¡ƒèŠ±',
    color: 'from-rose-400 to-pink-500'
  },
  {
    id: 'career',
    label: 'èŒä¸šå‘å±•',
    icon: 'ğŸ’¼',
    description: 'äº‹ä¸šã€è´¢è¿ã€å‡èŒ',
    color: 'from-blue-400 to-indigo-500'
  },
  {
    id: 'self',
    label: 'è‡ªæˆ‘è®¤çŸ¥',
    icon: 'ğŸ”®',
    description: 'æ€§æ ¼ã€å¤©èµ‹ã€ä½¿å‘½',
    color: 'from-purple-400 to-violet-500'
  }
];

export function QuickSelectionCard() {
  const [selected, setSelected] = useState<string | null>(null);
  const [loading, setLoading] = useState(false);
  const router = useRouter();
  const { skill } = useSkill();

  const handleSelect = async (focusId: string) => {
    setSelected(focusId);
    setLoading(true);

    // ç«‹å³è·³è½¬åˆ°å‘½ç›˜é¢„è§ˆé¡µé¢ï¼ˆä¸éœ€è¦ç­‰å¾…ï¼‰
    // ä½¿ç”¨ç®€åŒ–çš„ç”Ÿæ—¥è®¡ç®—ï¼ˆé»˜è®¤ä¸ºä»Šæ—¥ï¼Œåç»­å¯è°ƒæ•´ï¼‰
    router.push(`/${skill}/preview?focus=${focusId}`);
  };

  return (
    <div className="max-w-2xl mx-auto">
      <h2 className="text-2xl font-medium text-ink mb-6">
        ä½ ä»Šå¤©æœ€æƒ³äº†è§£ä»€ä¹ˆï¼Ÿ
      </h2>

      <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
        {FOCUS_OPTIONS.map((option) => (
          <button
            key={option.id}
            onClick={() => handleSelect(option.id)}
            disabled={loading}
            className={`
              relative p-6 rounded-2xl border-2 transition-all
              ${selected === option.id
                ? `border-ink bg-gradient-to-br ${option.color} text-white`
                : 'border-vellum-300 hover:border-ink/30 bg-white'
              }
              ${loading ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}
            `}
          >
            <div className="text-4xl mb-3">{option.icon}</div>
            <div className="text-lg font-medium mb-1">{option.label}</div>
            <div className={`text-sm ${selected === option.id ? 'text-white/90' : 'text-ink/60'}`}>
              {option.description}
            </div>

            {loading && selected === option.id && (
              <div className="absolute inset-0 flex items-center justify-center bg-white/20 rounded-2xl">
                <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-white" />
              </div>
            )}
          </button>
        ))}
      </div>

      <p className="text-sm text-ink/50 mt-4">
        æ— éœ€å¡«å†™ä»»ä½•ä¿¡æ¯ï¼Œç«‹å³æŸ¥çœ‹ä½ çš„å‘½ç›˜
      </p>
    </div>
  );
}
```

### 3.3 å‘½ç›˜é¢„è§ˆé¡µé¢ï¼ˆAha Moment #1ï¼‰

**è¿™æ˜¯æœ€é‡è¦çš„é¡µé¢ï¼Œå¿…é¡»åœ¨12ç§’å†…å±•ç¤º**

```typescript
// apps/web/src/app/(bazi)/preview/page.tsx
'use client';

import { useEffect, useState } from 'react';
import { useSearchParams } from 'next/navigation';
import { BaziChart } from '@/components/bazi/BaziChart';
import { FortuneCard } from '@/components/fortune/FortuneCard';
import { DeepInterviewModal } from '@/components/interview/DeepInterviewModal';

export default function BaziPreviewPage() {
  const searchParams = useSearchParams();
  const focus = searchParams.get('focus') || 'self';

  const [loading, setLoading] = useState(true);
  const [showInterview, setShowInterview] = useState(false);
  const [baziData, setBaziData] = useState(null);

  useEffect(() => {
    // å¿«é€Ÿè®¡ç®—å…«å­—ï¼ˆä½¿ç”¨é»˜è®¤ç”Ÿæ—¥æˆ–ç®€åŒ–ç®—æ³•ï¼‰
    const calculateQuickBazi = async () => {
      // æ¨¡æ‹ŸåŠ è½½æ—¶é—´ï¼ˆåˆ¶é€ æœŸå¾…æ„Ÿï¼‰
      await new Promise(resolve => setTimeout(resolve, 1500));

      // è°ƒç”¨åç«¯å¿«é€Ÿè®¡ç®—API
      const response = await fetch('/api/v1/bazi/quick-calculate', {
        method: 'POST',
        body: JSON.stringify({ focus })
      });

      const data = await response.json();
      setBaziData(data);
      setLoading(false);
    };

    calculateQuickBazi();
  }, [focus]);

  if (loading) {
    return <LoadingScreen />;
  }

  return (
    <div className="min-h-screen bg-gradient-to-b from-amber-50 to-vellum">
      {/* Aha Moment #1: å‘½ç›˜å¯è§†åŒ– */}
      <section className="container mx-auto px-4 py-8">
        <div className="text-center mb-8">
          <h1 className="text-3xl font-serif text-ink mb-2">
            ä½ çš„å‘½ç›˜
          </h1>
          <p className="text-lg text-ink/70">
            {baziData.dayMasterInsight}
          </p>
        </div>

        {/* ä¸“ä¸šå‘½ç›˜ - è§†è§‰å†²å‡» */}
        <div className="max-w-4xl mx-auto mb-8">
          <BaziChart
            data={baziData.chart}
            highlight="dayMaster"
            animated={true}
          />
        </div>

        {/* Aha Moment #2: ä»Šæ—¥è¿åŠ¿ - å…è´¹ä»·å€¼ */}
        <div className="max-w-2xl mx-auto mb-12">
          <FortuneCard
            focus={focus}
            dailyFortune={baziData.dailyFortune}
            lite={true}
          />
        </div>

        {/* è‡ªç„¶å¼•å¯¼ï¼šæƒ³è¦æ›´æ·±åº¦è§£è¯»å—ï¼Ÿ */}
        <div className="max-w-2xl mx-auto">
          <DeepGuideCard
            onContinue={() => setShowInterview(true)}
            onSkip={() => {/* è·³è¿‡ï¼Œè®°å½•ä¸ºè½»åº¦ç”¨æˆ· */}}
          />
        </div>
      </section>

      {/* æ·±åº¦è®¿è°ˆæ¨¡æ€æ¡† */}
      {showInterview && (
        <DeepInterviewModal
          focus={focus}
          onClose={() => setShowInterview(false)}
          onComplete={(fullProfile) => {
            // è·³è½¬åˆ°å®Œæ•´æŠ¥å‘Šé¡µé¢
            router.push(`/${skill}/report?profile=${fullProfile.id}`);
          }}
        />
      )}
    </div>
  );
}

// åŠ è½½å±å¹•ï¼ˆåˆ¶é€ æœŸå¾…æ„Ÿï¼‰
function LoadingScreen() {
  return (
    <div className="min-h-screen flex items-center justify-center bg-gradient-to-b from-amber-50 to-vellum">
      <div className="text-center">
        <div className="relative w-24 h-24 mx-auto mb-6">
          {/* VibeGlyph åŠ¨ç”» */}
          <div className="absolute inset-0 animate-spin">
            <VibeGlyph />
          </div>
        </div>
        <h2 className="text-2xl font-serif text-ink mb-2">
          æ­£åœ¨ä¸ºä½ ç»˜åˆ¶å‘½ç›˜...
        </h2>
        <p className="text-ink/60">
          åˆ†æä½ çš„äº”è¡Œèƒ½é‡åˆ†å¸ƒ
        </p>
      </div>
    </div>
  );
}
```

### 3.4 æ·±åº¦å¼•å¯¼å¡ç‰‡

```typescript
// apps/web/src/components/onboarding/DeepGuideCard.tsx
'use client';

import { useState } from 'react';

export function DeepGuideCard({ onContinue, onSkip }) {
  const [dismissed, setDismissed] = useState(false);

  if (dismissed) return null;

  return (
    <div className="bg-white rounded-2xl shadow-lg border border-vellum-200 p-8">
      <div className="flex items-start gap-6">
        {/* AI å¤´åƒ */}
        <div className="flex-shrink-0">
          <div className="w-16 h-16 rounded-full bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center text-3xl">
            ğŸ”®
          </div>
        </div>

        {/* å¼•å¯¼æ–‡æ¡ˆ */}
        <div className="flex-1">
          <h3 className="text-xl font-serif text-ink mb-2">
            æƒ³è¦æ›´æ·±åº¦è§£è¯»å—ï¼Ÿ
          </h3>
          <p className="text-ink/70 mb-4">
            æˆ‘åˆšä¸ºä½ ç”Ÿæˆäº†åŸºç¡€å‘½ç›˜ï¼Œä½†å¦‚æœèƒ½äº†è§£ä½ çš„å‡ºç”Ÿæ—¶é—´ï¼Œ
            æˆ‘å¯ä»¥ä¸ºä½ æä¾›æ›´ç²¾å‡†çš„æ€§æ ¼åˆ†æã€äººç”ŸKçº¿å’Œå®Œæ•´çš„è§£è¯»æŠ¥å‘Šã€‚
          </p>

          {/* ä»·å€¼æ‰¿è¯º */}
          <div className="grid grid-cols-3 gap-4 mb-6">
            <div className="text-center p-3 bg-vellum-50 rounded-lg">
              <div className="text-2xl mb-1">ğŸ“Š</div>
              <div className="text-sm text-ink/70">äººç”ŸKçº¿å›¾</div>
            </div>
            <div className="text-center p-3 bg-vellum-50 rounded-lg">
              <div className="text-2xl mb-1">ğŸ”®</div>
              <div className="text-sm text-ink/70">ä¸‰å…ƒæ£±é•œ</div>
            </div>
            <div className="text-center p-3 bg-vellum-50 rounded-lg">
              <div className="text-2xl mb-1">ğŸ“</div>
              <div className="text-sm text-ink/70">å®Œæ•´æŠ¥å‘Š</div>
            </div>
          </div>

          {/* è¡ŒåŠ¨æŒ‰é’® */}
          <div className="flex gap-3">
            <button
              onClick={onContinue}
              className="flex-1 bg-gradient-to-r from-amber-500 to-orange-500 text-white px-6 py-3 rounded-xl font-medium hover:shadow-lg transition-all"
            >
              åªéœ€3ä¸ªé—®é¢˜ï¼Œç»§ç»­æ·±åº¦è§£è¯» â†’
            </button>
            <button
              onClick={() => {
                onSkip();
                setDismissed(true);
              }}
              className="px-6 py-3 text-ink/60 hover:text-ink transition-colors"
            >
              æš‚æ—¶å…ˆçœ‹çœ‹
            </button>
          </div>
        </div>
      </div>
    </div>
  );
}
```

### 3.5 æ·±åº¦è®¿è°ˆæµç¨‹ï¼ˆç®€åŒ–ç‰ˆï¼‰

```typescript
// apps/web/src/components/interview/DeepInterviewModal.tsx
'use client';

import { useState } from 'react';
import { useRouter } from 'next/navigation';

const QUESTIONS = [
  {
    id: 'birth_datetime',
    question: 'ä½ çš„å‡ºç”Ÿæ—¶é—´ï¼Ÿ',
    type: 'datetime',
    required: true,
    placeholder: 'é€‰æ‹©æˆ–è¾“å…¥ä½ çš„å‡ºç”Ÿæ—¶é—´',
    explanation: 'å‡†ç¡®çš„å‡ºç”Ÿæ—¶é—´èƒ½è®©å‘½ç›˜æ›´ç²¾ç¡®'
  },
  {
    id: 'birth_location',
    question: 'ä½ çš„å‡ºç”Ÿåœ°ç‚¹ï¼Ÿ',
    type: 'location',
    required: true,
    placeholder: 'è¾“å…¥åŸå¸‚æˆ–é€‰æ‹©åœ°ç‚¹',
    explanation: 'å‡ºç”Ÿåœ°ç‚¹å½±å“æ—¶åŒºè®¡ç®—'
  },
  {
    id: 'current_focus',
    question: 'ä½ ç°åœ¨æœ€å…³å¿ƒçš„æ˜¯ä»€ä¹ˆï¼Ÿ',
    type: 'choice',
    required: true,
    options: [
      { value: 'relationship', label: 'æ„Ÿæƒ…é—®é¢˜' },
      { value: 'career', label: 'äº‹ä¸šå‘å±•' },
      { value: 'fortune', label: 'è´¢è¿è¿åŠ¿' },
      { value: 'health', label: 'å¥åº·å…»ç”Ÿ' },
      { value: 'growth', label: 'ä¸ªäººæˆé•¿' }
    ]
  }
];

export function DeepInterviewModal({ focus, onClose, onComplete }) {
  const [currentStep, setCurrentStep] = useState(0);
  const [answers, setAnswers] = useState({});
  const [loading, setLoading] = useState(false);
  const router = useRouter();

  const currentQuestion = QUESTIONS[currentStep];
  const progress = ((currentStep + 1) / QUESTIONS.length) * 100;

  const handleNext = async (answer) => {
    const newAnswers = { ...answers, [currentQuestion.id]: answer };
    setAnswers(newAnswers);

    if (currentStep < QUESTIONS.length - 1) {
      setCurrentStep(currentStep + 1);
    } else {
      // å®Œæˆè®¿è°ˆï¼Œæäº¤åˆ°åç«¯
      setLoading(true);
      try {
        const response = await fetch('/api/v1/interview/complete', {
          method: 'POST',
          body: JSON.stringify({
            skill: 'bazi',
            answers: newAnswers,
            focus
          })
        });

        const { profile_id, report_id } = await response.json();
        onComplete({ id: profile_id, report_id });
      } catch (error) {
        console.error('Interview submission failed:', error);
      } finally {
        setLoading(false);
      }
    }
  };

  return (
    <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
      <div className="bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden">
        {/* å¤´éƒ¨ï¼šè¿›åº¦æ¡ */}
        <div className="px-6 py-4 border-b border-vellum-200">
          <div className="flex items-center justify-between mb-2">
            <span className="text-sm text-ink/60">
              æ·±åº¦è§£è¯» {currentStep + 1}/{QUESTIONS.length}
            </span>
            <button onClick={onClose} className="text-ink/60 hover:text-ink">
              âœ•
            </button>
          </div>
          <div className="w-full bg-vellum-200 rounded-full h-2">
            <div
              className="bg-gradient-to-r from-amber-500 to-orange-500 h-2 rounded-full transition-all duration-500"
              style={{ width: `${progress}%` }}
            />
          </div>
        </div>

        {/* é—®é¢˜å†…å®¹ */}
        <div className="p-6">
          <h2 className="text-2xl font-serif text-ink mb-2">
            {currentQuestion.question}
          </h2>
          {currentQuestion.explanation && (
            <p className="text-ink/60 mb-6">
              {currentQuestion.explanation}
            </p>
          )}

          {/* æ ¹æ®é—®é¢˜ç±»å‹æ¸²æŸ“ä¸åŒçš„è¾“å…¥ç»„ä»¶ */}
          <QuestionInput
            question={currentQuestion}
            value={answers[currentQuestion.id]}
            onChange={(value) => handleNext(value)}
          />
        </div>

        {/* åº•éƒ¨ï¼šå¯¼èˆª */}
        <div className="px-6 py-4 bg-vellum-50 border-t border-vellum-200">
          <div className="flex justify-between">
            <button
              onClick={() => setCurrentStep(Math.max(0, currentStep - 1))}
              disabled={currentStep === 0}
              className="px-4 py-2 text-ink/60 hover:text-ink disabled:opacity-50"
            >
              â† ä¸Šä¸€æ­¥
            </button>
            <div className="flex gap-2">
              {QUESTIONS.map((_, idx) => (
                <div
                  key={idx}
                  className={`w-2 h-2 rounded-full ${
                    idx === currentStep
                      ? 'bg-amber-500'
                      : idx < currentStep
                      ? 'bg-amber-200'
                      : 'bg-vellum-300'
                  }`}
                />
              ))}
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}
```

---

## 4. åç«¯ API è®¾è®¡

### 4.1 å¿«é€Ÿè®¡ç®— APIï¼ˆæ— è®¿è°ˆï¼‰

```python
# apps/api/routes/bazi.py
from fastapi import APIRouter, HTTPException
from services.bazi import BaziCalculator
from services.fortune import FortuneGenerator
from pydantic import BaseModel

router = APIRouter()

class QuickCalculateRequest(BaseModel):
    focus: str  # 'relationship', 'career', 'self'

@router.post("/quick-calculate")
async def quick_calculate(request: QuickCalculateRequest):
    """
    å¿«é€Ÿå…«å­—è®¡ç®—ï¼ˆæ— éœ€å®Œæ•´å‡ºç”Ÿä¿¡æ¯ï¼‰
    ä½¿ç”¨ç®€åŒ–ç®—æ³•æˆ–é»˜è®¤å€¼ï¼Œç¡®ä¿12ç§’å†…è¿”å›
    """

    try:
        # 1. ä½¿ç”¨ä»Šæ—¥æ—¥æœŸæˆ–ç®€åŒ–å…«å­—è®¡ç®—
        calculator = BaziCalculator()
        quick_chart = calculator.calculate_quick(
            use_today=True,  # ä½¿ç”¨ä»Šæ—¥ä½œä¸ºç¤ºä¾‹
            focus=request.focus
        )

        # 2. ç”Ÿæˆæ—¥ä¸»æ´å¯Ÿ
        day_master_insight = calculator.get_day_master_insight(
            quick_chart['day_master']
        )

        # 3. ç”Ÿæˆä»Šæ—¥è¿åŠ¿ï¼ˆå…è´¹ä»·å€¼ï¼‰
        fortune_gen = FortuneGenerator()
        daily_fortune = fortune_gen.generate_daily_fortune(
            quick_chart,
            focus=request.focus,
            lite=True  # Liteç‰ˆæœ¬
        )

        return {
            "chart": quick_chart,
            "dayMasterInsight": day_master_insight,
            "dailyFortune": daily_fortune,
            "is_lite": True,  # æ ‡è®°ä¸ºç®€åŒ–ç‰ˆ
            "upgrade_prompt": "æä¾›å‡ºç”Ÿæ—¶é—´å¯è·å¾—æ›´ç²¾å‡†åˆ†æ"
        }

    except Exception as e:
        raise HTTPException(status_code=500, detail=str(e))
```

### 4.2 æ·±åº¦è®¿è°ˆæäº¤ API

```python
# apps/api/routes/interview.py
from fastapi import APIRouter, HTTPException, Request
from services.interview import InterviewService
from services.portrait import PortraitService
from pydantic import BaseModel

router = APIRouter()

class InterviewCompleteRequest(BaseModel):
    skill: str
    answers: dict
    focus: str

@router.post("/complete")
async def complete_interview(
    request: Request,
    interview_data: InterviewCompleteRequest
):
    """
    å®Œæˆæ·±åº¦è®¿è°ˆï¼Œåˆ›å»ºå®Œæ•´ç”¨æˆ·ç”»åƒ
    """
    user_id = request.state.user_id

    try:
        # 1. ä¿å­˜è®¿è°ˆæ•°æ®
        interview_service = InterviewService()
        interview = await interview_service.save_interview(
            user_id=user_id,
            skill=interview_data.skill,
            answers=interview_data.answers
        )

        # 2. æ„å»ºå®Œæ•´ç”¨æˆ·ç”»åƒ
        portrait_service = PortraitService()
        profile = await portrait_service.create_profile(
            user_id=user_id,
            skill=interview_data.skill,
            interview_id=interview.id,
            focus=interview_data.focus
        )

        # 3. ç”Ÿæˆå®Œæ•´æŠ¥å‘Šï¼ˆåå°ä»»åŠ¡ï¼‰
        report_id = await generate_full_report(
            user_id=user_id,
            profile_id=profile.id,
            skill=interview_data.skill
        )

        return {
            "profile_id": profile.id,
            "report_id": report_id,
            "redirect_to": f"/{interview_data.skill}/report?id={report_id}"
        }

    except Exception as e:
        raise HTTPException(status_code=500, detail=str(e))
```

---

## 5. A/B æµ‹è¯•æ¡†æ¶

### 5.1 å…³é”®æµ‹è¯•å˜é‡

```python
# apps/api/services/experiment.py
from enum import Enum

class OnboardingVariant(Enum):
    CONTROL = "control"  # åŸç‰ˆï¼šå¼ºåˆ¶è®¿è°ˆ
    VARIANT_A = "quick_first"  # å¿«é€Ÿé€‰æ‹©ä¼˜å…ˆ
    VARIANT_B = "visual_first"  # å¯è§†åŒ–ä¼˜å…ˆ
    VARIANT_C = "fortune_first"  # è¿åŠ¿ä¼˜å…ˆ

class ExperimentConfig:
    ONBOARDING_EXPERIMENT = {
        "name": "onboarding_flow_optimization",
        "variants": [
            {
                "id": OnboardingVariant.CONTROL,
                "weight": 0.2,  # 20% ç”¨æˆ·
                "flow": "interview_first"
            },
            {
                "id": OnboardingVariant.VARIANT_A,
                "weight": 0.4,  # 40% ç”¨æˆ·
                "flow": "quick_selection_first"
            },
            {
                "id": OnboardingVariant.VARIANT_B,
                "weight": 0.2,  # 20% ç”¨æˆ·
                "flow": "visual_preview_first"
            },
            {
                "id": OnboardingVariant.VARIANT_C,
                "weight": 0.2,  # 20% ç”¨æˆ·
                "flow": "daily_fortune_first"
            }
        ],
        "metrics": [
            "time_to_aha",
            "aha_completion_rate",
            "interview_start_rate",
            "interview_completion_rate",
            "free_to_paid_conversion"
        ]
    }
```

### 5.2 å‰ç«¯å˜ä½“å®ç°

```typescript
// apps/web/src/components/onboarding/OnboardingFlow.tsx
'use client';

import { useExperiment } from '@/hooks/useExperiment';
import { QuickSelectionFlow } from './QuickSelectionFlow';
import { VisualFirstFlow } from './VisualFirstFlow';
import { InterviewFirstFlow } from './InterviewFirstFlow';

export function OnboardingFlow() {
  const { variant } = useExperiment('onboarding_flow_optimization');

  switch (variant) {
    case 'quick_first':
      return <QuickSelectionFlow />;
    case 'visual_first':
      return <VisualFirstFlow />;
    case 'fortune_first':
      return <FortuneFirstFlow />;
    case 'control':
    default:
      return <InterviewFirstFlow />;
  }
}
```

---

## 6. æ•°æ®è¿½è¸ªåŸ‹ç‚¹

### 6.1 å…³é”®äº‹ä»¶å®šä¹‰

```typescript
// apps/web/src/lib/analytics.ts
export interface OnboardingEvent {
  event_name: string;
  timestamp: number;
  user_id?: string;
  session_id: string;
  properties: Record<string, any>;
}

export const ONBOARDING_EVENTS = {
  // æ¼æ–—é¡¶éƒ¨
  ONBOARDING_START: 'onboarding_start',

  // å¿«é€Ÿé€‰æ‹©é˜¶æ®µ
  QUICK_SELECTION_SHOW: 'quick_selection_show',
  QUICK_SELECTION_CLICK: 'quick_selection_click',

  // å‘½ç›˜é¢„è§ˆé˜¶æ®µ
  CHART_PREVIEW_START_LOAD: 'chart_preview_start_load',
  CHART_PREVIEW_SHOWN: 'chart_preview_shown',
  CHART_PREVIEW_INTERACTION: 'chart_preview_interaction',

  // ä»Šæ—¥è¿åŠ¿é˜¶æ®µ
  DAILY_FORTUNE_SHOWN: 'daily_fortune_shown',
  DAILY_FORTUNE_SHARE: 'daily_fortune_share',

  // æ·±åº¦è®¿è°ˆé˜¶æ®µ
  DEEP_GUIDE_SHOW: 'deep_guide_show',
  DEEP_GUIDE_CONTINUE: 'deep_guide_continue',
  DEEP_GUIDE_SKIP: 'deep_guide_skip',

  // è®¿è°ˆæµç¨‹
  INTERVIEW_START: 'interview_start',
  INTERVIEW_STEP_COMPLETE: 'interview_step_complete',
  INTERVIEW_COMPLETE: 'interview_complete',

  // Aha Moment
  AHA_MOMENT_VISUAL: 'aha_moment_visual',
  AHA_MOMENT_VALUE: 'aha_moment_value',

  // è½¬åŒ–
  PAYWALL_SHOW: 'paywall_show',
  PAYWALL_CLICK_UPGRADE: 'paywall_click_upgrade',
  PAYWALL_COMPLETE: 'paywall_complete'
};

// ä½¿ç”¨ç¤ºä¾‹
export function trackOnboardingEvent(
  eventName: string,
  properties: Record<string, any> = {}
) {
  const event: OnboardingEvent = {
    event_name: eventName,
    timestamp: Date.now(),
    session_id: getSessionId(),
    properties: {
      ...properties,
      variant: getCurrentVariant(),
      referrer: document.referrer,
      utm_source: getUTMParameter('utm_source'),
      utm_medium: getUTMParameter('utm_medium'),
      utm_campaign: getUTMParameter('utm_campaign')
    }
  };

  // å‘é€åˆ°åˆ†æå¹³å°
  analytics.track(eventName, event);
}
```

### 6.2 å…³é”®æŒ‡æ ‡è®¡ç®—

```python
# apps/api/services/analytics/metrics.py
from datetime import datetime, timedelta

class OnboardingMetrics:
    """Onboarding å…³é”®æŒ‡æ ‡è®¡ç®—"""

    def calculate_time_to_aha(self, user_id: str) -> float:
        """
        è®¡ç®—ä»æ³¨å†Œåˆ° Aha Moment çš„æ—¶é—´
        ç›®æ ‡ï¼š< 30ç§’
        """
        start_time = self.get_event_time(user_id, 'onboarding_start')
        aha_time = self.get_event_time(
            user_id,
            'aha_moment_value'  # ä»¥çœ‹åˆ°ä»Šæ—¥è¿åŠ¿ä¸ºå‡†
        )

        if start_time and aha_time:
            return (aha_time - start_time).total_seconds()
        return None

    def calculate_aha_completion_rate(
        self,
        start_date: datetime,
        end_date: datetime
    ) -> float:
        """
        Aha Moment å®Œæˆç‡
        ç›®æ ‡ï¼š> 70%
        """
        started = self.count_users_with_event(
            'onboarding_start',
            start_date,
            end_date
        )
        aha_moment = self.count_users_with_event(
            'aha_moment_value',
            start_date,
            end_date
        )

        return (aha_moment / started * 100) if started > 0 else 0

    def calculate_interview_start_rate(self) -> float:
        """
        æ·±åº¦è®¿è°ˆå¯åŠ¨ç‡
        ç›®æ ‡ï¼š> 40%ï¼ˆä» Aha Momentï¼‰
        """
        aha_users = self.get_users_with_event('aha_moment_value')
        interview_users = self.get_users_with_event('interview_start')

        return (len(interview_users) / len(aha_users) * 100) if aha_users else 0

    def calculate_drop_off_points(self) -> dict:
        """
        æµå¤±ç‚¹åˆ†æ
        """
        funnel = {
            'start': self.count_users_with_event('onboarding_start'),
            'quick_select': self.count_users_with_event('quick_selection_click'),
            'chart_preview': self.count_users_with_event('chart_preview_shown'),
            'aha_value': self.count_users_with_event('aha_moment_value'),
            'deep_guide': self.count_users_with_event('deep_guide_show'),
            'interview_start': self.count_users_with_event('interview_start'),
            'interview_complete': self.count_users_with_event('interview_complete')
        }

        drop_off = {}
        prev_count = None

        for step, count in funnel.items():
            if prev_count:
                drop_off[step] = {
                    'count': count,
                    'drop_off_count': prev_count - count,
                    'drop_off_rate': ((prev_count - count) / prev_count * 100)
                }
            prev_count = count

        return drop_off
```

---

## 7. ç§»åŠ¨ç«¯ä¼˜åŒ–

### 7.1 ç§»åŠ¨ç«¯å…³é”®å·®å¼‚

```css
/* apps/web/src/styles/mobile-onboarding.css */
/* åŸºäº70%æµé‡æ¥è‡ªç§»åŠ¨ç«¯çš„ä¼˜åŒ– */

@media (max-width: 768px) {
  /* å¿«é€Ÿé€‰æ‹©å¡ç‰‡ï¼šå‚ç›´å †å  */
  .quick-selection-grid {
    grid-template-columns: 1fr;
    gap: 12px;
  }

  /* å‘½ç›˜å¯è§†åŒ–ï¼šå…¨å±å±•ç¤º */
  .chart-preview {
    position: fixed;
    inset: 0;
    z-index: 50;
  }

  /* æ·±åº¦å¼•å¯¼ï¼šåº•éƒ¨å¡ç‰‡ */
  .deep-guide-card {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: 20px 20px 0 0;
    box-shadow: 0 -4px 20px rgba(0,0,0,0.1);
  }

  /* æŒ‰é’®ï¼šæ‹‡æŒ‡å‹å¥½ */
  .action-button {
    min-height: 48px;
    font-size: 16px;
  }

  /* è¿åŠ¿å¡ç‰‡ï¼šå¯æ»‘åŠ¨ */
  .fortune-card {
    scroll-snap-type: x mandatory;
    overflow-x: scroll;
  }
}
```

### 7.2 PWA æ”¯æŒ

```typescript
// apps/web/public/manifest.json
{
  "name": "VibeLife - AI å…«å­—å‘½ç†",
  "short_name": "VibeLife",
  "description": "åƒå¤§å¸ˆä¸€æ ·ä¸“ä¸šï¼Œåƒé—ºèœœä¸€æ ·æ‡‚ä½ ",
  "start_url": "/?source=pwa",
  "display": "standalone",
  "background_color": "#FAF9F7",
  "theme_color": "#D97706",
  "orientation": "portrait",
  "icons": [
    {
      "src": "/icons/icon-192x192.png",
      "sizes": "192x192",
      "type": "image/png",
      "purpose": "any maskable"
    },
    {
      "src": "/icons/icon-512x512.png",
      "sizes": "512x512",
      "type": "image/png",
      "purpose": "any maskable"
    }
  ],
  "categories": ["lifestyle", "entertainment"],
  "shortcuts": [
    {
      "name": "ä»Šæ—¥è¿åŠ¿",
      "short_name": "è¿åŠ¿",
      "description": "æŸ¥çœ‹ä»Šæ—¥è¿åŠ¿",
      "url": "/bazi/fortune?source=pwa",
      "icons": [{ "src": "/icons/fortune.png", "sizes": "96x96" }]
    },
    {
      "name": "å¼€å§‹å¯¹è¯",
      "short_name": "å¯¹è¯",
      "description": "ä¸AIå‘½ç†å¸ˆå¯¹è¯",
      "url": "/bazi/chat?source=pwa",
      "icons": [{ "src": "/icons/chat.png", "sizes": "96x96" }]
    }
  ]
}
```

---

## 8. å®æ–½æ£€æŸ¥æ¸…å•

### Week 1: æ ¸å¿ƒæµç¨‹

```
å‰ç«¯å¼€å‘
â”œâ”€â”€ [ ] QuickSelectionCard ç»„ä»¶
â”œâ”€â”€ [ ] å‘½ç›˜é¢„è§ˆé¡µé¢ï¼ˆBaziPreviewPageï¼‰
â”œâ”€â”€ [ ] FortuneCard ç»„ä»¶ï¼ˆLiteç‰ˆæœ¬ï¼‰
â”œâ”€â”€ [ ] DeepGuideCard ç»„ä»¶
â”œâ”€â”€ [ ] DeepInterviewModal ç»„ä»¶
â””â”€â”€ [ ] ç§»åŠ¨ç«¯é€‚é…

åç«¯å¼€å‘
â”œâ”€â”€ [ ] POST /api/v1/bazi/quick-calculate
â”œâ”€â”€ [ ] POST /api/v1/interview/complete
â”œâ”€â”€ [ ] ç®€åŒ–å…«å­—è®¡ç®—é€»è¾‘
â””â”€â”€ [ ] Liteç‰ˆè¿åŠ¿ç”Ÿæˆé€»è¾‘

æ•°æ®è¿½è¸ª
â”œâ”€â”€ [ ] åŸ‹ç‚¹äº‹ä»¶å®šä¹‰
â”œâ”€â”€ [ ] Analytics é›†æˆ
â””â”€â”€ [ ] Dashboard æ­å»º
```

### Week 2: A/B æµ‹è¯•

```
å®éªŒé…ç½®
â”œâ”€â”€ [ ] A/Bæµ‹è¯•æ¡†æ¶æ­å»º
â”œâ”€â”€ [ ] å˜ä½“æµé‡åˆ†é…
â”œâ”€â”€ [ ] æ§åˆ¶ç»„å®ç°
â””â”€â”€ [ ] å®éªŒæŒ‡æ ‡å®šä¹‰

æ•°æ®éªŒè¯
â”œâ”€â”€ [ ] æ—¶é—´è¿½è¸ªå‡†ç¡®æ€§
â”œâ”€â”€ [ ] äº‹ä»¶è§¦å‘éªŒè¯
â””â”€â”€ [ ] æ¼æ–—æ•°æ®å¯è§†åŒ–
```

### Week 3: ä¼˜åŒ–è¿­ä»£

```
æ•°æ®åˆ†æ
â”œâ”€â”€ [ ] Week 1 æ•°æ®å›é¡¾
â”œâ”€â”€ [ ] æµå¤±ç‚¹è¯†åˆ«
â”œâ”€â”€ [ ] ç”¨æˆ·åé¦ˆæ”¶é›†
â””â”€â”€ [ ] ä¼˜åŒ–æ–¹æ¡ˆè®¾è®¡

å¿«é€Ÿè¿­ä»£
â”œâ”€â”€ [ ] æ–‡æ¡ˆä¼˜åŒ–
â”œâ”€â”€ [ ] åŠ è½½é€Ÿåº¦ä¼˜åŒ–
â”œâ”€â”€ [ ] UIå¾®è°ƒ
â””â”€â”€ [ ] ç§»åŠ¨ç«¯ä½“éªŒæå‡
```

---

## 9. æˆåŠŸæ ‡å‡†

### 9.1 åŒ—ææ˜ŸæŒ‡æ ‡

```python
SUCCESS_METRICS = {
    "time_to_aha": {
        "target": "< 30ç§’",
        "current": "å¾…æµ‹é‡",
        "status": "å…³é”®æŒ‡æ ‡"
    },
    "aha_completion_rate": {
        "target": "> 70%",
        "current": "å¾…æµ‹é‡",
        "status": "å…³é”®æŒ‡æ ‡"
    },
    "interview_start_rate": {
        "target": "> 40%",
        "current": "å¾…æµ‹é‡",
        "status": "é‡è¦æŒ‡æ ‡"
    },
    "free_user_satisfaction": {
        "target": "> 60%",
        "current": "å¾…æµ‹é‡",
        "status": "é‡è¦æŒ‡æ ‡"
    }
}
```

### 9.2 é˜¶æ®µæ€§ç›®æ ‡

| é˜¶æ®µ | æ—¶é—´ | ç›®æ ‡ | éªŒè¯æ–¹å¼ |
|------|------|------|----------|
| **MVPä¸Šçº¿** | Week 1 | 30ç§’Aha Momentè¾¾æˆç‡ >50% | æ•°æ®è¿½è¸ª |
| **ä¼˜åŒ–è¿­ä»£** | Week 2 | 30ç§’Aha Momentè¾¾æˆç‡ >70% | A/Bæµ‹è¯• |
| **PMFéªŒè¯** | Week 4 | æ¬¡æ—¥ç•™å­˜ >40% | ç•™å­˜åˆ†æ |

---

## 10. é£é™©ä¸ç¼“è§£

| é£é™© | å½±å“ | ç¼“è§£ç­–ç•¥ |
|------|------|----------|
| ç®€åŒ–ç®—æ³•å‡†ç¡®åº¦ä½ | ç”¨æˆ·è´¨ç–‘ä¸“ä¸šæ€§ | æ˜ç¡®æ ‡æ³¨"é¢„è§ˆç‰ˆ"ï¼Œå¼•å¯¼å®Œæ•´è®¿è°ˆ |
| ç§»åŠ¨ç«¯åŠ è½½æ…¢ | æµå¤±ç‡ä¸Šå‡ | å›¾è¡¨æ‡’åŠ è½½ã€éª¨æ¶å±ã€CDNåŠ é€Ÿ |
| ç”¨æˆ·ä¸æ„¿æ„ç»™ä¿¡æ¯ | è½¬åŒ–ç‡ä½ | åˆ†æ­¥ç´¢å–ï¼Œå…ˆç»™ä»·å€¼å†è¦ä¿¡æ¯ |
| A/Bæµ‹è¯•æµé‡ä¸è¶³ | ç»“æœä¸æ˜¾è‘— | é›†ä¸­æµé‡ï¼Œå¿«é€Ÿå†³ç­– |

---

## é™„å½•ï¼šæŠ€æœ¯æ ˆå‚è€ƒ

```
Frontend
â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ Next.js 14 (App Router)
â€¢ Framer Motion (åŠ¨ç”»)
â€¢ React Hook Form (è¡¨å•)
â€¢ Zustand (çŠ¶æ€ç®¡ç†)

Backend
â”€â”€â”€â”€â”€â”€â”€
â€¢ FastAPI (Python)
â€¢ Redis (ç¼“å­˜)
â€¢ PostgreSQL (æŒä¹…åŒ–)

Analytics
â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ Mixpanel/Amplitude (äº‹ä»¶è¿½è¸ª)
â€¢ Supabase (ç”¨æˆ·æ•°æ®)
â€¢ Google Analytics 4 (ç½‘é¡µåˆ†æ)
```
