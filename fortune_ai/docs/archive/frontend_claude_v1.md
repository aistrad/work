# Fortune AI 前端设计方案 v1

> 基于 idea v1.md 的最优方案组合，对标 Notion 级别的网页前端设计

---

## 一、设计哲学与核心原则

### 1.1 终极价值（设计必须围绕）

| 终极价值 | 用户感受 | 关键体验 | UI 必须落地的机制 |
|---------|---------|---------|------------------|
| **被理解** | "TA懂我"而非"TA输出模板" | 可解释 + 可纠错 + 可追溯 | ① Update Diff Bar（应用/纠正/暂停） ② Context Pills 可锁定/清除 ③ 关键结论可回溯到对话证据 |
| **变更好** | "我做得到、我坚持得住" | 最小行动 + 即刻反馈 + 渐进成长 | ① 今日只给 1-3 个任务 ② 任务时长 2/5/15 分钟可选 ③ 完成后 Pulse + 数值变化 ④ 失败不羞耻→降级任务 |
| **更深链接** | "社交变轻松、变真诚" | 关系副本 + 共同成长 + 安全边界 | ① 关系页 = 可执行的沟通建议 ② 双人副本（共同任务） ③ 分享默认脱敏 ④ 关系数据权限开关 |
| **可积累资产** | "我每次用都有沉淀" | 工件变页面（Artifacts as Pages） | ① Chat 工件一键"保存为页面/钉住/变任务/加时间线" ② 全局搜索能搜到任何工件/洞察/任务 |

### 1.2 三条总原则（验收标准）

1. **用户永远掌控**：自动联动必须"可逆、可关闭、可撤销"
2. **输出必须可操作**：任何 AI 结论都要能一键变成任务/页面/标记
3. **资产必须可管理**：有"库"、能搜索、能归档、能版本化

---

## 二、双核布局架构

### 2.1 三层架构

| 层级 | 名称 | 说明 |
|-----|------|------|
| Zone A | Flow（对话流） | 时间的线性维度：对话、生成、即兴灵感、动态交互 |
| Zone B | State（面板态） | 空间的结构维度：状态、进度、曲线、沉淀 |
| Asset Layer | Library（资产库） | 隐形层：工件、页面、可搜索可组织 |

**核心定位**：对话生成资产、资产反哺对话的工作空间

### 2.2 桌面端布局

- **Zone A（Chat）**: 占 60%，常驻左侧
- **Zone B（Dashboard）**: 占 40%，固定 450px，可收起
- **自适应策略**：
  - 默认 60/40
  - 复杂图表/课程播放时自动"临时放大 Zone B"
  - 用户手动调整后记忆偏好
- **分割线**：可拖拽调整宽度

### 2.3 移动端布局

- **底部双 Tab 导航**（类 TikTok/小红书）
  - Tab 1: Chat（对话）
  - Tab 2: Dashboard（功能区）
- **轻跃迁机制**：
  - Chat 内点开 Artifact Card → 先 Bottom Sheet 半屏展开摘要
  - 用户再点"在功能区打开"才进入功能区
  - 不把用户从对话"抛出去"
- **底部导航材质**：毛玻璃效果

---

## 三、视觉设计系统

### 3.1 色彩体系：暖调极简主义

#### 基础语义色板

| 语义变量 | 亮色模式 | 暗色模式 | 应用场景 |
|---------|---------|---------|---------|
| `--bg-app` | #FFFFFF | #191919 | 应用主体背景 |
| `--bg-sidebar` | #FBFBFA | #202020 | 侧边栏、功能区背景 |
| `--bg-hover` | #F1F1EF | #2C2C2C | 按钮悬停、列表项激活态 |
| `--border-subtle` | #E9E9E7 | #373737 | 极细分割线 |
| `--text-primary` | #37352F | #D4D4D4 | 正文、标题 |
| `--text-secondary` | #787774 | #9B9B9B | 辅助信息、时间戳 |
| `--text-tertiary` | #ACABA9 | #606060 | 禁用状态 |

#### 功能语义色板（粉笔色原则：低饱和度、高明度）

| 语义 | 背景色(亮/暗) | 文字色(亮/暗) | 用途 |
|-----|--------------|--------------|------|
| 玄学紫 | #F3E5F5 / #2A2430 | #692B96 / #D0A3E8 | Mystic Tab、塔罗、星盘 |
| 建议蓝 | #E3F2FD / #1F282D | #1565C0 / #64B5F6 | 每日建议卡片 |
| 状态绿 | #E8F5E9 / #242B26 | #2E7D32 / #81C784 | 完成进度、健康指标 |
| 警示橙 | #FFF3E0 / #36291F | #EF6C00 / #FFB74D | 异常波动、未完成任务 |

### 3.2 排版系统

#### 字体策略

```css
/* 主字体（90% 界面） */
font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;

/* 衬线字体（玄学/长文标题） */
font-family: ui-serif, Georgia, Cambria, "Times New Roman", serif;

/* 等宽字体（代码/数据） */
font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
```

**Serif 使用规则**：
- 仅用于 Mystic 模块的标题/引言
- 正文保持 Sans
- 提供"关闭氛围模式"开关

#### 字号阶梯（Major Third 1.250）

| 级别 | 字号 | 行高 | 字重 | 用途 |
|-----|-----|-----|-----|------|
| H1 | 30px | 1.2 | 600 | 功能区模块名称 |
| H2 | 24px | 1.3 | 600 | 卡片标题 |
| H3 | 20px | 1.4 | 500 | 图表标题 |
| Body | 16px | 1.6 | 400 | 聊天内容、正文 |
| Caption | 14px | 1.5 | 400 | 元数据、图例 |
| Tiny | 12px | 1.0 | 500 | 标签、上角标 |

### 3.3 间距系统：8px 网格

| Token | 值 | 用途 |
|-------|-----|------|
| Spacer-1 | 4px | 图标与文字间距 |
| Spacer-2 | 8px | 按钮内部 Padding |
| Spacer-3 | 12px | 卡片内部元素间距 |
| Spacer-4 | 16px | 卡片 Padding、段落间距 |
| Spacer-6 | 24px | 模块分割 |
| Spacer-8 | 32px | 页面边缘 Padding |

### 3.4 阴影系统（克制使用）

| 层级 | 阴影 | 用途 |
|-----|------|------|
| Flat | 无阴影，仅 1px border | 绝大多数卡片 |
| Hover | `0 2px 4px rgba(0,0,0,0.02)` | 鼠标悬停 |
| Float | `0 8px 16px rgba(0,0,0,0.08)` | 悬浮元素（Omnibar、下拉菜单） |

---

## 四、Zone A：Chat 交互区

### 4.1 输入区：Omnibar（悬浮胶囊）

**位置与外观**：
- 距底部 24px 悬浮，左右留 Margin
- 圆角 `rounded-xl`（12px）
- 背景 `bg-app`，边框 `--border-subtle`
- 阴影 `shadow-float`
- 自适应高度，最大 40vh

**功能**：

| 功能 | 说明 |
|-----|------|
| 多模态输入 | 左侧"+"：上传图片、语音输入、文件分析 |
| Slash Command | 输入 `/` 弹出菜单：`/status`、`/tarot`、`/learn`、`/reset` |
| Context Pills | 上方显示引用标签，可"锁定/清除引用" |

**交互细节**：
- 输入区永远不遮挡最后一条消息（自动抬升）
- 未输入时发送按钮灰色轮廓，输入后变实心

### 4.2 消息流设计

#### 用户消息
- 右对齐
- 去气泡化：极淡灰色背景 `bg-stone-50` 或仅文字
- 弱化显示（用户已知自己说了什么）

#### AI 回复：Block 化三段式结构（必须）

每次 Agent 输出默认分成三块：

| Block | 类型 | 说明 |
|-------|-----|------|
| 一句话结论 | Callout | 给用户"我懂了" |
| 原因与证据 | Toggle | 默认折叠，避免长文墙 |
| 下一步行动 | Task Blocks | 最多 3 个，可选 2/5/15 分钟 |

**渲染效果**：
- 无背景，直接在画布渲染
- Markdown 完整支持
- 流式打字机效果：光标处闪烁黑色方块 `▍`

### 4.3 Artifact Card（工件卡片）

**Chat 内呈现**：
- 摘要卡 + 1 个关键数字 + CTA
- 不在聊天流硬塞复杂组件

**右上角三键（必须标准化）**：

| 按钮 | 功能 |
|-----|------|
| Pin | 钉到对应 Tab 顶部（短期可见） |
| Save as Page | 保存为页面进入资产库（长期可管理） |
| To Quest | 转为任务/副本（立刻行动） |

**展开层级**：
1. Chat 内轻展开（Bottom Sheet / inline 详情）
2. Zone B 详情页（高亮定位）

### 4.4 孪生回写：Update Diff Bar

当对话导致孪生更新时，显示轻量 Diff Bar：

```
将更新：能量 +2（因睡眠改善）｜连接 -1（因冲突事件）
[✅ 应用更新] [✎ 纠正] [⏸ 暂不更新]
```

**设计要点**：
- 不要只 Toast 或 Pulse
- 可控联动：默认只高亮不强制切 Tab
- 用户点击"在功能区打开"才自动跳转

---

## 五、Zone B：Dashboard 功能区

### 5.1 Tab 导航设计

**样式**："文本 + 底部游标"

| 状态 | 样式 |
|-----|------|
| 未选中 | `text-secondary`，Regular |
| 选中 | `text-primary`，Medium，底部 2px 黑色横线（Framer Motion 滑动动画） |

**Tab 结构**（6 个）：

| Tab | 名称 | 说明 |
|-----|-----|------|
| 1 | 概览 Overview | 聚合状态、今日建议 |
| 2 | 状态 Status | 五维状态详情 |
| 3 | 趋势 Trends | 曲线、图表、事件标记 |
| 4 | 任务 Quests | 任务列表、副本 |
| 5 | 关系 Relations | 人卡、双人副本 |
| 6 | 探索 Explore | Mystic、课程、工件库 |

**注意**：Profile/Settings 放进右上角用户菜单，Tab 留给高频功能

### 5.2 概览 Tab：Bento Grid 布局

**固定 5 个卡位**（行动优先，不是展示优先）：

| 卡位 | 内容 | 说明 |
|-----|------|------|
| 1 | 今日一句话洞察 | 可刷新但有限制 |
| 2 | 今日三任务 | 最小行动，2/5/15 分钟 |
| 3 | 五维状态条 | 可点进详情 |
| 4 | 风险提示 | 折叠默认关 |
| 5 | 最近钉住/最近资产 | 来自 Chat |

**每日建议卡片样式**：
- 占据顶部通栏
- 背景 `bg-blue-50`，左侧 4px 深蓝竖线
- 右上角：刷新图标 + 固定图标

### 5.3 趋势 Tab：解释型图表

**图表极简准则**：

| 规则 | 说明 |
|-----|------|
| 去网格化 | 移除背景网格，或仅保留极淡水平虚线 |
| 去轴线化 | 隐藏 X/Y 轴实线，仅保留刻度标签（12px `text-secondary`） |
| 曲线风格 | monotone 插值，线宽 2px |
| 颜色 | 单色为主：深灰 #37352F，对比用虚线/浅灰 |
| 极值标注 | 仅 Max/Min 显示彩色圆点 |

**Tooltip**：分离式 Tooltip（右上角固定显示数值，不遮挡视线）

**事件解释**（核心差异）：
- 趋势图下方必须有事件标记（来自 Timeline）
- 事件点击 → 回到那段对话/那张工件页
- 让"趋势"变成"故事"，而不是"冷线"

### 5.4 探索 Tab：Mystic 玄学模块

**氛围切换**（主题层，不是主 UI 逻辑）：
- 仅在"探索"内出现，默认不干扰主流程
- 背景可加 2% 紫罗兰色调或 Mesh Gradient
- 标题切换为 Serif
- 提供"简洁模式"开关

**星盘设计**：
- 极简同心圆（SVG，3 层）
- 行星符号：线性图标（Line Icons）
- 相位连线：悬停时才高亮，平时隐藏（渐进式披露）
- 下方生成"解读卡片"，点击翻转显示策略

**塔罗设计**：
- 中央显示牌背（几何纹理）
- 点击 → 上浮 → 翻转 → 展现牌面
- 插画风格：单色线稿或蚀刻版画风格
- **必须**：输出带一个"行动建议块"，可一键转任务

**性能降级**：
- 移动端低性能设备关闭 3D
- 支持 Reduce Motion
- Mesh/紫调默认弱

### 5.5 关系 Tab

**关系页结构**：
- 人卡：头像 + 关系类型 + 合盘概要
- 可执行的沟通建议
- 双人副本（共同任务）

**隐私控制**：
- 分享默认脱敏
- 关系数据权限开关（对谁可见）

---

## 六、游戏化设计：隐性反馈

### 6.1 默认模式（Notion 风）

| 触发 | 反馈 |
|-----|------|
| 任务完成 | 小幅 Pulse + 数值变化（+1/+2） |
| 成就达成 | 几何徽章存入 Profile/档案页，不占主界面 |
| 数据更新 | 背景色闪烁（淡色高光 500ms 渐变回透明） |

**Pulse 颜色**：同色系淡高光（+20%），避免黄色与"警示"混淆

### 6.2 可选 RPG 模式

- 设置开关："显示角色等级与经验条"
- 打开后，Overview 顶部出现极简经验线
- 满足"游戏党"，不破坏默认质感

---

## 七、分享系统

### 7.1 Share Card Generator

每个关键工件都能一键生成图卡：

| 功能 | 说明 |
|-----|------|
| 数据脱敏 | 隐藏数值、姓名、具体事件 |
| 模板选择 | 极简 Notion 风 3-5 套 |
| 适配比例 | 小红书竖图、TikTok 竖屏 |

### 7.2 关系页的"共同副本"

- 分享不是"晒自己"，而是"邀请你一起升级"
- 示例："我俩的沟通副本：今天一起做 5 分钟"

---

## 八、全局功能

### 8.1 全局搜索（⌘K）

默认搜索范围：
- 工件
- 任务
- 关系页
- 趋势事件
- 对话历史

### 8.2 资产库入口

- 顶部 ⌘K 搜索包含资产
- "探索" Tab 二级入口：工件库 / 我的页面
- Chat 保存动作 = 保存为 Page 并自动归类

---

## 九、动效规范

### 9.1 核心原则

- Duration < 200ms
- 极快且无感知

### 9.2 关键动效

| 场景 | 动效 |
|-----|------|
| Tab 切换 | 底部横线滑动（Layout ID Animation） |
| 数据更新 | 背景色闪烁（高光 → 透明，500ms） |
| 流式输出 | 打字机效果 + 闪烁光标 ▍ |
| 卡片保存 | "Pin" 后卡片飞入 Zone B（流体动效） |
| 加载 | 骨架屏 + Shimmer 微光 |
| 乐观 UI | 立即反馈，失败回滚 |

### 9.3 拖拽（P2 后置）

- DnD 拖拽桥成本高
- MVP 先做 Pin/保存
- 移动端难实现，后置

---

## 十、技术栈

| 层级 | 选型 |
|-----|------|
| 框架 | Next.js (App Router) + RSC |
| 样式 | Tailwind CSS |
| 组件 | shadcn/ui / Radix UI |
| 图标 | Lucide React |
| 图表 | Visx / Recharts（去轴线去网格） |
| 状态 | Zustand |
| 动效 | Framer Motion |
| 长列表 | 虚拟滚动 |

---

## 十一、里程碑规划

### Milestone 1：双核骨架 + Block Chat（首发）

- [ ] 双核布局（桌面）+ 双 Tab（移动）
- [ ] Omnibar（悬浮）+ /commands
- [ ] AI 输出 Block 化（三段式）
- [ ] Pin / Save as Page / To Quest 三键

**交付标准**：能跑通"对话→资产→行动"

### Milestone 2：孪生回写 + 趋势事件（建立信任）

- [ ] Update Diff Bar（应用/纠正/暂停）
- [ ] 趋势图 + Timeline 事件标记
- [ ] 全局搜索（⌘K）能搜到工件与事件

**交付标准**："被理解"和"可积累资产"做实

### Milestone 3：关系副本 + 分享系统（增长飞轮）

- [ ] 关系页（人卡）+ 双人副本
- [ ] Share Card Generator（默认脱敏）
- [ ] 轻量 Guild / 小队（可后置）

**交付标准**："更深链接"和"传播"做起来

### Milestone 4：Mystic + 课程（扩展内容）

- [ ] Mystic 视觉切换与降级
- [ ] 课程播放 + 笔记同步（双屏）

---

## 十二、无障碍验收清单

- [ ] 全键盘可操作
- [ ] 焦点可见
- [ ] 对比度达标（WCAG AA）
- [ ] 动效可关（Reduce Motion）
- [ ] 字号可放大不崩

---

## 总结

**一句话**：A 的质感 + B 的闭环 + Notion 的核心资产能力

把每一次对话都变成"可编辑、可组织、可回写、可分享"的页面资产；
并用最小行动把资产变成成长。

**最终形态**：一个看起来像**艺术品**，用起来像**瑞士军刀**的智能工作空间。
