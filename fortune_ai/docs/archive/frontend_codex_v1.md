---
name: fortune-ai-frontend-codex-v1
description: 基于 `idea v1.md` 的组合方案，对标 Notion 的“页面/Blocks/搜索/可编辑资产”体验，并与 `bp v1.md` 的数字孪生与社交增长架构对齐。
source:
  - fortune_ai/docs/frontend/idea v1.md
  - fortune_ai/docs/architech/bp v1.md
tab_strategy: B-6-tabs
---

# Fortune AI 前端设计方案 v1（Codex）

> 目标：不额外“发明新设计”，仅从 `fortune_ai/docs/frontend/idea v1.md` 的 idea 进行选择与组合；并用 `fortune_ai/docs/architech/bp v1.md` 的产品架构/增长/合规边界校准，形成一份可直接交付 Figma + 前端的网页前端设计说明。

---

## 0. 范围与验收口径

### 0.1 范围（做什么）

- 对标 Notion 的核心：`一切皆页面（Page）`、`一切皆 Blocks`、`可编辑/可组织/可搜索/可回溯`。
- 采用 `双核布局 + 资产层`：`Zone A（Flow/Chat）` + `Zone B（State/Dashboard）` + `Asset Layer（Library）`。
- 采用 `B 方案：6 Tabs`：`概览 / 状态 / 趋势 / 任务 / 关系 / 探索`（Profile/Settings 进入右上角用户菜单）。

### 0.2 非范围（不做什么）

- 不输出具体前端实现代码；仅输出结构/组件/交互/视觉 token 规范。
- 不引入 `idea v1.md` 之外的全新功能概念（仅做组织与组合、少量必要的落地约束）。

### 0.3 三条总原则（来自 `idea v1.md`，作为验收标准）

1. **用户永远掌控**：自动联动必须 `可逆 / 可关闭 / 可撤销`。
2. **输出必须可操作**：任何 AI 结论都能一键变成 `任务 / 页面 / 标记`。
3. **资产必须可管理**：有 `库`、能 `搜索`、能 `归档`、能 `版本化`。

---

## 1. 终极价值 → UI 机制（来自 `idea v1.md`，并与 `bp v1.md` 对齐）

| 终极价值 | 用户当下感受 | 关键体验 | UI 必须落地的机制（可验收） |
|---|---|---|---|
| 被理解 | “TA懂我”而非“TA输出模板” | 可解释 + 可纠错 + 可追溯 | `Update Diff Bar`（含原因） + `一键纠错` + `Context Pills`（锁定/清除） + 关键结论可回溯到对话证据 |
| 变更好 | “我做得到、我坚持得住” | 最小行动 + 即刻反馈 + 渐进成长 | 今日只给 `1–3` 个任务 + 任务时长 `2/5/15` 分钟 + 完成后 `Pulse+数值变化` + 失败→`降级任务` |
| 更深链接 | “社交变轻松、变真诚” | 关系副本 + 共同成长 + 安全边界 | 关系页=可执行沟通建议 + `双人副本` + 分享默认脱敏 + 权限开关 |
| 可积累资产 | “我每次用都有沉淀” | 工件变页面（Artifacts as Pages） | Chat 工件一键 `保存为页面/钉住/变任务/加时间线` + `全局搜索 ⌘K` 可搜到任何资产/洞察/任务 |

> `bp v1.md` 对齐点：精神数字孪生是核心资产（Page）；智能体通过 `Chat Mode` 生成资产，并在 `Function/State` 区显化为可操作结果；社交系统与分享能力必须在 UI 结构层预埋（而不是后补）。

---

## 2. 信息架构（B 方案：6 Tabs + Asset Layer）

### 2.1 三层架构

| 层级 | 名称 | 说明 |
|---|---|---|
| Zone A | Flow（对话流） | 时间线性：对话、生成、即时纠错、产物入口 |
| Zone B | State（面板态） | 空间结构：状态/趋势/任务/关系等稳定视图 |
| Asset Layer | Library（资产库） | 隐形层：Page 资产库（可搜索/可归档/可回溯） |

核心定位：**对话生成资产、资产反哺对话的工作空间**。

### 2.2 桌面端布局（来自 `idea v1.md`）

- `Zone A` 常驻左侧，默认占比 `40%–50%`，支持拖拽分割线调整。
- `Zone B` 右侧固定侧栏（建议默认宽 `450px`），可收起。
- 联动策略：默认“高亮提示”不强制跳转；用户点击 `在功能区打开` 才切 Tab/定位。

### 2.3 移动端布局（来自 `idea v1.md`）

- 底部 `双 Tab`：`Chat` / `Dashboard`（高频、最短路径）。
- “轻跃迁”：在 Chat 点击 Artifact → 先 `Bottom Sheet` 半屏摘要 → 再选择 `在功能区打开`。

### 2.4 全局入口

- `⌘K` 全局搜索/命令面板：默认覆盖 `工件/页面/任务/关系页/趋势事件/对话`。
- `探索（Explore）` Tab 二级入口包含：`工件库 / 我的页面`。

---

## 3. 页面模型（Notion 化落地：Page + Blocks）

### 3.1 Page（资产）类型（建议最小集合）

- `twin-page`：精神数字孪生（核心资产页，承载 `L1/L2/L3` 信息的聚合视图）。
- `artifact-page`：由对话生成的分析/建议/卡片沉淀页（来源可回溯）。
- `quest-page`：任务与副本页（含 2/5/15 分钟粒度与完成反馈）。
- `relation-page`：关系页（可执行沟通建议 + 双人副本 + 权限）。
- `event-page`：关键事件页（趋势解释的锚点，可跳回对话证据）。
- `mystic-page`：玄学产物页（必须包含行动建议块，且合规提示）。
- `course-page`：课程与笔记页（可与 Chat 双屏同步）。

> 说明：Dashboard 的 Tab 更像“视图（View）”，底层统一落到 Page 与 Block 模型，避免 “BI 仪表盘化、难沉淀”。

### 3.2 Blocks（来自 `idea v1.md` 的最小闭环）

- `callout`：一句话结论（“我懂了”）。
- `toggle`：原因与证据（默认折叠）。
- `task`：下一步行动（最多 3 个；2/5/15 分钟）。
- `chart`：趋势图（去轴/去网格；事件标记）。
- `diff`：回写 Diff（应用/纠正/暂停）。
- `card`：Artifact Card（摘要/三键/CTA）。

---

## 4. 核心交互（Flow → Asset → Action → State）

### 4.1 Chat 输出强制结构（三段式 Blocks）

每次智能体回复默认分为：

1. `callout`：一句话结论（可直接复制/保存）。
2. `toggle`：原因与证据（默认折叠，避免长文墙）。
3. `task`：下一步行动（最多 3 个，可选 2/5/15 分钟）。

### 4.2 Artifact Card：三键标准化（肌肉记忆）

每个工件卡片右上角固定三键：

- `Pin`：钉到对应 Tab 顶部（短期可见）。
- `Save as Page`：保存为 Page，进入资产库（长期可管理）。
- `To Quest`：转为任务/副本（立刻行动）。

### 4.3 Update Diff Bar：信任的生命线（来自 `idea v1.md`）

当对话导致孪生/状态更新时，展示轻量 Diff：

```
将更新：能量 +2（因睡眠改善）｜连接 -1（因冲突事件）
[✅ 应用更新] [✎ 纠正] [⏸ 暂不更新]
```

要求：

- 必须能 `纠正`（没有纠错，长期记忆必崩）。
- `应用` 后在 `状态/趋势` 中产生可回溯事件锚点（事件→对话证据）。
- `暂停` 不丢失：进入待处理列表（可在任务或通知中心处理）。

### 4.4 趋势解释：让曲线变故事（来自 `idea v1.md`）

- 趋势图必须有 `Timeline 事件标记`。
- 事件点击 → 回到 `那段对话` 或 `对应的 artifact-page/event-page`。

---

## 5. Zone A（Chat）组件规范（可直接交给前端）

### 5.1 Omnibar（悬浮胶囊输入）

来自 `idea v1.md` 的关键规范：

- 位置：距离底部 `24px` 悬浮；左右留 Margin。
- 外观：`rounded-xl`；`bg-app`；边框 `--border-subtle`；阴影 `shadow-float`。
- 高度：自适应，最大 `40vh`。
- 交互：输入区永远不遮挡最后一条消息（自动抬升）。

功能：

- 左侧 `+`：多模态菜单（图片/语音/文件）。
- 输入 `/`：弹出 Slash Command 菜单（示例：`/status`、`/tarot`、`/learn`、`/reset`）。
- `Context Pills`：引用标签（可锁定/清除），防止 AI “引用错对象”。

### 5.2 Message List（去气泡化）

- 用户消息：右对齐、弱化（极淡灰底或仅文字）。
- 智能体回复：左对齐、无背景；支持 Markdown；生成时显示 `▍` 流式光标。

---

## 6. Zone B（Dashboard）= 6 Tabs（B 方案确认）

Tab 样式：文本 + 底部游标（选中 `2px` 下划线滑动动效）。

### 6.1 Tab 1：概览（Overview）— 行动优先（固定 5 卡位）

来自 `idea v1.md`：

1. 今日一句话洞察（可刷新但有限制）
2. 今日三任务（2/5/15 分钟）
3. 五维状态条（可点进详情）
4. 风险提示（默认折叠关）
5. 最近钉住 / 最近资产（来自 Chat）

### 6.2 Tab 2：状态（Status）— 数字孪生面板（对齐 `bp v1.md`）

- `L1 元数据`：星盘/命理/MBTI 等（只展示与解释相关的必要摘要；隐私可控）。
- `L2 动态状态`：能量/情绪/连接/成长等（对应 `bp v1.md` 的“动态状态层”）。
- 强制入口：任何状态变化必须可回溯到 `diff` 或 `event`（被理解的证据链）。

### 6.3 Tab 3：趋势（Trends）— 解释型图表

来自 `idea v1.md` 的图表准则：

- 去网格/去轴线：仅保留刻度标签（`12px`、`text-secondary`）。
- 曲线：`monotone`，线宽 `2px`，主色深灰 `#37352F`。
- Tooltip：分离式（固定右上角显示数值，避免遮挡）。
- 事件解释：事件标记 → 回到对话/工件页。

### 6.4 Tab 4：任务（Quests）— 最小行动与副本

- 默认只呈现 `1–3` 个任务（每日最小闭环）。
- 任务粒度：`2/5/15` 分钟可选；失败自动给 `降级任务`（不羞耻）。
- 完成反馈：`Pulse + 数值变化`（默认隐性反馈；可选显性 RPG）。

### 6.5 Tab 5：关系（Relations）— 更深链接与安全边界

来自 `idea v1.md` + `bp v1.md`：

- 关系页 = 可执行沟通建议（不是静态档案）。
- 双人副本（共同任务）。
- 分享默认脱敏 + 权限开关（对谁可见）。
- 预留“社交玩法入口”（来自 `bp v1.md`）：`能量打赏 / 好运接龙 / 吐槽接龙`（均以机制化卡片呈现，并与分享卡生成器联动）。

### 6.6 Tab 6：探索（Explore）— Mystic / 课程 / 工件库

来自 `idea v1.md`：

- Mystic 只在探索内出现（默认不干扰主流程）。
- 主题层：背景可加 `2%` 紫调或 Mesh；标题 Serif；提供“简洁模式”；支持 Reduce Motion 降级。
- 玄学输出必须回落到行动：每次输出包含一个 `task` 块，并可一键转任务。
- 二级入口：`工件库 / 我的页面`（Asset Layer 入口之一）。

---

## 7. 视觉 Token（直接复用 `idea v1.md` 的暖调极简）

### 7.1 Neutral Tokens（语义化变量）

| token | light | dark | use |
|---|---|---|---|
| `--bg-app` | `#FFFFFF` | `#191919` | 主背景 |
| `--bg-sidebar` | `#FBFBFA` | `#202020` | 侧栏/功能区背景 |
| `--bg-hover` | `#F1F1EF` | `#2C2C2C` | Hover/Active |
| `--border-subtle` | `#E9E9E7` | `#373737` | 细分割线 |
| `--text-primary` | `#37352F` | `#D4D4D4` | 正文/标题 |
| `--text-secondary` | `#787774` | `#9B9B9B` | 辅助信息 |
| `--text-tertiary` | `#ACABA9` | `#606060` | 次要/禁用 |

### 7.2 Functional Tokens（粉笔色原则）

| token | light | dark | use |
|---|---|---|---|
| `--mystic` | `#F3E5F5` | `#2A2430` | Mystic 氛围/选中态 |
| `--advice` | `#E3F2FD` | `#1F282D` | 每日建议卡 |
| `--status` | `#E8F5E9` | `#242B26` | 状态良好/进度 |
| `--alert` | `#FFF3E0` | `#36291F` | 风险提示/异常 |

### 7.3 Typography（来自 `idea v1.md`，保留 Serif 切换）

- Sans：用于 90% 界面（对标 Notion 的“原生应用感”）。
- Serif：仅用于 Mystic/长文标题（氛围切换）。
- Mono：代码/数据/度数展示。

### 7.4 Spacing & Shadow（来自 `idea v1.md`）

- 8px 网格：`4/8/12/16/24/32`。
- Shadow：`hover` 极淡；`float` 用于 Omnibar/Popover；动效 `duration < 200ms`。

---

## 8. 隐性游戏化（默认）+ 可选显性 RPG（来自 `idea v1.md`，并与 `bp v1.md` 的“练级爽感”一致）

默认（Notion 风）：

- 完成任务：小幅 `Pulse` + 数值变化（`+1/+2`）。
- 成就：几何徽章收纳在 Profile/档案页（不占主界面）。
- 数据更新：卡片背景 `Flash` 高光一闪（500ms 渐回）。

可选（开关）：

- 显示角色等级与经验条（开启后 Overview 顶部出现极简经验线）。

---

## 9. 分享与增长（来自 `idea v1.md` + `bp v1.md`）

### 9.1 Share Card Generator（默认脱敏）

- 任何关键工件一键生成分享图卡。
- 默认脱敏：隐藏数值/姓名/具体事件。
- 模板：极简 Notion 风 `3–5` 套。
- 比例：适配小红书竖图/TikTok 竖屏。

### 9.2 社交机制入口（bp 对齐）

- `能量打赏`：以“充能卡片”呈现（先虚拟积分/道具，避免现金敏感）。
- `好运接龙`：群体仪式感卡片（参与人数→Buff 强度展示，但不夸张）。
- `吐槽接龙`：安全宣泄 + 重评训练（默认合规语气）。

---

## 10. 合规与安全（来自 `bp v1.md`）

- 玄学/运势模块：禁止“绝对命运预测”措辞；统一以“建议/倾向/自我觉察”表达。
- 危机词（抑郁/自杀等）：强制触发危机干预流程入口（显著但克制）。
- 打赏/交易：早期仅虚拟积分/道具；UI 上避免现金引导与夸大承诺。

---

## 11. 里程碑（沿用 `idea v1.md` 的体验里程碑）

### Milestone 1：双核骨架 + Block Chat（最先上线）

- 双核布局（桌面）+ 双 Tab（移动）
- `Omnibar` + `/commands`
- AI 输出 `三段式 Blocks`
- `Pin / Save as Page / To Quest` 三键

### Milestone 2：回写 Diff + 趋势事件解释（建立信任）

- `Update Diff Bar`（应用/纠正/暂停）
- 趋势图 + Timeline 事件标记
- `⌘K` 可搜工件与事件

### Milestone 3：关系副本 + 分享系统（增长飞轮）

- 关系页 + 双人副本
- Share Card Generator（默认脱敏）

### Milestone 4：Mystic 主题层 + 课程（扩展内容）

- Mystic 氛围切换与降级
- 课程播放 + 笔记同步（双屏）

